! function(e, t) {
  "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : (e = "undefined" != typeof globalThis ? globalThis : e || self).flowplayer = t()
}(this, (function() {
  "use strict";
  const e = [].slice;

  function t() {}

  function r(e, t, ...r) {
    for(const r in t) e[r] = t[r];
    return e
  }

  function n(...e) {
    return e.slice(1).reduce((e, t) => r(e, t), e[0] || {})
  }

  function i(e) {
    return Array.isArray(e) ? e.slice(0) : e.split(".")
  }

  function a(e, t, r) {
    const n = i(t);
    for(; n.length;) {
      if(null == e) return r;
      const t = n.shift();
      if("string" != typeof t) return r;
      e = e[t]
    }
    return null == e ? r : e
  }

  function o(e, t, r) {
    const n = (t = i(t)).pop(),
      o = a(e, t);
    return o && n && (o[n] = r), e
  }

  function s(e) {
    const t = "number" == typeof e ? e : parseInt(e, 10);
    return (t > 9 ? "" : "0") + t
  }

  function u(e) {
    if(isNaN(e) || e >= Number.MAX_SAFE_INTEGER) return "";
    const t = e < 0 ? "-" : "";
    e = Math.round(Math.abs(e));
    const r = Math.floor(e / 3600);
    let n = Math.floor(e / 60);
    return e -= 60 * n, r >= 1 ? (n -= 60 * r, t + r + ":" + s(n) + ":" + s(e)) : t + s(n) + ":" + s(e)
  }

  function l(t) {
    return e.call(t)
  }

  function c(e) {
    return "string" != typeof e ? e : "false" != e && ("true" == e || (isNaN(Number(e)) ? !!e : !!Number(e)))
  }
  var d = Object.freeze({
    __proto__: null,
    noop: t,
    extend: r,
    assign: n,
    make_path: i,
    lens: a,
    put: o,
    get: function(e, t, r) {
      const n = new XMLHttpRequest;
      n.open("GET", e, !0), n.onreadystatechange = function() {
        const e = n.status;
        e >= 400 && r && r(e), 200 == e && 4 == n.readyState && t(n.responseText)
      }, n.send()
    },
    zero_pad: s,
    prettyTime: u,
    toArray: l,
    box: function(e) {
      const t = {
        val: e
      };
      return function(e) {
        return void 0 !== e && (t.val = e), t.val
      }
    },
    as_bool: c
  });
  const f = !! function() {
      let e = !1;
      try {
        const t = Object.defineProperty({}, "passive", {
          get: function() {
            e = !0
          }
        });
        window.addEventListener("testPassive", null, t), window.removeEventListener("testPassive", null, t)
      }
      catch (e) {}
      return e
    }() && {
      passive: !0
    },
    h = ["touchstart", "touchmove"];

  function p(e) {
    var t = e;
    return t.emit = function(e, n, i = {}) {
      const a = function(e) {
        const t = document.createEvent("Event");
        return t.initEvent(e, !1, !0), t
      }(e);
      return n && r(a, {
        data: n || {}
      }), t.dispatchEvent(a), !1 === i.return_self ? a : t
    }, t.on = function(e, r) {
      return "string" == typeof e && (e = e.split(" ")), e.forEach((function(e) {
        return function(e) {
          return ~h.indexOf(e)
        }(e) ? t.addEventListener(e, r, f) : t.addEventListener(e, r)
      })), t
    }, t.off = function(e, r) {
      return t.removeEventListener(e, r), t
    }, t.one = t.once = function(e, r) {
      return t.on(e, (function n(i) {
        t.off(e, n), r(i)
      }))
    }, t
  }
  const v = Array.isArray,
    g = "undefined" != typeof window && p(window),
    m = "undefined" != typeof document && p(document),
    y = ["span", "a", "em", "p", "i"];

  function _(e, t, r) {
    var n = b(document.createElement(e));
    if(v(t) && (r = t, t = !1), r || (r = []), r && !v(r) && (r = [r]), r.length && r.filter(e => !!e).forEach(e => n.append(e)), "object" != typeof t) return n;
    for(var i in t) i in n ? n[i] = t[i] : n.setAttribute(i, t[i]);
    return n
  }

  function b(e) {
    return void 0 === e || function(e) {
      return e && e.__flowplayer__
    }(e) ? e : function(e) {
      var t = e.tagName;
      e.__flowplayer__ = 1, e.find = function(t) {
        var r = e.querySelector(t);
        return r ? b(r) : r
      }, e.html = function(t) {
        return e.innerHTML = t, e
      }, e.empty = function() {
        return e.innerHTML = "", e
      }, e.offset = function() {
        var t = {
            top: 0,
            left: 0
          },
          r = e;
        do {
          t.left += r.offsetLeft || 0, t.top += r.offsetTop || 0
        } while(r = r.offsetParent);
        return t
      }, e.innerWidth = function() {
        var t = getComputedStyle(e);
        return e.clientWidth - parseFloat(t.paddingLeft) - parseFloat(t.paddingRight)
      };
      var r = e.insert = function(t, r) {
        return r ? v(r) ? r.map((function(r) {
          return e.insert(t, r)
        }))[0] : b(r = "string" == typeof r ? e.insertAdjacentHTML(t, r) : e.insertAdjacentElement ? e.insertAdjacentElement(t, r) : e.appendChild(r)) : r
      };
      return e.append = r.bind(e, "beforeend"), e.prepend = r.bind(e, "afterbegin"), e.css = function(t, r) {
        if("object" == typeof t) {
          for(const r in t) e.css(r, t[r]);
          return e
        }
        return void 0 === r && "string" == typeof t ? getComputedStyle(e)[t] : ("number" == typeof r && (r += "px"), e.style[t] = r, e)
      }, e.show = function() {
        return e.css({
          display: ~y.indexOf(t) ? "inline" : "block"
        })
      }, e.hide = function() {
        return e.css({
          display: "none"
        })
      }, e.remove = function() {
        var t = e.parentNode;
        t && t.removeChild(e)
      }, e.attr = function(t, r) {
        return null == r ? e.getAttribute(t) : (e.setAttribute(t, r), e)
      }, e.txt = function(t) {
        return e.textContent = t, e
      }, e.fp = function(t) {
        return e.addClass("fp-" + t)
      }, e.addClass = function(t) {
        return t.split(" ").forEach((function(t) {
          e.hasClass(t) || (e.className += (e.className ? " " : "") + t)
        })), e
      }, e.removeClass = function(t) {
        const r = t.split(" ");
        var n = e.className.split(" ");
        return e.className = n.filter((function(e) {
          return !~r.indexOf(e)
        })).join(" "), e
      }, e.toggleClass = function(t, r) {
        return void 0 === r && (r = !e.hasClass(t)), r ? e.addClass(t) : e.removeClass(t)
      }, e.findAll = function(t) {
        return l(e.querySelectorAll(t))
      }, e.hasClass = function(t) {
        return ~e.className.split(" ").indexOf(t)
      }, e
    }(p(e))
  }

  function E(e, t) {
    if("string" == typeof e && "<" == e[0]) return _(e.slice(1, -1), t);
    if("string" != typeof e) return b(e);
    var r = t instanceof HTMLElement && t.querySelector(".fp-" + e) || document.querySelector(e);
    return r ? b(r) : void 0
  }
  const A = e => (t, r) => ("string" == typeof t && (t = {
    class: t
  }), _(e, t, r));
  Object.assign(E, {
    div: A("div"),
    img: A("img"),
    li: A("li"),
    ol: A("ol"),
    span: A("span"),
    p: A("p"),
    i: A("i"),
    a: A("a"),
    el: _,
    document: m,
    window: g
  });
  var T = [];

  function w() {
    return T.filter((function(e) {
      return !e.paused
    }))
  }
  var S = Object.freeze({
    __proto__: null,
    instances: T,
    playing: w
  });
  const k = "is-playing",
    R = "is-paused",
    L = "is-loading",
    O = "is-starting",
    C = "is-seeking",
    D = "is-waiting",
    x = "is-seamless",
    I = "is-touched";
  var M = Object.freeze({
    __proto__: null,
    PLAYING: k,
    FULLSCREEN: "is-fullscreen",
    PAUSED: R,
    MUTED: "is-muted",
    LOADED: "is-loaded",
    LOADING: L,
    STARTING: O,
    SEEKING: C,
    GRABBING: "is-grabbing",
    DISABLED: "is-disabled",
    SMALL: "is-small",
    TINY: "is-tiny",
    RTL: "is-rtl",
    ENDED: "is-ended",
    LIVE: "is-live",
    ERRORED: "is-error",
    WAITING: D,
    AUTOPLAY: "is-autoplay",
    SEAMLESS: x,
    NO_AUTOPLAY: "no-autoplay",
    TOGGLING: "is-toggling",
    LIVE_SEEKED: "is-live-seeked",
    NO_DVR: "no-timeline",
    HAS_POSTER: "has-poster",
    MENU_OPENED: "has-menu-opened",
    TOUCHED: I,
    HOVERED: "is-hovered",
    TOUCH_DEVICE: "is-touch-device",
    WILL_SEEK: "will-seek",
    SEEKABLE: "is-seekable"
  });

  function P(e, t) {
    try {
      var r = t.exec(e)[1];
      return parseFloat(r, 10)
    }
    catch (e) {
      return console.error(e), 0
    }
  }

  function N() {
    var e = "undefined" != typeof document && "undefined" != typeof window,
      t = e ? navigator.userAgent : "",
      r = /iP(hone|od)/i.test(t) && !/iPad/.test(t) && !/IEMobile/i.test(t),
      n = /Android/.test(t) && !/Firefox/.test(t),
      i = /IEMobile/.test(t),
      a = i ? P(t, /Windows Phone (\d+\.\d+)/) : 0,
      o = i ? P(t, /IEMobile\/(\d+\.\d+)/) : 0,
      s = /^((?!chrome|android).)*safari/i.test(t),
      u = /SamsungBrowser/.test(t),
      l = u && /SMART-TV/.test(t),
      c = r && /FBSN\/iOS/i.test(t),
      d = function() {
        if(!e) return !1;
        if(document.documentMode) return document.documentMode;
        for(var t = 9; t > 3; t--) {
          var r = document.createElement("div");
          if(r.innerHTML = "\x3c!--[if IE " + t + "]><span></span><![endif]--\x3e", r.getElementsByTagName("span").length) return t
        }
        return !1
      }();
    return {
      controls: !r && (!i || a >= 8.1 && o >= 11),
      video: function(t) {
        return e && document.createElement("video").canPlayType(t)
      },
      lang: e && (window.navigator.userLanguage || window.navigator.language),
      android: n,
      iphone: r,
      ie: d,
      safari: s,
      ios: e && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream,
      samsung: u,
      samsung_tv: u && l,
      fb_ios: c
    }
  }
  const F = "error",
    U = "click",
    B = "loadedmetadata",
    j = "loadeddata",
    G = "reap",
    H = "config",
    K = "landscape",
    V = "portrait";
  var q = Object.freeze({
    __proto__: null,
    MOUNT: "mount",
    ERROR: F,
    CONTEXT_MENU: "contextmenu",
    CLICK: U,
    DBL_CLICK: "dblclick",
    KEYUP: "keyup",
    KEYDOWN: "keydown",
    LOAD: "load",
    MOUSE_ENTER: "mouseenter",
    MOUSE_LEAVE: "mouseleave",
    MOUSE_UP: "mouseup",
    MOUSE_DOWN: "mousedown",
    MOUSE_MOVE: "mousemove",
    TOUCH_START: "touchstart",
    TOUCH_MOVE: "touchmove",
    TOUCH_END: "touchend",
    TOUCH_CANCEL: "touchcancel",
    RESIZE: "resize",
    SCROLL: "scroll",
    FULLSCREEN_ENTER: "fullscreenenter",
    FULLSCREEN_EXIT: "fullscreenexit",
    FULLSCREEN_CHANGE: "fullscreenchange",
    WEBKIT_NEEDKEY: "webkitneedkey",
    METADATA: B,
    DATA: j,
    PROGRESS: "progress",
    TIME_UPDATE: "timeupdate",
    LOAD_START: "loadstart",
    VOLUME_CHANGE: "volumechange",
    PAUSE: "pause",
    PLAYING: "playing",
    PLAY: "play",
    WAITING: "waiting",
    CAN_PLAY: "canplay",
    ENDED: "ended",
    SEEKED: "seeked",
    SEEKING: "seeking",
    DURATION_CHANGE: "durationchange",
    BEFORE_PLAY: "beforeplay",
    BEFORE_PAUSE: "beforepause",
    STATE: "state",
    CUEPOINTS: "cuepoints",
    CUEPOINT_START: "cuepointstart",
    CUEPOINT_END: "cuepointend",
    VIEW_ENTER: "viewenter",
    VIEW_LEAVE: "viewleave",
    SOURCE: "src",
    RECOVER: "recover",
    REAP: G,
    CONFIG: H,
    QUALITIES: "qualities",
    SET_QUALITY: "quality:set",
    NON_RECOVERABLE_ERROR: "error:fatal",
    RECOMMENDATIONS_READY: "recommendationsready",
    AUDIO_ONLY_SOURCE: "audioonlysource",
    LANDSCAPE: K,
    PORTRAIT: V,
    RENDER_PLUGIN: "renderplugin",
    DVR: "dvr",
    LIVE: "live",
    SEEK_QUEUED: "seek:queued",
    SEEK_CANCEL: "seek:cancel",
    PLUGIN_REGISTERED: "plugin:registered"
  });

  function W(e, t) {
    var r = t.clientWidth;
    t.toggleClass("is-small", r < 600).toggleClass("is-tiny", r < 400)
  }
  E.window && E.window.on(["load", "resize"], (function() {
    T.forEach((function(e) {
      var t = e.root;
      t.prevWidth != t.clientWidth && (e.emit("resize"), t.prevWidth = t.clientWidth)
    }))
  }));

  function z(e) {
    var t = function(e) {
      var t = e.getBoundingClientRect(),
        r = window.innerHeight,
        n = t.height,
        i = t.bottom,
        a = n / 5;
      return t.top <= a && t.top + n > r - a || i - n + a >= 0 && i < r + a
    }(e.root);
    return e.in_viewport === t || (e.in_viewport = t, e.emit(t ? "viewenter" : "viewleave")), e
  }
  E.window && E.window.on("scroll", (function() {
    T.forEach(z)
  }));
  var Y = [function(e, t, r) {
    var n = !0;
    t.addClass("flowplayer"), W(0, t), r.on(["loadstart", "resize"], (function() {
      W(0, t)
    })), r.on("state", (function(e) {
      Object.keys(r.playerState).forEach((function(r) {
        t.toggleClass(r, e.data[r])
      }))
    })), r.on("timeupdate", (function() {
      r.setState(D, !1)
    })), r.on(H, (function() {
      var n = r.paused && (!e.autoplay || t.hasClass("no-autoplay")) && 0 == r.currentTime;
      [L, O].forEach((function(e) {
        r.setState(e, n)
      }))
    })), r.on("ended", (function(t) {
      setTimeout((function() {
        t.defaultPrevented || (e.rewind && !r.loop && (e.autoplay && (e.autoplay = !1, r.setState("is-autoplay", !1), r.setState(x, !1)), r.setState(C, !0), r.one("seeked", (function() {
          r.setState(C, !1), r.pause(), r.setState(O, !0)
        })), r.currentTime = 0), r.one("timeupdate", (function() {
          r.setState("is-ended", !1)
        })), r.transitionState("is-ended", k, e.loop || e.rewind ? 0 : 300))
      }), 0)
    })), r.on(["seeking", "seeked"], (function(e) {
      r.setState(C, "seeking" == e.type), r.setState(R, r.paused), r.setState(k, !r.paused)
    })), r.on("ended", (function() {
      n = !0
    })), r.on(N().ios ? B : j, (function(e) {
      var t = "src" != e.type || "none" !== r.opt("preload");
      r.setState("is-loaded", t), r.setState(L, !t)
    })), r.on(["waiting", "canplay", "loadstart"], (function(t) {
      if(!r.hasState(C) && ("canplay" != t.type || e.autoplay || r.setState(D, !1), "loadstart" != t.type || "none" != r.opt("preload") || e.autoplay)) {
        if("loadstart" == t.type && e.autoplay) return r.one("playing", (function() {
          r.setState(D, !1)
        }));
        "waiting" == t.type && [k, R, O].forEach((function(e) {
          r.setState(e, !1)
        })), r.setState("is-ended", !1);
        var n = ["waiting"];
        r.setState(D, n.indexOf(t.type) > -1)
      }
    })), r.on(["playing", "pause"], (function(t) {
      var i = "playing" == t.type,
        a = r.currentTime == r.duration,
        o = i && n && e.autoplay || r.hasState(x) || r.hasState(D);
      if(i && (r.started = !0), !e.seamless && n && r.setState(x, !1), i && (n = !1), r.setState(D, !1).setState(O, !1), !a && !r.hasState(C)) {
        n && r.setState(O, !1);
        var s = i ? k : R,
          u = i ? R : k;
        r.transitionState(s, u, o ? 0 : 300), i && r.setState("no-autoplay", !1)
      }
    }))
  }, function(e, t, r) {
    var n = E.div({
      class: "fp-ratio"
    });
    n.set = function(e) {
      e = function(e) {
        if("number" == typeof e && !isNaN(e)) return Number(e);
        if("string" == typeof e) {
          var t = e.split(":");
          return Number(t[1]) / Number(t[0])
        }
        return e
      }(e || .5625), n.css("padding-top", isNaN(e) ? e : 100 * e + "%")
    }, t.reaper.put("aspect_ratio", n), t.append(n);
    var i = [j, B];
    r.on(i, (function() {
      n.set(e.ratio || r.videoHeight && r.videoWidth && r.videoHeight / r.videoWidth)
    })), r.on(H, (function(e) {
      n.set(a(e, "data.ratio", r.videoHeight && r.videoWidth && r.videoHeight / r.videoWidth))
    }))
  }, function(e, t, r) {
    z(r);
    var n = {
      should_resume: e.autoplay,
      has_user_gesture: !1,
      locked: !1
    };
    r.one(["touchend", U], (function() {
      n.has_user_gesture = !0
    })), r.on("play", (function() {
      n.locked || (n.should_resume = !0)
    })), r.on("pause", (function() {
      n.locked || (n.should_resume = !1)
    })), r.on("canplay", (function(t) {
      e.autoplay && !w().size && r.in_viewport && r.paused && n.should_resume && r.togglePlay(!0)
    })), e.autopause && (r.on("viewenter", (function() {
      n.should_resume && r.togglePlay(!0)
    })), r.on("viewleave", (function() {
      var e = !r.paused;
      n.locked = !0, r.pause(), setTimeout((function() {
        n.should_resume = e, n.locked = !1
      }), 0)
    })))
  }];

  function X() {
    return Y.filter((function(e) {
      return "function" == typeof e.wants
    }))
  }

  function Q(e) {
    return Array.isArray(e) ? e.join(".") : e
  }

  function J(e, t) {
    return t.length - e.length
  }

  function Z(e) {
    if(void 0 !== e) {
      if(e.reaper) return e.reaper;
      if(!(this instanceof Z)) return new Z(e);
      var t = e.reaper = this;
      return t.tree = e, t.props = [], t.push = function(e) {
        return t.props = t.props.concat(e), t
      }, t.put = function(r, n) {
        return t.push(r), o(e, r, n), n
      }, t.run = function(r) {
        (r = Array.isArray(r) ? r : []).push(t);
        for(var n = t.props.map(Q).sort(J); n.length;) {
          var i = n.shift(),
            s = a(e, i);
          s && s.reaper && !~r.indexOf(s.reaper) && s.reaper.run(r), o(e, i, 0)
        }
        for(var u in t) delete t[u];
        delete r[r.indexOf(t)], e.reaper = 0
      }, t
    }
  }

  function $(e) {
    this.message = e
  }
  $.prototype = new Error, $.prototype.name = "InvalidCharacterError";
  var ee = "undefined" != typeof window && window.atob && window.atob.bind(window) || function(e) {
    var t = String(e).replace(/=+$/, "");
    if(t.length % 4 == 1) throw new $("'atob' failed: The string to be decoded is not correctly encoded.");
    for(var r, n, i = 0, a = 0, o = ""; n = t.charAt(a++); ~n && (r = i % 4 ? 64 * r + n : n, i++ % 4) ? o += String.fromCharCode(255 & r >> (-2 * i & 6)) : 0) n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);
    return o
  };
  var te = function(e) {
    var t = e.replace(/-/g, "+").replace(/_/g, "/");
    switch(t.length % 4) {
      case 0:
        break;
      case 2:
        t += "==";
        break;
      case 3:
        t += "=";
        break;
      default:
        throw "Illegal base64url string!"
    }
    try {
      return function(e) {
        return decodeURIComponent(ee(e).replace(/(.)/g, (function(e, t) {
          var r = t.charCodeAt(0).toString(16).toUpperCase();
          return r.length < 2 && (r = "0" + r), "%" + r
        })))
      }(t)
    }
    catch (e) {
      return ee(t)
    }
  };

  function re(e) {
    this.message = e
  }
  re.prototype = new Error, re.prototype.name = "InvalidTokenError";
  var ne = function(e, t) {
    if("string" != typeof e) throw new re("Invalid token specified");
    var r = !0 === (t = t || {}).header ? 0 : 1;
    try {
      return JSON.parse(te(e.split(".")[r]))
    }
    catch (e) {
      throw new re("Invalid token specified: " + e.message)
    }
  };
  ne.InvalidTokenError = re;
  var ie = {
    OFF: 0,
    ON: 1,
    AUDIO_REQUIRED: 2
  };

  function ae() {
    var e = this,
      t = {};
    e.has = function(e) {
      return !!t[e]
    }, e.get = function(e) {
      return t[e]
    }, e.put = function(r, n) {
      return t[r] = n, e
    }, e.delete = function(r) {
      return delete t[r], e
    }, e.keys = function() {
      var e = [];
      for(var r in t) e.push(r);
      return e
    }, e.each = function(r, n) {
      for(var i in t) r.call(n || e, t[i], i);
      return e
    }
  }

  function oe(e) {
    return "function" == typeof e
  }

  function se() {
    throw new Error("Function was expected as Argument[0]")
  }
  var ue = [].slice;

  function le(e) {
    if(!(this instanceof le)) return new le(e);
    var t = this;
    return t.data = e, t.tap = function() {
      var e = ue.call(arguments),
        r = e.shift();
      return r == le.lift ? t.data : oe(r) ? (r.apply(t, [t.data].concat(e)), t) : void se()
    }, t.into = t.fmap = function() {
      var e = ue.call(arguments),
        r = e.shift();
      return r == le.lift ? t.data : oe(r) ? le(r.apply(t, [t.data].concat(e))) : void se()
    }, t.unwrap = function() {
      return t.data
    }, t
  }

  function ce(e, t, r, n) {
    le.of(r).fmap(e.get).fmap(a, t).fmap(le.maybe, le.apply, n)
  }
  le.of = le, le.lift = function(e) {
    return e instanceof le ? e.data : e
  }, le._apply = le.apply = function(e, t) {
    if(0 == t.length) return e();
    if(1 == t.length) return e(t[0]);
    if(2 == t.length) return e(t[0], t[1]);
    if(3 == t.length) return e(t[0], t[1], t[2]);
    if(4 == t.length) return e(t[0], t[1], t[2], t[3]);
    if(5 == t.length) return e(t[0], t[1], t[2], t[3], t[4]);
    throw new Error("Pipe._apply() does not support arity > 5")
  }, le.maybe = function(e, t, r) {
    return e ? le._apply(t, [e].concat(ue.call(arguments, 2, arguments.length))) : e
  }, le.curry = function(e, t, r) {
    return (t = t || []).length > e.length - 1 ? e.apply(r, t) : function() {
      var n = t.concat(ue.call(arguments));
      return le.curry(e, n, r)
    }
  };
  var de = new function() {
    ae.call(this), this.render = le.curry(ce, [this, "onrender"]), this.remove = le.curry(ce, [this, "onremove"])
  };

  function fe(e) {
    return ie.AUDIO_REQUIRED & e.autoplay
  }

  function he(e, t) {
    t.multiplay || T.forEach((function(t) {
      e != t && (t.toggleFullScreen(!1), t.pause())
    }))
  }

  function pe(e) {
    e.setState("is-autoplay", !1), e.setState(D, !1), e.setState(x, !1), e.setState(R, !0), e.setState("no-autoplay", !0), 0 == e.currentTime && e.setState(O, !0)
  }

  function ve(e) {
    return e.catch((function(e) {
      if("AbortError" == e.name) return {
        ok: 1
      };
      throw e
    }))
  }

  function ge(e, t, r) {
    var n = r.muted;
    return t.__pending_play = ve(e), e.catch((function(e) {
      return t.paused ? fe(r) ? {
        err: ie.AUDIO_REQUIRED
      } : function(e, t) {
        return e.muted = t.muted = !0, ve(e.play())
      }(t, r) : {
        ok: 1
      }
    })).then((function(e) {
      a(e, "err") == ie.AUDIO_REQUIRED && pe(t), he(t, r)
    })).catch((function(e) {
      t.started || (r.autoplay = !1, r.muted = n, t.toggleMute(!1), pe(t), console.error(e))
    })).then((function() {
      t.__pending_play = void 0, t.setState(x, !1)
    }))
  }

  function me(e, t, r) {
    var n = "boolean" == typeof r;
    if("boolean" != typeof r && (r = e.paused), ! function(e, t, r) {
        var n = e.emit(t ? "beforeplay" : "beforepause", {
          forced: r
        }, {
          return_self: !1
        });
        return n && n.defaultPrevented
      }(e, r, n)) try {
      if(0 == r) return e.pause();
      var i = e.__pending_play;
      if(0 == e.paused && !i) return;
      if(i) return i.src !== _e(e.original_src) && ye(e), e.__pending_play;
      (function(e) {
        return (0 == e.networkState || 0 == e.readyState) && e.currentSrc == _e(e.original_src)
      })(e) && ye(e), fe(t) && (e.muted = !1, 0 == e.volume && (e.volume = 1));
      var a = e.play();
      if(a && (a.src = _e(e.original_src)), a && "function" == typeof a.catch) return ge(a, e, t);
      e.paused && r && 0 == e.currentTime && pe(e), he(e, t)
    }
    catch (t) {
      e.emit(F, t)
    }
  }

  function ye(e) {
    e.currentSrc.match(/^blob:/) || e.load()
  }

  function _e(e) {
    var t = document.createElement("a");
    return t.href = e, t.href
  }

  function be(e, t) {
    var r = {};
    for(var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);
    if(null != e && "function" == typeof Object.getOwnPropertySymbols) {
      var i = 0;
      for(n = Object.getOwnPropertySymbols(e); i < n.length; i++) t.indexOf(n[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[i]) && (r[n[i]] = e[n[i]])
    }
    return r
  }

  function Ee(e) {
    var t = document.createElement("a");
    t.href = e;
    var r = t.pathname && t.pathname.split(".");
    return r.length > 1 && r[r.length - 1]
  }

  function Ae(e) {
    switch(e) {
      case "video/mpd":
        return "application/dash+xml";
      case "video/m3u8":
        return "application/x-mpegurl";
      default:
        return e
    }
  }
  const Te = e => {
    var {
      src: t
    } = e, r = be(e, ["src"]);
    return [Object.assign({
      src: t,
      type: t ? Ae("video/" + Ee(t)) : ""
    }, r)]
  };

  function we(e) {
    const [t, r] = e.split("{");
    return r ? (n = t, r.slice(0, -1).split(",").map((function(e) {
      return {
        src: n + e,
        type: Ae("video/" + e)
      }
    }))) : Te({
      src: e
    });
    var n
  }

  function Se(e) {
    var {
      src: t,
      type: r
    } = e, n = be(e, ["src", "type"]);
    return t && r ? [Object.assign({
      src: t,
      type: r
    }, n)] : Te(Object.assign({
      src: t
    }, n))
  }
  var ke;

  function Re(e, t, r, n = {
    safari: !1
  }) {
    r = function(e) {
      return "string" == typeof e ? we(e) : Array.isArray(e) || "object" != typeof e ? e.reduce((function(e, t) {
        return "string" == typeof t && (t = we(t)), "object" != typeof t || Array.isArray(t) || (t = Se(t)), e.concat(t)
      }), []) : Se(e)
    }(r), e.currentSrc && (e.innerHTML = "");
    for(var i = 0; i < r.length; i++) {
      var a = r[i];
      if(ke.Ok == Le(e, t, a)) break;
      if(ke.Ok == Oe(e, t, a, n)) break;
      i == r.length - 1 && "string" == typeof a.src && (e.src = a.src)
    }
    return function(e, t) {
      (function(e, t) {
        if(!e.currentSrc) return;
        if("none" == e.opt("preload")) return;
        if(t.autoplay && t.autoplay > 0) return;
        e.load()
      })(e, t), "none" == e.opt("preload") && e.render()
    }(e, t), e
  }

  function Le(e, t, r) {
    e.emit("src", r), "string" == typeof r.src && (e.original_src = r.src);
    var n = function(e, t) {
      return X().filter((function(r) {
        return r.wants(t.src, t, e)
      }))
    }(t, r);
    if(0 == n.length) return ke.Err;
    return n[0].call(e, t, e.root, e, r), ke.Ok
  }

  function Oe(e, t, r, n = {
    safari: !1
  }) {
    return /^audio\//.test(r.type || "") && e.emit("audioonlysource"), t.start_time && (r.src = r.src + "#t=" + t.start_time), "" == e.canPlayType(r.type || "") ? ke.Err : !r.drm || r.drm["com.apple.fps.1_0"] && n.safari ? ("string" == typeof r.src && (e.src = r.src), ke.Ok) : ke.Err
  }! function(e) {
    e[e.Err = 0] = "Err", e[e.Ok = 1] = "Ok"
  }(ke || (ke = {}));
  const Ce = [G, "seeking", "src", "seek:cancel"];
  var De;

  function xe(e, t, r) {
    return isNaN(e.duration) || isNaN(e.currentTime) ? {} : (t.offset += r, 0 == t.offset ? Ie(e, t) : (t.timer && clearTimeout(t.timer), t.timer = setTimeout((function() {
      0 != e.reaper && (e.currentTime = function(e, t, r = 0) {
        return Math.max(Math.min(t, e), r)
      }(e.currentTime + t.offset, e.duration), t.timer = 0, Ie(e, t))
    }), 1e3), function(e, t) {
      e.setState("will-seek", !0), e.setState(De.BACKWARD, t.offset < 0), e.setState(De.FORWARD, t.offset > 0)
    }(e, t), e.emit("seek:queued", t), t))
  }

  function Ie(e, t) {
    t.timer && clearTimeout(t.timer), t.timer = t.offset = 0,
      function(e) {
        e.setState(De.FORWARD, !1), e.setState(De.BACKWARD, !1), e.setState("will-seek", !1)
      }(e)
  }! function(e) {
    e.FORWARD = "forward", e.BACKWARD = "backward"
  }(De || (De = {}));
  var Me = ["complete", "interactive", "loaded"];

  function Pe() {
    if("undefined" == typeof document) return !1;
    var e = document.documentElement;
    return e && "rtl" == e.getAttribute("dir")
  }
  var Ne = {
      preload: "none",
      rtl: !1,
      controls: !0
    },
    Fe = ["loop", "muted", "preload"];

  function Ue(e) {
    var t = Array(e.length),
      r = 0;
    if(0 == e.length) return t;
    for(; r < e.length;) t[r] = [e.start(r), e.end(r)], r++;
    return t
  }

  function Be(e, t, i) {
    i.toJSON = function() {
      return {
        duration: i.duration,
        volume: i.volume,
        currentTime: i.currentTime,
        buffered: Ue(i.buffered),
        played: Ue(i.played),
        states: i.root.className
      }
    }, i.setSrc = function(t) {
      return Re(i, e, t, N())
    }, i.playerState = i.playerState || {}, i.setState = function(e, t) {
      var r = {};
      return r[e] = t, (r = n({}, i.playerState, r))[D] && (r[k] = !1), i.playerState = r, i.emit("state", i.playerState)
    }, i.hasState = function(e) {
      return !!i.playerState[e]
    }, i.transitionState = function(e, t, r) {
      i.hasState(e) && (r = 0), r && i.setState("is-toggling", !0), i.setState(t, !1), i.setState(e, !0), r && setTimeout((function() {
        i.setState("is-toggling", !1)
      }), r)
    }, i.render = function(e, t) {
      return "string" == typeof e ? de.render(e, t) : (i.emit(N().ios ? B : j), i.emit("canplay"), i)
    }, i.togglePlay = function(t, r) {
      var n = me(i, e, t);
      return "function" != typeof r ? n : n && "object" == typeof n && "catch" in n ? n.then(r) : r()
    }, i.toggleMute = function(e) {
      e = null == e ? !i.muted : !!e, i.muted = e, i.muted || i.volume || (i.volume = 1), i.emit("volumechange")
    }, i.toggleDisable = function(e) {
      e = null == e ? !i.disabled : !!e, i.setState("is-disabled", e), i.disabled = e
    }, i.destroy = i.reap = function(e) {
      i.pause();
      var t = T.indexOf(i);
      ~t && T.splice(t, 1), i.emit(G), setTimeout((function() {
        i.setSrc([]), "function" == typeof e && e()
      }), 0)
    }, i.setAttrs = function(e) {
      Fe.forEach((function(t) {
        var r = c(e[t]);
        if(r) return i.attr(t, r), void(t in i && (i[t] = r));
        !1 === r && (i.removeAttribute(t), t in i && (i[t] = r))
      }))
    }, i.opt = function(e, t) {
      return t = void 0 === t ? a(Ne, e) : t, a(i.opts, e, t)
    }, i.setOpts = function(n) {
      if(0 != i.reaper) {
        r(e, n);
        var a = !!e.autoplay && !i.hasState("no-autoplay");
        "disabled" in n && i.toggleDisable(n.disabled), "muted" in n && i.toggleMute(n.muted), i.setState("is-autoplay", a), i.setState("is-rtl", i.opt("rtl", function(e) {
          if(!e) return Pe();
          var t = e.getAttribute("dir");
          return t ? "rtl" == t : Pe()
        }(t))), i.setState("is-live", !!e.live), i.setState("no-timeline", !(!e.live || e.dvr)), i.setState(x, !(!e.seamless && !a)), i.setState("has-poster", "string" == typeof e.poster && e.poster.length > 0), i.setState("is-seekable", !!e.seekable), t.style.backgroundImage = i.hasState("has-poster") ? "url('" + e.poster + "')" : "", i.emit(H, e)
      }
    }, i.renderPlugin = function(e) {
      i.emit("renderplugin", e, {
        return_self: !1
      }).defaultPrevented || i.root.appendChild(e)
    };
    var o, s, u = {
      offset: 0,
      timer: 0
    };
    s = u, (o = i).on(Ce, (function() {
      Ie(o, s)
    })), i.enqueueSeek = function(e) {
      if(0 != i.opts.seekable && !(1 == i.opts.disabled && e > 0)) return xe(i, u, e)
    }
  }

  function je(e, t) {
    var r = t.querySelector("video"),
      n = E(r || (e._video_element_callback ? e._video_element_callback(e) : document.createElement("video")));
    return n.addClass("fp-engine"), Z(n), n.async = void 0 !== r, n.async && !n.paused ? (n.setState(k, !0).setState(x, !0), n) : (n.attr("playsinline", ""), n.attr("webkit-playsinline", ""), t.append(n), n)
  }

  function Ge(e, t) {
    if("object" == typeof exports && "undefined" != typeof module) return t;
    "flowplayer" in e || (e.flowplayer = {
      extensions: []
    });
    var r = e.flowplayer;
    return "function" == typeof r ? (r(t), t) : (Array.isArray(r.extensions) || (r.extensions = []), ~r.extensions.indexOf(t) || r.extensions.push(t), t)
  }

  function He() {
    return "undefined" != typeof window ? window : "undefined" != typeof global ? global : {}
  }
  var Ke = ["localhost", "127.0.0.1", "0.0.0.0", "s.codepen.io", "cdpn.io"];

  function Ve(e, t) {
    return !!~Ke.indexOf(e) || e.indexOf(t) === e.length - t.length
  }

  function qe(e, t) {
    var r = {};
    t = t || {};
    try {
      r = ne(e), this.valid_jwt = !0
    }
    catch (e) {}
    this.raw = e, this.data = JSON.parse(r.c || "{}"), this.exp = r.exp, t.require_valid_token && qe.validate(this)
  }

  function We(e) {
    try {
      return qe.validate(e), {
        success: !0
      }
    }
    catch (e) {
      return {
        success: !1,
        message: e.message
      }
    }
  }
  Ve.check_whitelist = function(e) {
    return !!~Ke.indexOf(e)
  }, qe.validate = function(e) {
    if("string" == typeof e && (e = new qe(e)), !e || !e.raw) {
      if(Ve.check_whitelist(window.location.hostname)) return !0;
      throw new Error("No token provided in configuration")
    }
    if(!e.valid_jwt) throw new Error("Invalid token provided");
    var t = window.location.hostname,
      r = Ve.bind(null, t);
    if(e.data.domain && e.data.domain.length && !e.data.domain.some(r)) throw new Error("Domain not allowed");
    if(1e3 * e.exp - Date.now() < 0) throw new Error("Expired token");
    return !0
  }, qe.id = function(e) {
    if(e) return "string" == typeof e && (e = new qe(e)), e.data.id
  };
  var ze = Object.freeze({
      __proto__: null,
      ADS: 2,
      ANALYTICS: 4,
      NO_METERING: 8,
      DEVELOPER_PLAN: 16
    }),
    Ye = {};
  for(var Xe in ze) Ye[ze[Xe]] = Xe;

  function Qe(e) {
    if(!(this instanceof Qe)) return new Qe(e);
    var t = this;
    t.grant = e, t.is_granted = function(e) {
      return (t.grant & e) === e
    }
  }

  function Je(e, t) {
    if("function" != typeof e) {
      "string" == typeof t && (t = {
        src: t
      }), t || (t = {}), t.token || "string" != typeof window.__FLOWPLAYER_TOKEN || (t.token = window.__FLOWPLAYER_TOKEN);
      var r = E(e);
      if(!r) return console.error(new Error("Flowplayer: '" + e.toString() + "' not found"));
      if(r.video) return r.video;
      var n = We(t.token);
      if(!n.success) return Ze(r, null, {
        reason: "token",
        details: n.message
      });
      if(N().ie > 0 && r.addClass("poor-flex"), !N().video) return r.append(E.img({
        src: t.poster
      }));
      var i = Z(r),
        a = i.put("video", je(t, r));
      if(Object.defineProperty(a, "token", {
          value: "string" == typeof t.token ? qe.id(t.token) : "",
          writable: !1
        }), a.once(G, i.run), i.put("video.root", r), Qe.from_token(t.token).is_granted(Qe.permissions.DEVELOPER_PLAN)) return Ze(r, null, {
        reason: "developer_plan",
        details: "Using developer plan tokens is not currently supported"
      });
      !~T.indexOf(a) && T.push(a), Be(t, r, a), a.setAttrs(t), Y.forEach((function(e) {
        "function" == typeof e.onapi && e.onapi.call(Je, t, r, a)
      })), Y.forEach((function(e) {
        e.call(Je, t, r, a)
      })), a.reaper.put("opts", t), a.setOpts(t), t.src && a.setSrc(t.src);
      var o = a.readyState;
      return o > 0 && a.currentSrc && a.emit(B), o > 2 && a.currentSrc && a.emit("canplay"), "none" == a.opt("preload") && a.paused && a.currentSrc && a.render(), a.emit("mount"), a.on("error:fatal", (function(e) {
        Ze(r, a, e.data)
      })), a
    }
    for(var s = 0; s < arguments.length; ++s) {
      var u = arguments[s];
      Y.push(u), "function" == typeof u.onumd && u.onumd(Je)
    }
  }

  function Ze(e, t, r) {
    t && t.destroy(), e.innerHTML = "", e.removeClass("flowplayer"), e.addClass("flowplayer-fatal"), e.append(E.el("h2", {}, "Playback error")), e.append(E.p({}, "Are you the site owner?")), e.append(E.a({
      className: "troubleshoot",
      target: "_blank",
      href: "https://flowplayer.com/help/developers/troubleshooting?reason=" + r.reason
    }, "Troubleshoot")), e.append(E.a({}, E.img({
      src: "https://flowplayer.com/user/pages/images/logo-white.png"
    }))), console.error(new Error(r.details || r.reason))
  }
  Qe.of = Qe, Qe.from_token = function(e) {
      var t = new qe(e, {
        require_valid_token: !0
      });
      return Qe.of(t.data.acl)
    }, Qe.permissions = ze, n(Je, function() {
      var e = He(),
        t = e.flowplayer ? e.flowplayer : {
          extensions: []
        };
      return Array.isArray(t.extensions) || (t.extensions = []), t
    }()),
    function(e) {
      Array.isArray(e.extensions) && e.extensions.forEach((function(e) {
        Y.push(e)
      })), e.components = de, e.version = "2.9.6", e.commit = "c21973731e50f047756ebba96e9d958593a2fa2e", e.Players = S, e.instances = T, e.extensions = Y, e.loaders = X, e.support = N, e.events = q, e.states = M, e.mq = E, e.jwt = ne, e.util = d, e.observable = p, e.Reaper = Z, e.autoplay = e.autoplay_options = ie, e.extensions.forEach((function(t) {
        "function" == typeof t.onumd && t.onumd(e)
      }))
    }(Je), "object" == typeof document && "function" == typeof document.emit && setTimeout(document.emit, 0, "flowplayer:umd", Je);
  var $e = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};

  function et(e) {
    return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e
  }

  function tt(e) {
    var t = {
      exports: {}
    };
    return e(t, t.exports), t.exports
  }
  var rt = tt((function(e, t) {
      var r = $e && $e.__assign || function() {
        return (r = Object.assign || function(e) {
          for(var t, r = 1, n = arguments.length; r < n; r++)
            for(var i in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
          return e
        }).apply(this, arguments)
      };
      t.__esModule = !0, t.remove = t.downcase = t.pluck = t.merge = void 0, t.merge = function() {
        for(var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
        return e.reduce((function(e, t) {
          return r(r({}, e), t)
        }), {})
      }, t.pluck = function(e) {
        for(var r = [], n = 1; n < arguments.length; n++) r[n - 1] = arguments[n];
        return Object.keys(e).filter((function(e) {
          return ~r.indexOf(e)
        })).reduce((function(r, n) {
          var i;
          return t.merge(r, ((i = {})[n] = e[n], i))
        }), {})
      }, t.downcase = function(e) {
        return (e || "").toString().toLowerCase()
      }, t.remove = function(e, t) {
        var r = e.lastIndexOf(t);
        return ~r && e.splice(r, 1), e
      }
    })),
    nt = tt((function(e, t) {
      var r = $e && $e.__createBinding || (Object.create ? function(e, t, r, n) {
          void 0 === n && (n = r), Object.defineProperty(e, n, {
            enumerable: !0,
            get: function() {
              return t[r]
            }
          })
        } : function(e, t, r, n) {
          void 0 === n && (n = r), e[n] = t[r]
        }),
        n = $e && $e.__setModuleDefault || (Object.create ? function(e, t) {
          Object.defineProperty(e, "default", {
            enumerable: !0,
            value: t
          })
        } : function(e, t) {
          e.default = t
        }),
        i = $e && $e.__importStar || function(e) {
          if(e && e.__esModule) return e;
          var t = {};
          if(null != e)
            for(var i in e) "default" !== i && Object.hasOwnProperty.call(e, i) && r(t, e, i);
          return n(t, e), t
        };
      t.__esModule = !0;
      var a = i(rt),
        o = function() {
          function e() {
            this.pending = [], this.open = [], this.stats = {
              failures: 0,
              ttl: 0
            }
          }
          return e.of = function() {
            return new e
          }, e.is_empty = function(e) {
            return 0 == e.pending.length
          }, e.is_high_water = function(t) {
            return t.open.length == e.MAX_OPEN_REQUESTS
          }, e.maybe_spawn_req = function(t) {
            if(e.is_empty(t)) return t;
            if(e.is_high_water(t)) return t;
            try {
              var r = e.lpop(t);
              r && e.request(t, r)
            }
            catch (e) {}
          }, e.increment_failures = function(t) {
            return t.stats.failures++, t.stats.failures > e.MAX_FAILURE_COUNT && (t.stats.ttl = Date.now() + e.REQUEST_TTL_MS), t
          }, e.handle_error = function(t, r) {
            e.rm(t, r), e.increment_failures(t)
          }, e.request = function(t, r) {
            var n = r[0],
              i = r[1],
              a = r[2];
            if(!(Date.now() < t.stats.ttl)) {
              var o = new XMLHttpRequest;
              t.open.push(o), o.timeout = e.REQUEST_TIMEOUT_MS, o.ontimeout = function() {
                e.handle_error(t, o)
              }, o.onerror = function(r) {
                e.handle_error(t, o)
              }, o.onreadystatechange = function() {
                o.readyState == XMLHttpRequest.DONE && e.rm(t, o), Math.floor(o.status / 100)
              }, o.onload = function() {
                e.rm(t, o), t.stats.failures && t.stats.failures--
              }, o.open(i, n), o.setRequestHeader("Content-Type", "text/plain;charset=UTF-8");
              try {
                o.send(JSON.stringify(a))
              }
              catch (e) {}
            }
          }, e.rpush = function(t) {
            for(var r = [], n = 1; n < arguments.length; n++) r[n - 1] = arguments[n];
            return r.forEach((function(r) {
              t.pending.length >= e.MAX_PENDING || (t.pending.push(r), e.maybe_spawn_req(t))
            })), t
          }, e.lpop = function(e) {
            return e.pending.shift()
          }, e.rm = function(e, t) {
            return a.remove(e.open, t), e
          }, e.MAX_OPEN_REQUESTS = 3, e.MAX_PENDING = 5, e.REQUEST_TIMEOUT_MS = 4e3, e.REQUEST_TTL_MS = 5e3, e.MAX_FAILURE_COUNT = 3, e
        }();
      t.default = o
    })),
    it = tt((function(e, t) {
      var r = $e && $e.__importDefault || function(e) {
        return e && e.__esModule ? e : {
          default: e
        }
      };
      t.__esModule = !0;
      var n = r(nt);
      t.default = n.default.of()
    })),
    at = tt((function(e, t) {
      t.__esModule = !0, t.prepare_url = t.URL_PARAM = void 0, t.URL_PARAM = /:([a-zA-Z_]+)/g, t.prepare_url = function(e, r) {
        return e.url.replace(t.URL_PARAM, (function(t) {
          if((t = t.slice(1, t.length)) in r) return r[t].toString();
          e.log.error(new Error("\n      preparing url[" + e.url + "] failed\n      \n      parameter[" + t + "] not detected in params:\n      \n      " + JSON.stringify(r, null, 2) + "\n    "))
        }))
      }
    })),
    ot = tt((function(e, t) {
      t.__esModule = !0, t.Log = void 0;
      var r = function() {
        function e(e) {
          this.emitter = e
        }
        return e.prepare = function(e, t) {
          var r = document.createEvent("Event");
          return r.initEvent(e, !1, !0), r.ns = e, r.data = t, r
        }, e.of = function(t) {
          return new e(t)
        }, e.prototype.info = function(t) {
          this.emitter.dispatchEvent(e.prepare(e.NAMESPACE.INFO, t))
        }, e.prototype.error = function(t) {
          this.emitter.dispatchEvent(e.prepare(e.NAMESPACE.ERROR, t))
        }, e.prototype.warn = function(t) {
          this.emitter.dispatchEvent(e.prepare(e.NAMESPACE.WARN, t))
        }, e.NAMESPACE = {
          INFO: "tracker:info",
          ERROR: "tracker:err",
          WARN: "tracker:warn"
        }, e
      }();
      t.Log = r
    })),
    st = tt((function(e, t) {
      var r;
      t.__esModule = !0, t.Verb = void 0, (r = t.Verb || (t.Verb = {})).POST = "POST", r.PUT = "PUT", r.GET = "GET"
    })),
    ut = tt((function(e, t) {
      var r = $e && $e.__createBinding || (Object.create ? function(e, t, r, n) {
          void 0 === n && (n = r), Object.defineProperty(e, n, {
            enumerable: !0,
            get: function() {
              return t[r]
            }
          })
        } : function(e, t, r, n) {
          void 0 === n && (n = r), e[n] = t[r]
        }),
        n = $e && $e.__setModuleDefault || (Object.create ? function(e, t) {
          Object.defineProperty(e, "default", {
            enumerable: !0,
            value: t
          })
        } : function(e, t) {
          e.default = t
        }),
        i = $e && $e.__importStar || function(e) {
          if(e && e.__esModule) return e;
          var t = {};
          if(null != e)
            for(var i in e) "default" !== i && Object.hasOwnProperty.call(e, i) && r(t, e, i);
          return n(t, e), t
        },
        a = $e && $e.__spreadArrays || function() {
          for(var e = 0, t = 0, r = arguments.length; t < r; t++) e += arguments[t].length;
          var n = Array(e),
            i = 0;
          for(t = 0; t < r; t++)
            for(var a = arguments[t], o = 0, s = a.length; o < s; o++, i++) n[i] = a[o];
          return n
        },
        o = $e && $e.__importDefault || function(e) {
          return e && e.__esModule ? e : {
            default: e
          }
        };
      t.__esModule = !0;
      var s = o(it),
        u = o(nt),
        l = i(at),
        c = i(rt),
        d = function() {
          function e(t, r) {
            var n = this;
            void 0 === r && (r = {});
            var i = this;
            if(this.emitter = t, this.url = r.url, this.log = ot.Log.of(this.emitter), this.verb = r.verb, this.metadata = c.merge({}, r.metadata || {}), this.rq = r.rq || s.default, this.events = r.events || [], this.required_keys = r.required_keys || [], this.optional_keys = r.optional_keys || [], this.listeners = [], this.valid_keys = this.required_keys.slice(0).concat(this.optional_keys), e.assert_emitter_api(this.emitter), void 0 === e.verb[this.verb]) throw new Error("invalid HTTP verb[" + this.verb + "] passed");
            if("string" != typeof this.url) throw new Error("invalid API url[" + this.url + "] passed");
            e.TRACKERS.push(this), i.events.forEach((function(t) {
              e.create_listener(n, t, (function(r) {
                void 0 === r && (r = {});
                var a = c.merge(i.metadata, {
                    event_type: t
                  }, r.data || r),
                  o = l.prepare_url(i, a),
                  s = e.pluck_valid_keys(i, a),
                  d = e.ensure_required_keys(i, s);
                if(d.length) return i.log.error("Tracker.validate_metadata() failed for \n            Event[" + t + "]\n            missing keys: " + d + "\n            payload:\n              " + JSON.stringify(s, null, 2));
                u.default.rpush(n.rq, [o, n.verb, s])
              }))
            }))
          }
          return e.of = function(t, r) {
            return new e(t, r)
          }, e.ensure_required_keys = function(e, t) {
            return e.required_keys.filter((function(e) {
              return !(e in t)
            }))
          }, e.pluck_valid_keys = function(e, t) {
            return c.pluck.apply(c, a([t], e.valid_keys))
          }, e.merge_metadata = function(t, r) {
            return void 0 === r && (r = {}), t.metadata = e.pluck_valid_keys(t, c.merge(t.metadata, r)), t
          }, e.assert_emitter_api = function(e) {
            if("function" != typeof(e || {}).addEventListener) throw new Error("Tracker() received an emitter that does not implement the addEventListener method");
            if("function" != typeof(e || {}).removeEventListener) throw new Error("Tracker() received an emitter that does not implement the removeEventListener method")
          }, e.create_listener = function(e, t, r) {
            e.listeners.push([t, r]), e.emitter.addEventListener(t, r)
          }, e.prototype.destroy = function() {
            var t = this;
            this.listeners.forEach((function(e) {
              var r = e[0],
                n = e[1];
              return t.emitter.removeEventListener(r, n)
            })), delete this.rq, delete this.emitter, c.remove(e.TRACKERS, this)
          }, e.prototype.put = function(t) {
            return void 0 === t && (t = {}), e.merge_metadata(this, t), this
          }, e.TRACKERS = [], e.QUEUE = s.default, e.verb = st.Verb, e
        }();
      t.default = d
    })),
    lt = tt((function(e, t) {
      var r = $e && $e.__createBinding || (Object.create ? function(e, t, r, n) {
          void 0 === n && (n = r), Object.defineProperty(e, n, {
            enumerable: !0,
            get: function() {
              return t[r]
            }
          })
        } : function(e, t, r, n) {
          void 0 === n && (n = r), e[n] = t[r]
        }),
        n = $e && $e.__setModuleDefault || (Object.create ? function(e, t) {
          Object.defineProperty(e, "default", {
            enumerable: !0,
            value: t
          })
        } : function(e, t) {
          e.default = t
        }),
        i = $e && $e.__importStar || function(e) {
          if(e && e.__esModule) return e;
          var t = {};
          if(null != e)
            for(var i in e) "default" !== i && Object.hasOwnProperty.call(e, i) && r(t, e, i);
          return n(t, e), t
        },
        a = $e && $e.__importDefault || function(e) {
          return e && e.__esModule ? e : {
            default: e
          }
        };
      t.__esModule = !0, t.API = t.Tracker = void 0;
      var o = a(ut);
      t.Tracker = o.default;
      var s = i(at);
      t.API = s
    })),
    ct = "ping",
    dt = "display",
    ft = "view";
  var ht = {
    3: !0,
    5: !0,
    7: !0,
    9: !0
  };
  var pt = function(e) {
      for(var t, r = 0; r < 16; r++) 0 == (3 & r) && (t = 4294967296 * Math.random()), e[r] = t >>> ((3 & r) << 3) & 255;
      return e
    }(Array(16)).reduce((function(e, t, r) {
      var n = (t + 256).toString(16).substr(1);
      return e + (ht[r] ? "-" : "") + n
    }), ""),
    vt = ["sitegroup_id", "session_id", "media_id", "site_id", "player_id", "video_type"],
    gt = ["created", "position"],
    mt = ["player_version", "created", "source", "category", "category_id", "autoplay", "muted", "customer_user_id"];

  function yt(e, t, r) {
    if(!(this instanceof yt)) return new yt(e, t, r);
    var n = this;
    return n.name = e.name || "RL::anonymous::" + Date.now(), n.locked = !1, n.ttl = t, n.unlock = function() {
      return n.locked = !1, n
    }, n.run = function() {
      n.locked || (n.locked = setTimeout((function() {
        return e.apply(null, r), n.unlock()
      }), t))
    }, n.cancel = function() {
      return n.locked && clearTimeout(n.locked), n.unlock()
    }, n
  }

  function _t(e, t, r) {
    if(!(this instanceof _t)) return new _t(e, t, r);
    var i = this;
    i.last_idx = 0, i.segment_duration = 0, i.breakpoints = [], i.calculate_segment_info = function() {
      return t.duration / 1 === t.duration && n(i, _t.segment_info(t.duration))
    }, i.run = function(e) {
      if(i.segment_duration || i.calculate_segment_info()) {
        var r = _t.select_watched_segments(i, t, e);
        0 != r.length && t.emit(ct, {
          position: r
        })
      }
    }, i.update = function() {
      i.calculate_segment_info(), i.last_idx = _t.next_idx(i, t)
    }
  }
  _t.segment_info = function(e) {
    var t = e / 100;
    return {
      segment_duration: t,
      breakpoints: Array.apply(null, Array(100)).map((function(e, r) {
        return Math.floor(r * t * 1e3) / 1e3
      }))
    }
  }, _t.next_idx = function(e, t) {
    return Math.min(Math.floor(t.currentTime / e.segment_duration), 99)
  }, _t.select_watched_segments = function(e, t, r) {
    var n = e.last_idx,
      i = r ? 99 : _t.next_idx(e, t);
    return e.last_idx = i, i <= n ? [] : e.breakpoints.slice(n, 99 == i ? 100 : i).map((function(t) {
      return e.breakpoints.indexOf(t)
    }))
  };

  function bt(e, t, r) {
    if(!(this instanceof bt)) return new bt(e, t, r);
    var n = this;
    n.last_tracked_ts = Date.now(), n.ticks = 0, n.run = function() {
      var e = Date.now();
      e - n.last_tracked_ts < 6e4 || (n.last_tracked_ts = e, ++n.ticks, t.emit(ct, {
        position: 60 * n.ticks
      }))
    }, n.update = function() {}
  }
  bt.within = function(e, t, r) {
    var n = e + t.right,
      i = e - t.left;
    return r < n && r > i
  };
  var Et = "vod",
    At = "live",
    Tt = [dt, ct, ft];

  function wt(e) {
    var t = e.ads;
    return void 0 !== t && (void 0 !== t.schedule && ("function" == typeof t.hasPreroll && (t.currentRequests ? t.currentRequests : !!t.adPlaying || !(!t.hasPreroll() || 0 != t.nextIndex))))
  }

  function St() {
    try {
      return window.location !== window.parent.location ? document.referrer : document.location.href
    }
    catch (e) {
      return !1
    }
  }
  var kt = Ge(He(), (function(e, t, r) {
    if(Qe.from_token(e.token).is_granted(Qe.permissions.ANALYTICS) && !r.analytics) {
      var n = r.analytics = {
          ticker: void 0,
          last_media_id: void 0,
          ping: function() {
            n.ticker && n.ticker.run()
          },
          comp: yt((function() {
            n.ping()
          }), 6e3),
          ended: void 0
        },
        i = {
          session_id: pt,
          autoplay: r.autoplay,
          muted: r.muted,
          player_id: e.player_id,
          customer_user_id: e.customer_user_id
        },
        o = r.analytics.tracker = lt.Tracker.of(r, {
          verb: lt.Tracker.verb.POST,
          url: "https://ptm.flowplayer.com/:video_type/:sitegroup_id/:event_type",
          events: Tt,
          required_keys: vt,
          optional_keys: [].concat(mt).concat(gt),
          metadata: i,
          video_type: e.live ? At : Et
        });
      r.on(G, (function() {
        o && o.destroy(), o = 0
      })), r.on(H, (function(t) {
        if(o) {
          var i = a(t, "data.metadata", {});
          if(i.media_id) {
            var s = a(o, "metadata.media_id");
            if(!s || i.media_id != s) {
              var u = a(e, "analytics", {});
              o.put(i), o.put(u);
              var l = a(e, "metadata.live_start_time", e.live) ? At : Et;
              o.put({
                video_type: l,
                source: e.source || St() || ""
              }), n.ticker = e.live ? bt(n, r, o) : _t(n, r, o), n.ended = !1, r.emit(dt)
            }
          }
        }
      }));
      var s = void 0;
      r.on("playing", (function() {
        if(o && !s && ! function(e, t) {
            return e.metadata.media_id && e.metadata.media_id == t.last_media_id
          }(o, n)) {
          o.put({
            muted: r.muted
          });
          var e = wt(r);
          if(e) return s = function(e, t, r) {
            if(e && "function" == typeof e.then) {
              var n = e.then(t);
              if("function" != typeof r) return n;
              n.catch(r)
            }
          }(e, (function() {
            n.last_media_id = o.metadata.media_id, r.emit(ft), s = void 0
          }), (function() {
            s = void 0
          }));
          n.last_media_id = o.metadata.media_id, r.emit(ft)
        }
      })), r.on("timeupdate", (function() {
        o && (s || wt(r) || n.ended || (!e.live && r.currentTime + .25 >= r.duration && n.ticker && n.ticker.run(!0), n.comp.run()))
      })), r.on("seeked", (function() {
        o && n.ticker && n.ticker.update()
      })), r.on("ended", (function() {
        o && function(e) {
          e.ended || (e.ended = !0, e.comp.cancel(), e.ping())
        }(n)
      }))
    }
  }));

  function Rt() {}

  function Lt(e, t, r) {
    var n;
    "undefined" != typeof window && "ontouchstart" in window && r.setState("is-touch-device", !0), r.setState("is-accessibility", !1), t.middle.on("touchend", (function(e) {
      0 != e.cancelable && (e.preventDefault(), r.emit(e.type, e.data))
    })), r.on("touchend", (function(e) {
      setTimeout((function() {
        if(!e.defaultPrevented && !r.hasClass(D)) {
          if(r.ended) return r.togglePlay(!0);
          var t = r.hasState(O);
          n && clearTimeout(n), (t || r.hasState(I) || r.hasState("no-autoplay")) && (r.hasState(I) && (r.setState(I, !1), r.setState("is-hovered", !1)), r.togglePlay(), t) || (r.setState(I, !0), r.paused || (n = setTimeout((function() {
            n = 0, r.setState(I, !1), r.setState("is-hovered", !1)
          }), 2e3)))
        }
      }), 0)
    }))
  }
  kt.Tracker = lt.Tracker, "undefined" != typeof window && window.matchMedia && [K, V].forEach((function(e) {
    window.matchMedia("(orientation: " + e + ")").addListener((function(t) {
      T.length && T.forEach((function(r) {
        t.matches && r.emit(e)
      }))
    }))
  }));
  var Ot = E.document;

  function Ct(e, r) {
    var n, i, a;
    if("grabbing" in e) return e;
    e.grabbing = !1, e.touching = !1;
    var o = r.onseek || t,
      s = r.onstart || t,
      u = r.onend || t,
      l = r.onmouse || t,
      c = r.ontouch || t,
      d = r.ontouchend || t,
      f = r.ctx;

    function h(t) {
      var r;
      r = e.getBoundingClientRect(), n = r.left, i = r.width;
      var a = (function(e) {
        return "function" == typeof window.TouchEvent && e instanceof TouchEvent
      }(t) ? t.changedTouches[0].pageX : t.pageX) - n;
      return a > i && (a = i), a < 0 && (a = 0), a / i * 100
    }

    function p(t) {
      var r = h(t);
      r != a && (o.call(f, r, e), a = r)
    }

    function v(e) {
      if(e) {
        var t = "";
        return Array.prototype.forEach.call(e.classList, (function(e) {
          t = "." + e
        })), t
      }
    }

    function g(e) {
      var t = window.getComputedStyle(e);
      return "0" !== t.width && "0" !== t.height && "0" !== t.opacity && "none" !== t.display && "hidden" !== t.visibility
    }
    return e.on("touchstart", (function(t) {
      t.target.closest(v(e)) && (e.touching = !0, g(e.parentElement) && (t.preventDefault(), e.grabbing = !0, c(f, e), s(f, e), p(t)))
    })), e.on("touchmove", (function(t) {
      t.target.closest(v(e)) && g(e.parentElement) && e.touching && (t.preventDefault(), p(t), l.call(f, h(t), e))
    })), e.on("touchend", (function(t) {
      setTimeout((function() {
        e.touching = !1
      }), 500), t.target.closest(v(e)) && g(e.parentElement) && (t.preventDefault(), e.grabbing = !1, d(f, e, h(t)), u.call(f, e, h(t)), i = 0)
    })), e.on("touchcancel", (function() {
      e.touching = !1, e.grabbing = !1, i = 0
    })), e.on("mousedown", (function(t) {
      e.touching || (Ot.on("mousemove", p), e.grabbing = !0, s.call(f, e), t.preventDefault(), p(t))
    })), e.on("mousemove", (function(t) {
      e.touching || l.call(f, h(t), e)
    })), Ot.on("mouseup", (function(t) {
      e.touching || (Ot.off("mousemove", p), e.grabbing && (e.grabbing = !1, u.call(f, e, h(t)), i = 0))
    })), e
  }
  Element.prototype.closest || (Element.prototype.matches || (Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector), Element.prototype.closest = function(e) {
    var t = this;
    if(!document.documentElement.contains(this)) return null;
    do {
      if(t.matches(e)) return t;
      t = t.parentElement
    } while(null !== t);
    return null
  });
  var Dt = new function() {
    function e() {
      this.getItem = this.removeItem = this.setItem = t
    }

    function r(t, r) {
      var n = function() {
        try {
          return window.localStorage || new e
        }
        catch (t) {
          return new e
        }
      }();
      return function() {
        try {
          return n[t].apply(n, arguments)
        }
        catch (e) {
          return r
        }
      }
    }
    this.removeItem = r("removeItem"), this.getItem = r("getItem", null), this.setItem = r("setItem")
  };

  function xt(e) {
    return document.createElementNS("http://www.w3.org/2000/svg", e)
  }

  function It(e) {
    var t, r, n = xt("svg");
    return n.setAttribute("viewBox", e.coords), e.name && n.setAttribute("class", e.name), e.title && n.setAttribute("title", e.title), e.title && n.setAttribute("aria-label", e.title), n.setAttribute("tabindex", "0"), n.setAttribute("focusable", "true"), n.appendChild((t = e.link, (r = xt("use")).setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", t), r)), E(n)
  }
  var Mt = {
      coords: "-1 -2 40 30",
      name: "fp-fullscreen",
      link: "#fp-fs",
      translation_key: "core.fullscreen"
    },
    Pt = {
      coords: "-1 -2 40 30",
      name: "fp-fullscreen-exit",
      link: "#fp-exit",
      translation_key: "core.exit_fullscreen"
    },
    Nt = {
      coords: "-2 -2 50 50",
      name: "fp-play",
      link: "#fp-play",
      translation_key: "core.play"
    },
    Ft = {
      coords: Nt.coords,
      name: "fp-pause",
      link: "#fp-pause",
      translation_key: "core.pause"
    },
    Ut = {
      coords: Nt.coords,
      name: "fp-play fp-play-stroke",
      link: "#fp-play-stroke",
      translation_key: "core.play"
    },
    Bt = {
      coords: Nt.coords,
      name: "fp-pause fp-pause-stroke",
      link: "#fp-pause-stroke",
      translation_key: "core.pause"
    },
    jt = {
      coords: Nt.coords,
      name: "fp-play fp-play-circle",
      link: "#fp-play-circle",
      translation_key: "core.play"
    },
    Gt = Bt,
    Ht = {
      coords: "-2 -2 36 58",
      link: "#fp-volume",
      translation_key: "core.mute"
    },
    Kt = {
      coords: "-2 -2 50 50",
      link: "#fp-play",
      translation_key: "core.play",
      name: "fp-small-play"
    },
    Vt = {
      coords: "-2 -2 50 50",
      link: "#fp-pause",
      translation_key: "core.pause",
      name: "fp-small-pause"
    },
    qt = Object.freeze({
      __proto__: null,
      ENTER_FULLSCREEN: Mt,
      EXIT_FULLSCREEN: Pt,
      PLAY_1: Nt,
      PAUSE_1: Ft,
      PLAY_2: Ut,
      PAUSE_2: Bt,
      PLAY_3: jt,
      PAUSE_3: Gt,
      VOLUME: Ht,
      SMALL_PLAY: Kt,
      SMALL_PAUSE: Vt,
      FACEBOOK: {
        coords: "-5 25 460 460",
        link: "#fp-facebook",
        name: "fp-facebook"
      },
      LINK: {
        coords: "0 0 512 512",
        link: "#fp-link",
        name: "fp-link"
      },
      SHARE: {
        coords: "0 0 448 512",
        link: "#fp-share",
        name: "fp-share"
      },
      EMBED: {
        coords: "0 0 512 512",
        link: "#fp-share",
        name: "fp-embed"
      },
      TWITTER: {
        coords: "0 0 512 512",
        link: "#fp-twitter",
        name: "fp-twitter"
      },
      AIRPLAY: {
        coords: "0 0 512 512",
        link: "#fp-airplay",
        name: "fp-airplay"
      },
      SKIP_NEXT: {
        coords: "0 0 41 42",
        link: "#fp-skip-next",
        translation_key: "core.skip-next",
        name: "fp-skip-next"
      },
      SKIP_PREV: {
        coords: "0 0 41 42",
        link: "#fp-skip-prev",
        translation_key: "core.skip-prev",
        name: "fp-skip-prev"
      },
      MUTE: {
        coords: "-22 -22 122 122",
        link: "#fp-mute",
        translation_key: "core.mute",
        name: "fp-mute"
      },
      UNMUTE: {
        coords: "-22 -22 122 122",
        link: "#fp-unmute",
        translation_key: "core.mute",
        name: "fp-unmute"
      },
      CLOSE: {
        coords: "19 0 80 80",
        link: "#fp-close",
        translation_key: "core.close",
        name: "fp-close"
      }
    }),
    Wt = Object.freeze({
      __proto__: null,
      NO_FULLSCREEN: 1,
      NO_VOLUME_CONTROL: 2,
      NO_MUTE: 4,
      LOGO_ON_RIGHT: 8,
      USE_DRAG_HANDLE: 16,
      USE_PLAY_2: 32,
      USE_PLAY_3: 64,
      USE_THIN_CONTROLBAR: 128,
      NO_TITLE: 256,
      NO_DESCRIPTION: 512,
      NO_CONTROLS: 1024,
      NO_DURATION: 2048,
      NO_HEADER: 4096,
      NO_TOUCH_ZONES: 16384
    }),
    zt = "function" == typeof Audio && new Audio || {};
  zt.volume = .1;

  function Yt(e, t, r) {
    if(r.opt("controls")) {
      var n = E.div("fp-volume"),
        i = Qt.call(r, n, Xt, 0, r.root),
        a = E.div("fp-volumebtn", It(Ht));
      if(t.append(a), a && a.on(U, (function() {
          r.toggleMute()
        })), .1 == zt.volume && t.append(n), n.attr("tabindex", "0").attr("role", "slider").attr("aria-valuemin", "0").attr("aria-valuemax", "1").attr("aria-label", r._t("core.volume", "volume")), e.muted_initially && Dt.setItem("mute", 1 == e.muted_initially), r.on("volumechange", (function() {
          var e = 0 == r.volume || r.muted;
          if(r.setState("is-muted", e), Dt.setItem("mute", e), a.attr("aria-label", e ? r._t("unmute", "unmute") : r._t("mute", "mute")), e) return i.adjust(0);
          i.grabbing || i.adjust(r.volume)
        })), "true" == Dt.getItem("mute") && (r.muted = !0, r.setState("is-muted", r.muted)), e.muted_initially) return r.volume = 0, r.one("pause", (function() {
        r.volume = 1 * (Dt.getItem("volume") || 1), r.play()
      })), i;
      var o = Dt.getItem("volume");
      return o && !isNaN(o) && (r.volume = Number(o)), r.emit("volumechange"), i
    }
  }

  function Xt(e, t) {
    e > 0 && (this.muted = !1, Dt.removeItem("mute")), Dt.setItem("volume", this.volume = e / 100), t.adjust(this.volume)
  }

  function Qt(e, t, r, n) {
    var i = 10;
    return e.empty(), n.hasClass("is-small") && (i = 8), n.hasClass("is-tiny") && (i = 6), Ct(e, {
      onseek: t,
      ctx: this
    }), Zt(e, i), e
  }

  function Jt() {
    return E.i("fp-tick")
  }

  function Zt(e, t) {
    var r = Array.apply(null, Array(t)).map(Jt);
    return e.append(r), e.adjust = function(n) {
      e.attr("aria-valuenow", n);
      var i = (n *= 100) / 100,
        a = Math.round(i * t);
      r.slice(a, t).forEach(Jt.off), r.slice(0, a).forEach(Jt.on)
    }, e
  }

  function $t(e, t, r) {
    r.toggleFullScreen = function(n, i) {
      r.ios_fullscreen_disabled || ("boolean" != typeof n && (n = !r.in_fullscreen), n != r.in_fullscreen && (r.in_fullscreen = n, r.emit(n ? "fullscreenenter" : "fullscreenexit"), r.emit("resize"), E.document.fullscreenEnabled && !e.fake_fullscreen && (n ? t.requestFullScreen() : E.document.exitFullScreen()), er() && (r.in_fullscreen ? function(e) {
        e.getAttribute("playsinline") && e.removeAttribute("playsinline");
        e.getAttribute("webkit-playsinline") && e.removeAttribute("webkit-playsinline");
        e.webkitEnterFullScreen()
      }(r) : function(e, t, r) {
        e.getAttribute("playsinline") || e.setAttribute("playsinline", "");
        e.getAttribute("webkit-playsinline") || e.setAttribute("webkit-playsinline", "");
        t || e.webkitExitFullScreen();
        e.togglePlay(!1), r.hasClass(I) || r.addClass(I)
      }(r, i, t))))
    }, er() && (r.ios_fullscreen_disabled = !0, r.one("beforeplay", (function() {
      r.ios_fullscreen_disabled = !1
    })), r.on("webkitendfullscreen", (function() {
      r.toggleFullScreen(!1, !0)
    }), !1)), r.on(["fullscreenexit", "fullscreenenter"], (function(e) {
      var t = "fullscreenenter" == e.type;
      r.in_fullscreen = t, r.setState("is-fullscreen", t)
    })), !1 !== e.dblclickable && t.on("dblclick", (function(e) {
      e.target == t.ui && r.toggleFullScreen()
    }))
  }

  function er() {
    return N().ios
  }

  function tr(e, t, r) {
    var n = E.div("fp-header"),
      i = E.div("fp-primary"),
      o = E.div("fp-duration"),
      s = function(e, t) {
        var r = E.div("fp-secondary").addClass("fp-togglable");
        $t(e, t.root, t);
        var n = It(Mt).attr("role", "button").attr("aria-label", t._t("core.fullscreen")),
          i = It(Pt).attr("role", "button").attr("aria-label", t._t("core.fullscreen_exit"));
        return n.on(U, t.toggleFullScreen), i.on(U, t.toggleFullScreen), r.append([n, i]), r
      }(e, r),
      l = {
        logo: null
      };
    r.on(H, (function(e) {
      ! function(e, t) {
        if(!t) return e.empty();
        e.txt(u(t))
      }(o, a(e, "data.duration"));
      var t = l.logo,
        r = a(e, "data.logo");
      t != r && (l.logo = r, function(e, t, r) {
        if(t) {
          e.empty();
          var n = E.img({
            class: "fp-logo",
            src: t,
            alt: "Brand logo"
          });
          if(r) {
            var i = E.a({
              href: r
            });
            i.append(n), n = i
          }
          e.append(n)
        }
      }(i, r, a(e, "data.logo_href")))
    })), n.append([i, o, s]), t.append(n), t.reaper.put("header", n), t.reaper.put("header.secondary", s)
  }
  Yt.inject_bar = Qt, Yt.Tick = Jt, Jt.on = function(e) {
      e.addClass("fp-color")
    }, Jt.off = function(e) {
      e.removeClass("fp-color")
    }, Yt.extend_volume_slider = Zt,
    function() {
      var e = E.document;
      if(e) {
        e.on("webkitfullscreenchange mozfullscreenchange MSFullscreenChange msfullscreenchange", (function() {
          e.emit("fullscreenchange", e.fullscreenElement || e.webkitFullscreenElement || e.mozFullScreenElement || e.msFullscreenElement)
        }));
        var t = Element.prototype;
        t.requestFullScreen || ["webkit", "moz", "ms"].forEach((function(r) {
          var n = t[r + "RequestFullScreen"] || t.msRequestFullscreen,
            i = e[r + "CancelFullScreen"] || e.msExitFullscreen;
          n && (t.requestFullScreen = n, e.fullscreenEnabled = !0), i && (e.exitFullScreen = i)
        })), e.on("fullscreenchange", (function(e) {
          var t, r = !1 !== function() {
            try {
              if("boolean" == typeof document.fullscreen) return document.fullscreen;
              if("boolean" == typeof document.mozFullScreen) return document.mozFullScreen;
              if("boolean" == typeof document.webkitIsFullScreen) return document.webkitIsFullScreen;
              if("boolean" == typeof document.msFullscreenElement) return document.msFullscreenElement
            }
            catch (e) {
              return
            }
          }() && (e.data || e.target || !1);
          t = r, T.forEach((function(e) {
            if(!1 === t) return e.emit("fullscreenexit");
            e.root !== t && e.in_fullscreen && e.emit("fullscreenexit")
          }))
        }))
      }
    }();
  var rr = [1, 2, 3];

  function nr(e, t, r) {
    var n = E.div("fp-middle"),
      i = E.div("fp-left-zone"),
      a = E.div("fp-middle-zone"),
      o = E.div("fp-right-zone"),
      s = [i, a, o];
    return function(e, t) {
        var r = t[0],
          n = t[1];
        e.on("seeked", (function() {
          t.forEach(ar)
        })), e.on("seek:queued", (function(e) {
          var i = e.data;
          if("number" == typeof i.offset) {
            var a = i.offset;
            if(0 == a) return t.forEach(ar);
            var o, s = a > 0 ? n : r;
            return ar(s == n ? r : n), o = a, void(s.querySelector(".fp-zone-seconds").innerText = Math.abs(o))
          }
        })), e.on("seek:cancel", (function() {
          t.forEach(ar)
        })), t.forEach((function(t) {
          var n = t == r ? -1 : 1,
            i = E.span("fp-zone-seconds"),
            a = E.span("fp-zone-sigil"),
            o = ir(Nt).cloneNode(!0);
          o.setAttribute("class", "fp-fast-forward"), a.append([o.cloneNode(!0), o.cloneNode(!0)]), t.append([i, a]), ar(t), t.on("touchend", (function(t) {
            isNaN(e.duration) || isNaN(e.currentTime) || 16384 & e.opts.ui || e.hasState("no-timeline") || !e.hasState("will-seek") && !e.hasState(I) || e.enqueueSeek(5 * n) && (t.stopPropagation(), t.preventDefault())
          }))
        }))
      }(r, [i, o]), s.forEach((function(e) {
        n.append(e)
      })), r.root.reaper.put("middle", n),
      function(e, t) {
        e.on([U, "dblclick"], (function(e) {
          if(!e.defaultPrevented) return e.preventDefault(), t.emit(e.type, e.data), !1
        })), t.on(U, (function(e) {
          setTimeout((function() {
            e.defaultPrevented || t.hasState(D) || t.togglePlay()
          }), 0)
        })), t.on("dblclick", (function(e) {
          setTimeout((function() {
            e.defaultPrevented || t.toggleFullScreen()
          }), 0)
        }))
      }(n, r),
      function(e) {
        for(var t = E.div("fp-wait"), r = 0; r < 4; r++) t.append(E("<b>"));
        e.append(t)
      }(a), e.mouseover_play && r.root.on(["mouseenter", "mouseleave"], (function(e) {
        r.togglePlay("mouseenter" == e.type)
      })), rr.forEach((function(e) {
        a.append(E.div("fp-switch", [qt["PLAY_" + e], qt["PAUSE_" + e]].map(ir)).addClass("fp-play-" + e))
      })), t.append(n), n.attr("tabindex", 0), n.attr("role", "button"), n.attr("aria-label", r._t("core.play")), r.once(["playing", "seeked"], (function() {
        n.removeAttribute("tabindex"), n.removeAttribute("role"), n.removeAttribute("aria-label")
      })), n
  }

  function ir(e) {
    var t = It(e);
    return t.removeAttribute("tabindex"), t
  }

  function ar(e) {
    e.querySelector(".fp-zone-seconds").innerText = ""
  }
  var or = "function" == typeof requestAnimationFrame ? requestAnimationFrame : setTimeout;
  var sr = E.div,
    ur = E.span;

  function lr(e, t, r, n) {
    "function" == typeof r && (n = r, r = void 0), r = "string" == typeof r ? " " + r : "", n = n || sr;
    var i = cr(t);
    return e.put(t, n(i + r))
  }

  function cr(e) {
    return "fp-" + e
  }

  function dr(e, t) {
    return t.translation_key ? n({
      title: e.translate(t.translation_key)
    }, t) : t
  }

  function fr(e, t) {
    var r = sr("fp-controls fp-togglable"),
      n = Z(r),
      i = lr(n, "timeline", cr("bar")),
      a = lr(n, "btns", cr("small-switch")),
      o = lr(n, "live-status"),
      s = lr(n, "live-indicator", cr("color")),
      l = lr(n, "live-text").txt("live"),
      c = lr(n, "buffer"),
      d = lr(n, "progress", cr("color")),
      f = lr(n, "hover"),
      h = lr(n, "timestamp"),
      p = lr(n, "duration"),
      v = lr(n, "elapsed", ur).txt(u(0)),
      g = lr(n, "dragger", cr("color")),
      m = dr.bind(null, t);
    i.attr("role", "slider").attr("tabindex", "0").attr("aria-label", t.translate("timeline", "Timeline")), i.append([c, d, f, h]), r.append([a, o, v, i, p]), o.append([s, l]), Z(r);
    var y = It(m(Vt)).attr("role", "button"),
      _ = It(m(Kt)).attr("role", "button");
    return y.on("click", (function() {
      setTimeout((function() {
        _.focus && _.focus()
      }), 100)
    })), _.on("click", (function() {
      setTimeout((function() {
        y.focus && y.focus()
      }), 100)
    })), a.append([y, _]), d.append(g), e.append(r), r
  }

  function hr(e, t) {
    var r = e.innerWidth() / e.parentElement.innerWidth() * 100 / 2;
    e.css("left", t - r + "%").show()
  }
  var pr = Object.freeze({
    __proto__: null,
    tooltip_offset: hr,
    buffer_update: function(e, t, r) {
      if(!isNaN(t.duration)) {
        var n = t.buffered || {};
        n.length && r.buffer.css("width", Math.min(n.end(0) / t.duration * 100, 100) + "%")
      }
    },
    progress: function(e, t, r) {},
    loadedmetadata: function(e, t, r) {
      t.duration && r.duration.txt(u(t.duration))
    },
    timeupdate: function(e, t, r) {
      r.elapsed.txt(u(t.currentTime))
    },
    timeline_repaint: function(e, t, r) {
      r.progress.css("width", t.currentTime / t.duration * 100 + "%")
    },
    timeline_mouse_move: function(e, t, r) {
      r.hover.css("width", e.percent + "%")
    },
    timeline_grab_start: function(e, t, r) {
      r.timestamp.show()
    },
    timeline_grab_moved: function(e, t, r) {
      var n = t.duration * (e.percent / 100);
      if(t.disabled && n > t.currentTime) return !1;
      r.progress.css("width", e.percent + "%"), t.currentTime = n
    },
    timeline_grab_end: function(e, t, r) {},
    recover: function() {},
    timeline_mouse_enter: function(e, t, r) {
      r.timestamp.show()
    },
    timeline_mouse_leave: function(e, t, r) {
      r.hover.css("width", 0), r.timestamp.hide()
    },
    tooltip_update: function(e, t, r) {
      var n = e.percent,
        i = r.timestamp;
      !i || isNaN(n) || isNaN(t.duration) || (hr(r.timestamp, n), i.empty().append(E.span().txt(u(n / 100 * t.duration))))
    }
  });

  function vr(e) {
    if("object" != typeof e.opts) return {
      head: 0,
      tail: 0
    };
    if(e.opts.live_seekable_range) return e.opts.live_seekable_range;
    if(0 == e.seekable.length) return {
      head: 0,
      tail: 0
    };
    const t = e.opt("live_dvr_window", 0),
      r = e.seekable.end(e.seekable.length - 1);
    return {
      head: r,
      tail: Math.max(e.seekable.start(0), r - t)
    }
  }

  function gr(e) {
    return e.opt("live", !1) || e.duration >= Number.MAX_SAFE_INTEGER
  }

  function mr(e) {
    return isFinite(e.duration) ? e.duration : 0 == e.seekable.length ? 0 : e.seekable.end(0)
  }

  function yr(e) {
    const t = e.opts.live_now;
    return "number" == typeof t ? t : function(e) {
      return vr(e).head
    }(e) - function(e) {
      return e.opts.live_rebuffer_budget || .5
    }(e)
  }

  function _r(e, t) {
    if(t > 1 || t < 0) return console.warn("cannot calculate a percent outside of range(0..1)"), 0;
    if(isFinite(e.duration)) return mr(e) * t;
    var r = e.seekable.start(0);
    return r + t * (e.seekable.end(0) - r)
  }
  var br = Object.freeze({
    __proto__: null,
    time_watched: function(e) {
      var t = Date.now();
      return Math.round((t - (e.stream_start || t)) / 1e3)
    },
    progress: function(e, t, r) {},
    timeupdate: function(e, t, r) {
      r.elapsed.txt(u(t.currentTime))
    },
    loadedmetadata: function(e, t, r) {},
    timeline_repaint: function(e, t, r) {},
    tooltip_update: function(e, t, r) {
      if(!t.seeking && t.seekable && 0 != t.seekable.length) {
        var n = _r(t, e.percent / 100);
        hr(r.timestamp, e.percent);
        var i = isFinite(t.duration) ? n : t.seekable.start(0) + n;
        r.timestamp.txt(u(i))
      }
    },
    seek_to_now: function(e, t, r) {
      try {
        if(!t.hasState("is-live-seeked")) return;
        t.dvr_offset = 0;
        var n = yr(t);
        t.currentTime = n, t.setState("is-live-seeked", !1), r.progress.css("width", 0)
      }
      catch (e) {
        console.warn("failed to seek to now: %j", e)
      }
    },
    buffer_update: function(e, t, r) {},
    timeline_grab_start: function(e, t, r) {},
    timeline_grab_moved: function(e, t, r) {},
    timeline_grab_end: function(e, t, r) {
      var n = e.percent / 100;
      t.currentTime = _r(t, n)
    },
    timeline_mouse_move: function(e, t, r) {
      r.hover.css("width", 100 - e.percent + "%")
    },
    timeline_mouse_leave: function(e, t, r) {
      r.hover.css("width", 0), r.timestamp.hide()
    }
  });

  function Er(e) {
    if(!(this instanceof Er)) return new Er(e);
    var t = this.kinds = {
      vod: n({}, pr),
      live: n({}, br)
    };
    this.route = function(r, n) {
      var i = (t[r] || {})[n.type];
      if(i) return i.apply(n.currentTarget, [n].concat(e, r))
    }
  }

  function Ar(e, t, r) {
    if(r.opt("controls")) {
      var n = fr(t.ui, r.translator),
        i = t.reaper.put("timeline", n.timeline);
      t.reaper.put("controls", n);
      var o = Er([r, n]);
      r.reaper.put("_behavior", o), [].forEach.call(n.btns.childNodes, (function(e) {
        e.on(U, r.togglePlay)
      })), n["live-status"].on(U, (function() {
        o.route("live", {
          type: "seek_to_now"
        })
      })), r.on(H, (function(t) {
        if(0 != r.reaper) {
          var i = gr(r) ? NaN : a(t, "data.duration");
          if(void 0 === a(t, "data.seekable") && (e.seekable = !0), isNaN(i) || i >= Number.MAX_SAFE_INTEGER) return n.duration.hide();
          n.duration.show(), n.duration.txt(u(i))
        }
      }));
      var s, l, c, d, f, h, p = (s = function() {
        0 != r.reaper && (o.route(Tr(e), {
          type: "timeline_repaint"
        }), r.paused || i && i.grabbing || requestAnimationFrame(p))
      }, l = setTimeout, c = 15 || 60, d = Math.ceil(1e3 / c), f = Date.now(), h = null, function() {
        var e = Date.now() - f;
        null === h && (h = (l || or)((function() {
          h = null, s.apply(this, arguments), f = Date.now()
        }), Math.max(0, d - e)))
      });
      r.on("playing", p), r.paused || p(r, i), r.on("timeupdate", (function(t) {
        if(0 != r.reaper) {
          var n = Tr(e);
          i.attr("aria-valuenow", r.currentTime), o.route(n, t), o.route(n, {
            type: "buffer_update"
          }), p(r, i), e.live && function(e) {
            return !("dvr" in e) || 1 == e.dvr
          }(e) && function(e, t) {
            if(0 == t) return !0;
            var r = vr(e);
            return r.head - r.tail >= t
          }(r, e.seconds_to_dvr || 0) && r.setOpts({
            dvr: r.seekable.length > 0
          })
        }
      })), r.on("progress", (function(t) {
        if(0 != r.reaper) {
          var n = Tr(e);
          o.route(n, t), o.route(n, {
            type: "buffer_update"
          })
        }
      })), r.on("live", (function() {
        r.setState("is-live-seeked", !1), n.progress.css("width", "0%")
      })), r.on("dvr", (function() {
        var e = mr(r),
          t = r.seekable.end(0) - r.seekable.start(0),
          i = (e - r.currentTime) / t * 100,
          a = Math.round(i);
        r.setState("is-live-seeked", a > 0), n.progress.css("width", a + "%")
      })), r.on("seeking", (function() {
        if(gr(r) && 0 != r.seekable.length && 0 != r.played.length && 0 != mr(r)) {
          var e = yr(r),
            t = r.currentTime >= e ? "live" : "dvr";
          r.emit(t)
        }
      })), r.on(B, (function(t) {
        if(0 != r.reaper) {
          r.stream_start || r.setOpts({
            live: gr(r)
          });
          var n = Tr(e);
          o.route(n, t), o.route(n, {
            type: "buffer_update"
          })
        }
      })), r.on("durationchange", (function(e) {
        if(0 != r.reaper) {
          var t = gr(r),
            n = t ? mr(r) : e.data || r.duration;
          0 == r.reaper || isNaN(n) || (r.setOpts({
            live: t,
            duration: n
          }), i.attr("aria-valuemax", n), i.attr("aria-valuemin", "0"))
        }
      })), r.on("recover", (function(t) {
        var r = Tr(e);
        o.route(r, t)
      }));
      var v = !1;
      Ct(i, {
        onseek: wr(r, (function(t) {
          var r = Tr(e);
          o.route(r, {
            type: "timeline_grab_moved",
            percent: t
          }), o.route(r, {
            type: "tooltip_update",
            percent: t
          })
        })),
        onstart: wr(r, (function() {
          r.setState(C, !0), o.route(Tr(e), {
            type: "timeline_grab_start"
          })
        })),
        onend: function(t, n) {
          if(0 == e.seekable) return p();
          r.setState(C, !1), o.route(Tr(e), {
            type: "timeline_grab_end",
            percent: n
          }), p()
        },
        ontouch: function() {
          r.paused || (v = !0, r.pause())
        },
        ontouchend: function() {
          v && (v = !1, r.play()), o.route(Tr(e), {
            type: "timeline_mouse_leave"
          })
        },
        onmouse: wr(r, (function(t) {
          if(!i.grabbing) {
            var r = Tr(e);
            o.route(r, {
              type: "timeline_mouse_move",
              percent: t
            }), o.route(r, {
              type: "tooltip_update",
              percent: t
            })
          }
        }))
      }).on("mouseleave", (function() {
        o.route(Tr(e), {
          type: "timeline_mouse_leave"
        })
      }))
    }
  }

  function Tr(e) {
    return e.live ? "live" : "vod"
  }

  function wr(e, t) {
    return function() {
      0 != a(e, "opts.seekable", !0) && (isNaN(e.duration) || t.apply(null, arguments))
    }
  }

  function Sr() {
    return "https:" === location.protocol
  }
  var kr = {
    "-1": "an unknown error occurred",
    1: "media playback was aborted",
    2: "a network error occurred",
    3: "unable to decode media content",
    4: "unsupported media type",
    1001: "cannot load insecure content in a secure context",
    1002: "no internet connection detected"
  };

  function Rr() {
    return !0 === (navigator || {}).onLine
  }

  function Lr(e) {
    try {
      return Sr() && "http:" == function(e) {
        var t = document.createElement("a");
        return t.href = e, t
      }(e).protocol
    }
    catch (e) {
      return !1
    }
  }

  function Or(e, r, n) {
    n.on(F, (function(e) {
      var i = e.data || n.error || {},
        a = e.code || i.code,
        o = "Error: %s\n" + (new Error).stack.split("\n").slice(2).join("\n");
      setTimeout((function() {
        if(!e.defaultPrevented && "AbortError" != i.name) {
          n.setState("is-error", !0), 8 === a || i.fatal || function(e) {
            var r = e.togglePlay,
              n = e.root;
            e.togglePlay = t, e.one("recover", (function() {
              e.togglePlay = r, e.setState("is-error", !1);
              var t = n.find(".fp-error");
              t && t.remove()
            }))
          }(n);
          var s = function(e, t, r) {
              switch(t) {
                case "http:0":
                  return function(e) {
                    return Lr(e.original_src) ? {
                      code: 1001
                    } : Rr() ? {
                      code: 2
                    } : Rr() ? {
                      code: -1
                    } : {
                      code: 1002
                    }
                  }(e);
                case 4:
                  return e.one("loadstart", (function() {
                    e.emit("recover")
                  })), r;
                default:
                  return r
              }
            }(n, a, i),
            u = function(e, t) {
              if(t.message) return t.message;
              if(t.stack) return t.stack;
              var r = t.code || -1;
              return e._t("media_errors." + r, kr[r] || kr[-1])
            }(n, s);
          return console.error(o, u),
            function(e, t, r, n) {
              if(e) {
                var i = E.div("fp-error").txt(t);
                if(n) {
                  var a = e.querySelector("#" + n);
                  a && e.removeChild(a), i.id = n
                }
                e.append(i), r && i.append(E.div("fp-error-details").txt(r))
              }
            }(r.ui, u, i.details)
        }
      }))
    }))
  }

  function Cr(e, t, r) {
    var n = document.createDocumentFragment(),
      i = E.div("fp-ui");
    Z(i), n.appendChild(i), t.reaper.put("ui", i), ~t.className.indexOf("use-play-") || t.addClass("use-play-" + (e.play || 1)),
      function(e, t, r) {
        var n = t.append(E.div({
          class: "fp-footer"
        }));
        r.on(H, (function(e) {
          var t = e.data,
            r = t.description,
            i = t.title;
          if(n.empty(), "string" == typeof i && n.append(E.div({
              class: "fp-title"
            }).txt(t.title)), "string" == typeof r) {
            var a = r.split(" "),
              o = E.div({
                class: "fp-desc"
              }).txt(a.join(" "));
            for(n.append(o); a.length > 1 && o.scrollHeight > o.offsetHeight;) a.pop(), o.txt(a.join(" ") + "...")
          }
        }))
      }(0, t, r), tr(e, i, r), nr(e, i, r), Ar(e, t, r), Yt(e, t.controls, r), Or(0, t, r), t.appendChild(n), t.on(["mouseenter", "mouseleave"], (function(e) {
        r.setState("is-hovered", "mouseenter" == e.type), r.setState("is-accessibility", !1)
      })), r.on(H, (function(e) {
        var r = a(e, "data.ui", {});
        "number" == typeof r && (t.toggleClass("use-play-1", !(32 & r || 64 & r)), t.toggleClass("use-play-2", 32 & r), t.toggleClass("use-play-3", 64 & r), t.toggleClass("use-thin-controlbar", 128 & r), t.toggleClass("no-title", 256 & r), t.toggleClass("no-description", 512 & r), t.toggleClass("logo-on-right", 8 & r), t.toggleClass("use-drag-handle", 16 & r), t.toggleClass("no-controls", 1024 & r), t.toggleClass("no-duration", 2048 & r), t.toggleClass("no-header", 4096 & r), t.toggleClass("no-mute", 4 & r), t.toggleClass("no-volume", 2 & r), t.toggleClass("no-fullscreen", 1 & r), t.toggleClass("no-touch-zones", 16384 & r))
      }));
    var o = !1;
    i.on("mousemove", (function() {
      "number" == typeof o && clearTimeout(o), r.setState("is-hovered", !0), o = 0 == r.paused && setTimeout((function() {
        r.setState("is-hovered", !1)
      }), 2e3)
    }))
  }

  function Dr(e, t) {
    var r = {
        token_id: e,
        factor: 1,
        rnd: Math.random().toString(36).substring(2)
      },
      n = new XMLHttpRequest,
      i = JSON.stringify(r),
      a = "undefined" != typeof flowplayer && flowplayer.METERING_URL ? flowplayer.METERING_URL : "https://pmi.flowplayer.com/in";
    n.open("POST", a, !0), n.timeout = 2500, n.send(i), n.addEventListener("load", t.bind(null, n))
  }

  function xr(e) {
    if(!(this instanceof xr)) return new xr(e);
    this.dictionaries = e, this.translate = function(e, t) {
      return void 0 === t && (t = ""),
        function e(t, r, n, i) {
          return (i = i || 0) >= t.length ? n : a(t[i], r, e(t, r, n, i + 1))
        }(this.dictionaries, e, t)
    }
  }
  Cr.onumd = function(e) {
    e.create_svg = function(e, t, r) {
      return t && !document.querySelector(t) && r && (r.style.display = "none", document.body.appendChild(r)), It(e)
    }
  }, xr.of = xr;
  var Ir = {
      ads: {
        ad: "Ad",
        ads: "Ads",
        advertisement: "Advertisement"
      },
      audio: {
        button_txt: "Audio",
        menu_title: "Audio"
      },
      core: {
        exit_fullscreen: "Exit fullscreen",
        fullscreen: "Fullscreen",
        mute: "Mute",
        pause: "Pause",
        play: "Play",
        unmute: "Unmute",
        volume: "Volume"
      },
      ovp: {
        starting_in: "Countdown"
      },
      playlist: {
        cancel: "Cancel",
        up_next: "Up next"
      },
      qsel: {
        menu_title: "Quality"
      },
      share: {
        clipboard_failure: "Access to clipboard failed",
        clipboard_success: "The text is now on your clipboard",
        embed: "Embed",
        link: "Link",
        menu_title: "Share"
      },
      speed: {
        menu_title: "Speed"
      }
    },
    Mr = [].concat;
  var Pr = Ge(window, (function() {}));
  Pr.onapi = function(e, t, r) {
    r.reaper.put("translator", new xr(function(e, t) {
      var r = {};
      Pr[e.lang] && (r[e.lang] = Pr[e.lang]);
      (function() {
        try {
          return Mr.apply([], (navigator.languages || [navigator.language]).map((function(e) {
            return ~e.indexOf("-") ? [e, e.split("-")[0]] : [e]
          }))).map((function(e) {
            return e.toLowerCase()
          }))
        }
        catch (e) {
          return []
        }
      })().forEach((function(e) {
        Pr[e] && !r[e] && (r[e] = Pr[e])
      })), r.length || (r[t] = Pr[t]);
      return function(e) {
        var t = [];
        for(var r in e) e.hasOwnProperty(r) && t.push(e[r]);
        return t
      }(r)
    }(e, "en"))), r._t = function(e, t) {
      return r.translator.translate(e, t || "")
    }
  }, Pr.en = Ir;
  var Nr = Date.now(),
    Fr = {
      session_id: Math.random().toString(36).substring(2) + performance.now().toString(36)
    };
  class Ur {
    constructor() {
      this._summary = {}, this._session_id = Fr, this.start_time = Nr
    }
    increment(e, t) {
      if("string" == typeof e && "number" == typeof t) {
        var r = this._summary[e] || 0;
        this._summary[e] = r + t
      }
    }
    set(e, t) {
      "string" == typeof e && (this._summary[e] = t)
    }
    duration() {
      return Date.now() - this.start_time
    }
    summary(e) {
      return n("object" == typeof e ? e : {}, {
        event: "health_summary"
      }, this._summary, this._session_id, {
        duration: this.duration()
      })
    }
    sessionize(e) {
      return n(e, this._session_id)
    }
  }

  function Br(e, t) {
    return function(e, t) {
      return "function" == typeof navigator.sendBeacon && navigator.sendBeacon(e, t)
    }(e, JSON.stringify({
      events: t
    }))
  }
  class jr {
    constructor(e) {
      this.middleware = e, this._pending = []
    }
    pending() {
      return this._pending
    }
    _run_middleware(e, t) {
      return e = n({}, e), this.middleware.forEach((function(r) {
        var i = r(t);
        if("object" == typeof i) return n(e, i);
        console.warn("KPI::middleware did not return an Object\nreturn: %o\n\nfn: %s", i, r)
      })), e
    }
    push(e, t) {
      e = this._run_middleware(e, t), this.push_finalized(e)
    }
    push_finalized(e) {
      this._pending.push(e), this.send()
    }
    send(e) {
      if(!(this._pending.length < 20) || e) {
        var t = this._pending.slice(0);
        this._pending.length = 0, Br("https://health.flowplayer.com/v1/health/events", t)
      }
    }
  }

  function Gr() {
    return a(window, "navigator.connection.downlink")
  }

  function Hr(e) {
    const t = e.hls;
    if(!t) return;
    const r = t.abrController._bwEstimator;
    return r ? .001 * r.getEstimate() : void 0
  }

  function Kr(e) {
    const t = [Hr, Gr];
    for(; t.length;) {
      const r = t.shift(),
        n = "function" == typeof r && r(e);
      if("number" == typeof n) return {
        downlink_mbs: Number(n.toFixed(2))
      }
    }
    return {}
  }
  const Vr = document.createElement("a");

  function qr(e) {
    var t = e.original_src;
    return "string" != typeof t ? {} : (Vr.href = t, "string" == typeof Vr.pathname ? {
      media_type: Vr.pathname.split(".").pop()
    } : {})
  }

  function Wr(e) {
    return {
      preload: e.opt("preload"),
      autoplay: e.opt("autoplay", e.autoplay)
    }
  }

  function zr(e) {
    return {
      player_id: e.opt("metadata.player_id"),
      media_id: e.opt("metadata.media_id"),
      site_id: e.opt("metadata.site_id"),
      category_id: e.opt("metadata.category_id"),
      sitegroup_id: e.opt("metadata.sitegroup_id"),
      token: e.token
    }
  }

  function Yr() {
    return {
      timestamp: Date.now()
    }
  }

  function Xr() {
    return {
      ua: navigator.userAgent,
      version: "2.9.6",
      commit: "c21973731e50f047756ebba96e9d958593a2fa2e"
    }
  }
  var Qr = [F, "rebuffer"],
    Jr = Qr.concat(["load", "loadstart", B, j, "error:fatal", "playing", "seeked", "quality:set", "pause", "ended", "seeking"]);
  let Zr = !1;

  function $r(e, t, r) {
    e.push_finalized(n(t.summary({}), Wr(r), zr(r), Yr(), Xr())), e.send(!0)
  }

  function en(e) {
    try {
      return !!new URL(e)
    }
    catch (e) {
      return !1
    }
  }
  var tn = Ge(window, (function(e, t, r) {
    if(!r._health) {
      Zr || function(e) {
        Zr = !0, window.addEventListener("unload", (function() {
          e && "function" == typeof e && Array.isArray(e.instances) && e.instances.forEach(e => e.emit("unload"))
        }))
      }(this);
      var n = r._health = new Ur,
        i = r._kpis = new jr([qr, Wr, zr, Kr, Yr, Xr]);
      Qr.forEach(e => {
          n.set(e, 0)
        }),
        function(e) {
          e.on("waiting", (function(t) {
            e.seeking || e.networkState === e.NETWORK_LOADING && e.readyState !== e.HAVE_NOTHING && e.emit("rebuffer")
          }))
        }(r), r.on(G, (function() {
          i.send(), r._kpis = r._health = void 0
        })), r.on("health:summary:increment", (function(e) {
          for(var t in e.data) n.increment(t, e.data[t])
        })), r.on("health:summary:set", (function(e) {
          for(var t in e.data) n.set(t, e.data[t])
        })), r.on(Qr, (function(e) {
          setTimeout(() => {
            e.defaultPrevented || r.emit("health:summary:increment", {
              [e.type]: 1
            })
          })
        })), r.on(Jr, (function(e) {
          setTimeout(() => {
            e.defaultPrevented || r.emit("health:kpi:track", {
              event: e.type
            })
          }, 0)
        })), r.on("health:kpi:track", (function(e) {
          const t = n.sessionize(e.data);
          i.push(t, r)
        })), r.on("src", (function(e) {
          const t = e.data && e.data.src;
          "string" == typeof t && en(r.original_src) && en(t) && t != r.original_src && $r(i, n, r)
        })), r.on("unload", (function() {
          $r(i, n, r)
        }))
    }
  }));
  ! function(e) {
    if("undefined" == typeof document || ~Me.indexOf(document.readyState)) return e();
    document.addEventListener("DOMContentLoaded", e)
  }((function() {
    ! function(e) {
      if("undefined" != typeof DOMParser) {
        var t = (new DOMParser).parseFromString(e, "image/svg+xml"),
          r = document.importNode(t.documentElement, !0);
        r && r.style && (r.style.display = "none", document.body.appendChild(r))
      }
    }("<svg id='fp-icons' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><defs><path id='FS' d='M1 9V1h12'/><path id='fp-play-button' d='M19.201 4.78l18.546 30.001a2.001 2.001 0 0 1-1.707 3.052H-1.046a2 2 0 0 1-1.701-3.052l18.545-30a2 2 0 0 1 3.403 0' transform='rotate(90 20 25.4)'/><g id='fp-pause-lines'><rect class='fp-rect' x='8.5' y='5' width='11' height='36'/><rect class='fp-rect' x='26.5' y='5' width='11' height='36'/></g><path id='fp-speaker' d='M39.389,13.769 L22.235,28.606 L6,28.606 L6,47.699 L21.989,47.699 L39.389,62.75 L39.389,13.769z'/></defs><g id='fp-play' class='fp-fill'><use xlink:href='#fp-play-button'></use></g><g id='fp-play-circle' class='fp-fill'><circle cx='22.9' cy='22.9' r='23.5' class='fp-thin-stroke' fill='none'/><use xlink:href='#fp-play-button' transform='translate(11.5, 9.8) scale(.57)'></use></g><g id='fp-play-stroke' fill='none' class='fp-thin-stroke'><use xlink:href='#fp-play-button'></use></g><g id='fp-pause' class='fp-fill'><use xlink:href='#fp-pause-lines'></use></g><g id='fp-pause-stroke' fill='none' class='fp-thin-stroke'><use xlink:href='#fp-pause-lines'></use></g><g id='fp-volume' class='fp-fill'><path class='fp-rect' d='M0 15h30v24H0z'/><path d='M1 27L31 0v54z'/></g><g id='fp-fs' fill='none' class='fp-thin-stroke'><use xlink:href='#FS'/><use xlink:href='#FS' transform='matrix(1 0 0 -1 0 26)'/><use xlink:href='#FS' transform='matrix(-1 0 0 1 36 0)'/><use xlink:href='#FS' transform='rotate(180 18 13)'/></g><g id='fp-exit' fill='none' class='fp-thin-stroke'><use xlink:href='#FS' transform='translate(22 17)'/><use xlink:href='#FS' transform='matrix(-1 0 0 1 13 17)'/><use xlink:href='#FS' transform='rotate(180 6.5 4.5)'/><use xlink:href='#FS' transform='matrix(1 0 0 -1 22 9)'/></g><g id='fp-facebook'><path fill='#4469B0' d='M448 56.7v398.5c0 13.7-11.1 24.7-24.7 24.7H309.1V306.5h58.2l8.7-67.6h-67v-43.2c0-19.6 5.4-32.9 33.5-32.9h35.8v-60.5c-6.2-.8-27.4-2.7-52.2-2.7-51.6 0-87 31.5-87 89.4v49.9h-58.4v67.6h58.4V480H24.7C11.1 480 0 468.9 0 455.3V56.7C0 43.1 11.1 32 24.7 32h398.5c13.7 0 24.8 11.1 24.8 24.7z'/></g><g id='fp-link'><path fill='currentColor' d='M301.148 394.702l-79.2 79.19c-50.778 50.799-133.037 50.824-183.84 0-50.799-50.778-50.824-133.037 0-183.84l79.19-79.2a132.833 132.833 0 0 1 3.532-3.403c7.55-7.005 19.795-2.004 20.208 8.286.193 4.807.598 9.607 1.216 14.384.481 3.717-.746 7.447-3.397 10.096-16.48 16.469-75.142 75.128-75.3 75.286-36.738 36.759-36.731 96.188 0 132.94 36.759 36.738 96.188 36.731 132.94 0l79.2-79.2.36-.36c36.301-36.672 36.14-96.07-.37-132.58-8.214-8.214-17.577-14.58-27.585-19.109-4.566-2.066-7.426-6.667-7.134-11.67a62.197 62.197 0 0 1 2.826-15.259c2.103-6.601 9.531-9.961 15.919-7.28 15.073 6.324 29.187 15.62 41.435 27.868 50.688 50.689 50.679 133.17 0 183.851zm-90.296-93.554c12.248 12.248 26.362 21.544 41.435 27.868 6.388 2.68 13.816-.68 15.919-7.28a62.197 62.197 0 0 0 2.826-15.259c.292-5.003-2.569-9.604-7.134-11.67-10.008-4.528-19.371-10.894-27.585-19.109-36.51-36.51-36.671-95.908-.37-132.58l.36-.36 79.2-79.2c36.752-36.731 96.181-36.738 132.94 0 36.731 36.752 36.738 96.181 0 132.94-.157.157-58.819 58.817-75.3 75.286-2.651 2.65-3.878 6.379-3.397 10.096a163.156 163.156 0 0 1 1.216 14.384c.413 10.291 12.659 15.291 20.208 8.286a131.324 131.324 0 0 0 3.532-3.403l79.19-79.2c50.824-50.803 50.799-133.062 0-183.84-50.802-50.824-133.062-50.799-183.84 0l-79.2 79.19c-50.679 50.682-50.688 133.163 0 183.851z'/></g><g id='fp-share' class='fp-fill'><path d='M448 416c0 53.019-42.981 96-96 96s-96-42.981-96-96c0-12.965 2.576-25.327 7.235-36.61l-95.45-59.657C150.199 339.525 124.558 352 96 352c-53.019 0-96-42.981-96-96s42.981-96 96-96c28.558 0 54.199 12.475 71.784 32.267l95.45-59.657C258.576 121.327 256 108.965 256 96c0-53.019 42.981-96 96-96s96 42.981 96 96-42.981 96-96 96c-28.558 0-54.199-12.475-71.784-32.267l-95.451 59.656c9.661 23.396 9.641 49.87 0 73.22l95.451 59.656C297.801 332.475 323.442 320 352 320c53.019 0 96 42.981 96 96zM352 32c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64M96 192c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64m256 160c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64'/></g><g id='fp-twitter'><path fill='#29A3EF' d='M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z'/></g><g id='fp-airplay'><path d='M116.364 477.091h279.272L256 337.455z'/><path d='M465.455 34.909H46.545C20.945 34.909 0 55.855 0 81.455v279.273c0 25.6 20.945 46.545 46.545 46.545h93.091v-46.545H46.545V81.455h418.909v279.273h-93.091v46.545h93.091c25.6 0 46.545-20.945 46.545-46.545V81.455c.001-25.6-20.944-46.546-46.544-46.546z'/></g><g id='fp-skip-next' fill='#fff' fill-rule='evenodd'><path d='M33.23 22.696L3.56 41.223A2 2 0 0 1 .5 39.527V2.473A2 2 0 0 1 3.56.776l29.67 18.527a2 2 0 0 1 0 3.393z'/><rect x='33' y='.5' width='7' height='41' rx='2'/></g><g id='fp-skip-prev'><use xlink:href='#fp-skip-next' transform='rotate(180 21 21)'></use></g><g id='fp-close' class='fp-float-player-icons'><path d='M 48.651772,50.269646 69.395223,25.971024'/><path d='M 69.395223,50.269646 48.651772,25.971024'/></g><g id='fp-unmute' class='fp-float-player-icons'><use xlink:href='#fp-speaker'></use><path fill='none' d='M48,27.6a19.5,19.5 0 0 1 0,21.4M55.1,20.5a30,30 0 0 1 0,35.6M61.6,14a38.8,38.8 0 0 1 0,48.6'/></g><g id='fp-mute' class='fp-float-player-icons'><use xlink:href='#fp-speaker'></use><use xlink:href='#fp-close'></use></g></svg> ")
  }));
  var rn = [tn, Pr, kt, Cr, function(e, t, r) {
    [Rt, Lt].forEach((function(n) {
      n(e, t, r)
    }))
  }, function(e, t, r) {
    if(!Qe.from_token(e.token).is_granted(Qe.permissions.NO_METERING)) {
      var n = qe.id(e.token);
      if(n) {
        var i = Dr.bind(null, n, (function(e) {
          403 === e.status && r.emit("error:fatal", {
            reason: "token",
            details: "The token online validation failed"
          })
        }));
        r.one("playing", i)
      }
    }
  }];
  Je.extensions.unshift.apply(Je.extensions, rn), rn.forEach((function(e) {
    "function" == typeof e.onumd && e.onumd(Je)
  })), Je.volume = Yt, Je.storage = Dt, Je.i18n = Pr, Je.ui = Wt;
  var nn = "com.widevine.alpha";
  var an = /\.m3u8$/,
    on = "application/vnd.apple.mpegURL",
    sn = [on, "application/x-mpegurl"];

  function un(e) {
    var t = e.split("?").shift();
    return t && an.test(t)
  }

  function ln(e) {
    return "object" == typeof e
  }
  var cn = et(tt((function(e, t) {
      "undefined" != typeof window && (e.exports = function(e) {
        var t = {};

        function r(n) {
          if(t[n]) return t[n].exports;
          var i = t[n] = {
            i: n,
            l: !1,
            exports: {}
          };
          return e[n].call(i.exports, i, i.exports, r), i.l = !0, i.exports
        }
        return r.m = e, r.c = t, r.d = function(e, t, n) {
          r.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: n
          })
        }, r.r = function(e) {
          "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
          }), Object.defineProperty(e, "__esModule", {
            value: !0
          })
        }, r.t = function(e, t) {
          if(1 & t && (e = r(e)), 8 & t) return e;
          if(4 & t && "object" == typeof e && e && e.__esModule) return e;
          var n = Object.create(null);
          if(r.r(n), Object.defineProperty(n, "default", {
              enumerable: !0,
              value: e
            }), 2 & t && "string" != typeof e)
            for(var i in e) r.d(n, i, function(t) {
              return e[t]
            }.bind(null, i));
          return n
        }, r.n = function(e) {
          var t = e && e.__esModule ? function() {
            return e.default
          } : function() {
            return e
          };
          return r.d(t, "a", t), t
        }, r.o = function(e, t) {
          return Object.prototype.hasOwnProperty.call(e, t)
        }, r.p = "/dist/", r(r.s = 13)
      }([function(e, t, r) {
        r.d(t, "a", (function() {
          return c
        })), r.d(t, "b", (function() {
          return d
        }));
        var n = r(5);

        function i() {}
        var a = {
            trace: i,
            debug: i,
            log: i,
            warn: i,
            info: i,
            error: i
          },
          o = a;

        function s(e, t) {
          return "[" + e + "] > " + t
        }
        var u = Object(n.a)();

        function l(e) {
          var t = u.console[e];
          return t ? function() {
            for(var r = arguments.length, n = new Array(r), i = 0; i < r; i++) n[i] = arguments[i];
            n[0] && (n[0] = s(e, n[0])), t.apply(u.console, n)
          } : i
        }
        var c = function(e) {
            if(u.console && !0 === e || "object" == typeof e) {
              ! function(e) {
                for(var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++) r[n - 1] = arguments[n];
                r.forEach((function(t) {
                  o[t] = e[t] ? e[t].bind(e) : l(t)
                }))
              }(e, "debug", "log", "info", "warn", "error");
              try {
                o.log()
              }
              catch (e) {
                o = a
              }
            }
            else o = a
          },
          d = o
      }, function(e, t, r) {
        t.a = {
          MEDIA_ATTACHING: "hlsMediaAttaching",
          MEDIA_ATTACHED: "hlsMediaAttached",
          MEDIA_DETACHING: "hlsMediaDetaching",
          MEDIA_DETACHED: "hlsMediaDetached",
          BUFFER_RESET: "hlsBufferReset",
          BUFFER_CODECS: "hlsBufferCodecs",
          BUFFER_CREATED: "hlsBufferCreated",
          BUFFER_APPENDING: "hlsBufferAppending",
          BUFFER_APPENDED: "hlsBufferAppended",
          BUFFER_EOS: "hlsBufferEos",
          BUFFER_FLUSHING: "hlsBufferFlushing",
          BUFFER_FLUSHED: "hlsBufferFlushed",
          MANIFEST_LOADING: "hlsManifestLoading",
          MANIFEST_LOADED: "hlsManifestLoaded",
          MANIFEST_PARSED: "hlsManifestParsed",
          LEVEL_SWITCHING: "hlsLevelSwitching",
          LEVEL_SWITCHED: "hlsLevelSwitched",
          LEVEL_LOADING: "hlsLevelLoading",
          LEVEL_LOADED: "hlsLevelLoaded",
          LEVEL_UPDATED: "hlsLevelUpdated",
          LEVEL_PTS_UPDATED: "hlsLevelPtsUpdated",
          LEVELS_UPDATED: "hlsLevelsUpdated",
          AUDIO_TRACKS_UPDATED: "hlsAudioTracksUpdated",
          AUDIO_TRACK_SWITCHING: "hlsAudioTrackSwitching",
          AUDIO_TRACK_SWITCHED: "hlsAudioTrackSwitched",
          AUDIO_TRACK_LOADING: "hlsAudioTrackLoading",
          AUDIO_TRACK_LOADED: "hlsAudioTrackLoaded",
          SUBTITLE_TRACKS_UPDATED: "hlsSubtitleTracksUpdated",
          SUBTITLE_TRACK_SWITCH: "hlsSubtitleTrackSwitch",
          SUBTITLE_TRACK_LOADING: "hlsSubtitleTrackLoading",
          SUBTITLE_TRACK_LOADED: "hlsSubtitleTrackLoaded",
          SUBTITLE_FRAG_PROCESSED: "hlsSubtitleFragProcessed",
          CUES_PARSED: "hlsCuesParsed",
          NON_NATIVE_TEXT_TRACKS_FOUND: "hlsNonNativeTextTracksFound",
          INIT_PTS_FOUND: "hlsInitPtsFound",
          FRAG_LOADING: "hlsFragLoading",
          FRAG_LOAD_PROGRESS: "hlsFragLoadProgress",
          FRAG_LOAD_EMERGENCY_ABORTED: "hlsFragLoadEmergencyAborted",
          FRAG_LOADED: "hlsFragLoaded",
          FRAG_DECRYPTED: "hlsFragDecrypted",
          FRAG_PARSING_INIT_SEGMENT: "hlsFragParsingInitSegment",
          FRAG_PARSING_USERDATA: "hlsFragParsingUserdata",
          FRAG_PARSING_METADATA: "hlsFragParsingMetadata",
          FRAG_PARSING_DATA: "hlsFragParsingData",
          FRAG_PARSED: "hlsFragParsed",
          FRAG_BUFFERED: "hlsFragBuffered",
          FRAG_CHANGED: "hlsFragChanged",
          FPS_DROP: "hlsFpsDrop",
          FPS_DROP_LEVEL_CAPPING: "hlsFpsDropLevelCapping",
          ERROR: "hlsError",
          DESTROYING: "hlsDestroying",
          KEY_LOADING: "hlsKeyLoading",
          KEY_LOADED: "hlsKeyLoaded",
          STREAM_STATE_TRANSITION: "hlsStreamStateTransition",
          LIVE_BACK_BUFFER_REACHED: "hlsLiveBackBufferReached"
        }
      }, function(e, t, r) {
        var n, i;
        r.d(t, "b", (function() {
            return n
          })), r.d(t, "a", (function() {
            return i
          })),
          function(e) {
            e.NETWORK_ERROR = "networkError", e.MEDIA_ERROR = "mediaError", e.KEY_SYSTEM_ERROR = "keySystemError", e.MUX_ERROR = "muxError", e.OTHER_ERROR = "otherError"
          }(n || (n = {})),
          function(e) {
            e.KEY_SYSTEM_NO_KEYS = "keySystemNoKeys", e.KEY_SYSTEM_NO_ACCESS = "keySystemNoAccess", e.KEY_SYSTEM_NO_SESSION = "keySystemNoSession", e.KEY_SYSTEM_LICENSE_REQUEST_FAILED = "keySystemLicenseRequestFailed", e.KEY_SYSTEM_NO_INIT_DATA = "keySystemNoInitData", e.MANIFEST_LOAD_ERROR = "manifestLoadError", e.MANIFEST_LOAD_TIMEOUT = "manifestLoadTimeOut", e.MANIFEST_PARSING_ERROR = "manifestParsingError", e.MANIFEST_INCOMPATIBLE_CODECS_ERROR = "manifestIncompatibleCodecsError", e.LEVEL_EMPTY_ERROR = "levelEmptyError", e.LEVEL_LOAD_ERROR = "levelLoadError", e.LEVEL_LOAD_TIMEOUT = "levelLoadTimeOut", e.LEVEL_SWITCH_ERROR = "levelSwitchError", e.AUDIO_TRACK_LOAD_ERROR = "audioTrackLoadError", e.AUDIO_TRACK_LOAD_TIMEOUT = "audioTrackLoadTimeOut", e.FRAG_LOAD_ERROR = "fragLoadError", e.FRAG_LOAD_TIMEOUT = "fragLoadTimeOut", e.FRAG_DECRYPT_ERROR = "fragDecryptError", e.FRAG_PARSING_ERROR = "fragParsingError", e.REMUX_ALLOC_ERROR = "remuxAllocError", e.KEY_LOAD_ERROR = "keyLoadError", e.KEY_LOAD_TIMEOUT = "keyLoadTimeOut", e.BUFFER_ADD_CODEC_ERROR = "bufferAddCodecError", e.BUFFER_APPEND_ERROR = "bufferAppendError", e.BUFFER_APPENDING_ERROR = "bufferAppendingError", e.BUFFER_STALLED_ERROR = "bufferStalledError", e.BUFFER_FULL_ERROR = "bufferFullError", e.BUFFER_SEEK_OVER_HOLE = "bufferSeekOverHole", e.BUFFER_NUDGE_ON_STALL = "bufferNudgeOnStall", e.INTERNAL_EXCEPTION = "internalException"
          }(i || (i = {}))
      }, function(e, t, r) {
        r.d(t, "a", (function() {
          return n
        }));
        var n = Number.isFinite || function(e) {
          return "number" == typeof e && isFinite(e)
        }
      }, function(e, t, r) {
        r.d(t, "b", (function() {
          return s
        }));
        var n, i = r(5),
          a = function() {
            function e() {}
            return e.isHeader = function(e, t) {
              return t + 10 <= e.length && 73 === e[t] && 68 === e[t + 1] && 51 === e[t + 2] && e[t + 3] < 255 && e[t + 4] < 255 && e[t + 6] < 128 && e[t + 7] < 128 && e[t + 8] < 128 && e[t + 9] < 128
            }, e.isFooter = function(e, t) {
              return t + 10 <= e.length && 51 === e[t] && 68 === e[t + 1] && 73 === e[t + 2] && e[t + 3] < 255 && e[t + 4] < 255 && e[t + 6] < 128 && e[t + 7] < 128 && e[t + 8] < 128 && e[t + 9] < 128
            }, e.getID3Data = function(t, r) {
              for(var n = r, i = 0; e.isHeader(t, r);) i += 10, i += e._readSize(t, r + 6), e.isFooter(t, r + 10) && (i += 10), r += i;
              if(i > 0) return t.subarray(n, n + i)
            }, e._readSize = function(e, t) {
              var r = 0;
              return r = (127 & e[t]) << 21, r |= (127 & e[t + 1]) << 14, (r |= (127 & e[t + 2]) << 7) | 127 & e[t + 3]
            }, e.getTimeStamp = function(t) {
              for(var r = e.getID3Frames(t), n = 0; n < r.length; n++) {
                var i = r[n];
                if(e.isTimeStampFrame(i)) return e._readTimeStamp(i)
              }
            }, e.isTimeStampFrame = function(e) {
              return e && "PRIV" === e.key && "com.apple.streaming.transportStreamTimestamp" === e.info
            }, e._getFrameData = function(t) {
              var r = String.fromCharCode(t[0], t[1], t[2], t[3]),
                n = e._readSize(t, 4);
              return {
                type: r,
                size: n,
                data: t.subarray(10, 10 + n)
              }
            }, e.getID3Frames = function(t) {
              for(var r = 0, n = []; e.isHeader(t, r);) {
                for(var i = e._readSize(t, r + 6), a = (r += 10) + i; r + 8 < a;) {
                  var o = e._getFrameData(t.subarray(r)),
                    s = e._decodeFrame(o);
                  s && n.push(s), r += o.size + 10
                }
                e.isFooter(t, r) && (r += 10)
              }
              return n
            }, e._decodeFrame = function(t) {
              return "PRIV" === t.type ? e._decodePrivFrame(t) : "T" === t.type[0] ? e._decodeTextFrame(t) : "W" === t.type[0] ? e._decodeURLFrame(t) : void 0
            }, e._readTimeStamp = function(e) {
              if(8 === e.data.byteLength) {
                var t = new Uint8Array(e.data),
                  r = 1 & t[3],
                  n = (t[4] << 23) + (t[5] << 15) + (t[6] << 7) + t[7];
                return n /= 45, r && (n += 47721858.84), Math.round(n)
              }
            }, e._decodePrivFrame = function(t) {
              if(!(t.size < 2)) {
                var r = e._utf8ArrayToStr(t.data, !0),
                  n = new Uint8Array(t.data.subarray(r.length + 1));
                return {
                  key: t.type,
                  info: r,
                  data: n.buffer
                }
              }
            }, e._decodeTextFrame = function(t) {
              if(!(t.size < 2)) {
                if("TXXX" === t.type) {
                  var r = 1,
                    n = e._utf8ArrayToStr(t.data.subarray(r), !0);
                  r += n.length + 1;
                  var i = e._utf8ArrayToStr(t.data.subarray(r));
                  return {
                    key: t.type,
                    info: n,
                    data: i
                  }
                }
                var a = e._utf8ArrayToStr(t.data.subarray(1));
                return {
                  key: t.type,
                  data: a
                }
              }
            }, e._decodeURLFrame = function(t) {
              if("WXXX" === t.type) {
                if(t.size < 2) return;
                var r = 1,
                  n = e._utf8ArrayToStr(t.data.subarray(r), !0);
                r += n.length + 1;
                var i = e._utf8ArrayToStr(t.data.subarray(r));
                return {
                  key: t.type,
                  info: n,
                  data: i
                }
              }
              var a = e._utf8ArrayToStr(t.data);
              return {
                key: t.type,
                data: a
              }
            }, e._utf8ArrayToStr = function(e, t) {
              void 0 === t && (t = !1);
              var r = o();
              if(r) {
                var n = r.decode(e);
                if(t) {
                  var i = n.indexOf("\0");
                  return -1 !== i ? n.substring(0, i) : n
                }
                return n.replace(/\0/g, "")
              }
              for(var a, s, u, l = e.length, c = "", d = 0; d < l;) {
                if(0 === (a = e[d++]) && t) return c;
                if(0 !== a && 3 !== a) switch(a >> 4) {
                  case 0:
                  case 1:
                  case 2:
                  case 3:
                  case 4:
                  case 5:
                  case 6:
                  case 7:
                    c += String.fromCharCode(a);
                    break;
                  case 12:
                  case 13:
                    s = e[d++], c += String.fromCharCode((31 & a) << 6 | 63 & s);
                    break;
                  case 14:
                    s = e[d++], u = e[d++], c += String.fromCharCode((15 & a) << 12 | (63 & s) << 6 | (63 & u) << 0)
                }
              }
              return c
            }, e
          }();

        function o() {
          var e = Object(i.a)();
          return n || void 0 === e.TextDecoder || (n = new e.TextDecoder("utf-8")), n
        }
        var s = a._utf8ArrayToStr;
        t.a = a
      }, function(e, t, r) {
        function n() {
          return "undefined" == typeof window ? self : window
        }
        r.d(t, "a", (function() {
          return n
        }))
      }, function(e, t, r) {
        var n, i, a, o, s;
        n = /^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/, i = /^([^\/?#]*)(.*)$/, a = /(?:\/|^)\.(?=\/)/g, o = /(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g, s = {
          buildAbsoluteURL: function(e, t, r) {
            if(r = r || {}, e = e.trim(), !(t = t.trim())) {
              if(!r.alwaysNormalize) return e;
              var n = s.parseURL(e);
              if(!n) throw new Error("Error trying to parse base URL.");
              return n.path = s.normalizePath(n.path), s.buildURLFromParts(n)
            }
            var a = s.parseURL(t);
            if(!a) throw new Error("Error trying to parse relative URL.");
            if(a.scheme) return r.alwaysNormalize ? (a.path = s.normalizePath(a.path), s.buildURLFromParts(a)) : t;
            var o = s.parseURL(e);
            if(!o) throw new Error("Error trying to parse base URL.");
            if(!o.netLoc && o.path && "/" !== o.path[0]) {
              var u = i.exec(o.path);
              o.netLoc = u[1], o.path = u[2]
            }
            o.netLoc && !o.path && (o.path = "/");
            var l = {
              scheme: o.scheme,
              netLoc: a.netLoc,
              path: null,
              params: a.params,
              query: a.query,
              fragment: a.fragment
            };
            if(!a.netLoc && (l.netLoc = o.netLoc, "/" !== a.path[0]))
              if(a.path) {
                var c = o.path,
                  d = c.substring(0, c.lastIndexOf("/") + 1) + a.path;
                l.path = s.normalizePath(d)
              }
            else l.path = o.path, a.params || (l.params = o.params, a.query || (l.query = o.query));
            return null === l.path && (l.path = r.alwaysNormalize ? s.normalizePath(a.path) : a.path), s.buildURLFromParts(l)
          },
          parseURL: function(e) {
            var t = n.exec(e);
            return t ? {
              scheme: t[1] || "",
              netLoc: t[2] || "",
              path: t[3] || "",
              params: t[4] || "",
              query: t[5] || "",
              fragment: t[6] || ""
            } : null
          },
          normalizePath: function(e) {
            for(e = e.split("").reverse().join("").replace(a, ""); e.length !== (e = e.replace(o, "")).length;);
            return e.split("").reverse().join("")
          },
          buildURLFromParts: function(e) {
            return e.scheme + e.netLoc + e.path + e.params + e.query + e.fragment
          }
        }, e.exports = s
      }, function(e, t, r) {
        var n = function() {
            function e(e, t) {
              this.subtle = e, this.aesIV = t
            }
            return e.prototype.decrypt = function(e, t) {
              return this.subtle.decrypt({
                name: "AES-CBC",
                iv: this.aesIV
              }, t, e)
            }, e
          }(),
          i = function() {
            function e(e, t) {
              this.subtle = e, this.key = t
            }
            return e.prototype.expandKey = function() {
              return this.subtle.importKey("raw", this.key, {
                name: "AES-CBC"
              }, !1, ["encrypt", "decrypt"])
            }, e
          }(),
          a = function() {
            function e() {
              this.rcon = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54], this.subMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)], this.invSubMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)], this.sBox = new Uint32Array(256), this.invSBox = new Uint32Array(256), this.key = new Uint32Array(0), this.initTable()
            }
            var t = e.prototype;
            return t.uint8ArrayToUint32Array_ = function(e) {
              for(var t = new DataView(e), r = new Uint32Array(4), n = 0; n < 4; n++) r[n] = t.getUint32(4 * n);
              return r
            }, t.initTable = function() {
              var e = this.sBox,
                t = this.invSBox,
                r = this.subMix,
                n = r[0],
                i = r[1],
                a = r[2],
                o = r[3],
                s = this.invSubMix,
                u = s[0],
                l = s[1],
                c = s[2],
                d = s[3],
                f = new Uint32Array(256),
                h = 0,
                p = 0,
                v = 0;
              for(v = 0; v < 256; v++) f[v] = v < 128 ? v << 1 : v << 1 ^ 283;
              for(v = 0; v < 256; v++) {
                var g = p ^ p << 1 ^ p << 2 ^ p << 3 ^ p << 4;
                g = g >>> 8 ^ 255 & g ^ 99, e[h] = g, t[g] = h;
                var m = f[h],
                  y = f[m],
                  _ = f[y],
                  b = 257 * f[g] ^ 16843008 * g;
                n[h] = b << 24 | b >>> 8, i[h] = b << 16 | b >>> 16, a[h] = b << 8 | b >>> 24, o[h] = b, b = 16843009 * _ ^ 65537 * y ^ 257 * m ^ 16843008 * h, u[g] = b << 24 | b >>> 8, l[g] = b << 16 | b >>> 16, c[g] = b << 8 | b >>> 24, d[g] = b, h ? (h = m ^ f[f[f[_ ^ m]]], p ^= f[f[p]]) : h = p = 1
              }
            }, t.expandKey = function(e) {
              for(var t = this.uint8ArrayToUint32Array_(e), r = !0, n = 0; n < t.length && r;) r = t[n] === this.key[n], n++;
              if(!r) {
                this.key = t;
                var i = this.keySize = t.length;
                if(4 !== i && 6 !== i && 8 !== i) throw new Error("Invalid aes key size=" + i);
                var a, o, s, u, l = this.ksRows = 4 * (i + 6 + 1),
                  c = this.keySchedule = new Uint32Array(l),
                  d = this.invKeySchedule = new Uint32Array(l),
                  f = this.sBox,
                  h = this.rcon,
                  p = this.invSubMix,
                  v = p[0],
                  g = p[1],
                  m = p[2],
                  y = p[3];
                for(a = 0; a < l; a++) a < i ? s = c[a] = t[a] : (u = s, a % i == 0 ? (u = f[(u = u << 8 | u >>> 24) >>> 24] << 24 | f[u >>> 16 & 255] << 16 | f[u >>> 8 & 255] << 8 | f[255 & u], u ^= h[a / i | 0] << 24) : i > 6 && a % i == 4 && (u = f[u >>> 24] << 24 | f[u >>> 16 & 255] << 16 | f[u >>> 8 & 255] << 8 | f[255 & u]), c[a] = s = (c[a - i] ^ u) >>> 0);
                for(o = 0; o < l; o++) a = l - o, u = 3 & o ? c[a] : c[a - 4], d[o] = o < 4 || a <= 4 ? u : v[f[u >>> 24]] ^ g[f[u >>> 16 & 255]] ^ m[f[u >>> 8 & 255]] ^ y[f[255 & u]], d[o] = d[o] >>> 0
              }
            }, t.networkToHostOrderSwap = function(e) {
              return e << 24 | (65280 & e) << 8 | (16711680 & e) >> 8 | e >>> 24
            }, t.decrypt = function(e, t, r, n) {
              for(var i, a, o, s, u, l, c, d, f, h, p, v, g, m, y, _, b, E = this.keySize + 6, A = this.invKeySchedule, T = this.invSBox, w = this.invSubMix, S = w[0], k = w[1], R = w[2], L = w[3], O = this.uint8ArrayToUint32Array_(r), C = O[0], D = O[1], x = O[2], I = O[3], M = new Int32Array(e), P = new Int32Array(M.length), N = this.networkToHostOrderSwap; t < M.length;) {
                for(f = N(M[t]), h = N(M[t + 1]), p = N(M[t + 2]), v = N(M[t + 3]), u = f ^ A[0], l = v ^ A[1], c = p ^ A[2], d = h ^ A[3], g = 4, m = 1; m < E; m++) i = S[u >>> 24] ^ k[l >> 16 & 255] ^ R[c >> 8 & 255] ^ L[255 & d] ^ A[g], a = S[l >>> 24] ^ k[c >> 16 & 255] ^ R[d >> 8 & 255] ^ L[255 & u] ^ A[g + 1], o = S[c >>> 24] ^ k[d >> 16 & 255] ^ R[u >> 8 & 255] ^ L[255 & l] ^ A[g + 2], s = S[d >>> 24] ^ k[u >> 16 & 255] ^ R[l >> 8 & 255] ^ L[255 & c] ^ A[g + 3], u = i, l = a, c = o, d = s, g += 4;
                i = T[u >>> 24] << 24 ^ T[l >> 16 & 255] << 16 ^ T[c >> 8 & 255] << 8 ^ T[255 & d] ^ A[g], a = T[l >>> 24] << 24 ^ T[c >> 16 & 255] << 16 ^ T[d >> 8 & 255] << 8 ^ T[255 & u] ^ A[g + 1], o = T[c >>> 24] << 24 ^ T[d >> 16 & 255] << 16 ^ T[u >> 8 & 255] << 8 ^ T[255 & l] ^ A[g + 2], s = T[d >>> 24] << 24 ^ T[u >> 16 & 255] << 16 ^ T[l >> 8 & 255] << 8 ^ T[255 & c] ^ A[g + 3], g += 3, P[t] = N(i ^ C), P[t + 1] = N(s ^ D), P[t + 2] = N(o ^ x), P[t + 3] = N(a ^ I), C = f, D = h, x = p, I = v, t += 4
              }
              return n ? (b = (_ = (y = P.buffer).byteLength) && new DataView(y).getUint8(_ - 1)) ? y.slice(0, _ - b) : y : P.buffer
            }, t.destroy = function() {
              this.key = void 0, this.keySize = void 0, this.ksRows = void 0, this.sBox = void 0, this.invSBox = void 0, this.subMix = void 0, this.invSubMix = void 0, this.keySchedule = void 0, this.invKeySchedule = void 0, this.rcon = void 0
            }, e
          }(),
          o = r(2),
          s = r(0),
          u = r(1),
          l = r(5),
          c = Object(l.a)(),
          d = function() {
            function e(e, t, r) {
              var n = (void 0 === r ? {} : r).removePKCS7Padding,
                i = void 0 === n || n;
              if(this.logEnabled = !0, this.observer = e, this.config = t, this.removePKCS7Padding = i, i) try {
                var a = c.crypto;
                a && (this.subtle = a.subtle || a.webkitSubtle)
              }
              catch (e) {}
              this.disableWebCrypto = !this.subtle
            }
            var t = e.prototype;
            return t.isSync = function() {
              return this.disableWebCrypto && this.config.enableSoftwareAES
            }, t.decrypt = function(e, t, r, o) {
              var u = this;
              if(this.disableWebCrypto && this.config.enableSoftwareAES) {
                this.logEnabled && (s.b.log("JS AES decrypt"), this.logEnabled = !1);
                var l = this.decryptor;
                l || (this.decryptor = l = new a), l.expandKey(t), o(l.decrypt(e, 0, r, this.removePKCS7Padding))
              }
              else {
                this.logEnabled && (s.b.log("WebCrypto AES decrypt"), this.logEnabled = !1);
                var c = this.subtle;
                this.key !== t && (this.key = t, this.fastAesKey = new i(c, t)), this.fastAesKey.expandKey().then((function(i) {
                  new n(c, r).decrypt(e, i).catch((function(n) {
                    u.onWebCryptoError(n, e, t, r, o)
                  })).then((function(e) {
                    o(e)
                  }))
                })).catch((function(n) {
                  u.onWebCryptoError(n, e, t, r, o)
                }))
              }
            }, t.onWebCryptoError = function(e, t, r, n, i) {
              this.config.enableSoftwareAES ? (s.b.log("WebCrypto Error, disable WebCrypto API"), this.disableWebCrypto = !0, this.logEnabled = !0, this.decrypt(t, r, n, i)) : (s.b.error("decrypting error : " + e.message), this.observer.trigger(u.a.ERROR, {
                type: o.b.MEDIA_ERROR,
                details: o.a.FRAG_DECRYPT_ERROR,
                fatal: !0,
                reason: e.message
              }))
            }, t.destroy = function() {
              var e = this.decryptor;
              e && (e.destroy(), this.decryptor = void 0)
            }, e
          }();
        t.a = d
      }, function(e, t, r) {
        var n = Object.prototype.hasOwnProperty,
          i = "~";

        function a() {}

        function o(e, t, r) {
          this.fn = e, this.context = t, this.once = r || !1
        }

        function s(e, t, r, n, a) {
          if("function" != typeof r) throw new TypeError("The listener must be a function");
          var s = new o(r, n || e, a),
            u = i ? i + t : t;
          return e._events[u] ? e._events[u].fn ? e._events[u] = [e._events[u], s] : e._events[u].push(s) : (e._events[u] = s, e._eventsCount++), e
        }

        function u(e, t) {
          0 == --e._eventsCount ? e._events = new a : delete e._events[t]
        }

        function l() {
          this._events = new a, this._eventsCount = 0
        }
        Object.create && (a.prototype = Object.create(null), (new a).__proto__ || (i = !1)), l.prototype.eventNames = function() {
          var e, t, r = [];
          if(0 === this._eventsCount) return r;
          for(t in e = this._events) n.call(e, t) && r.push(i ? t.slice(1) : t);
          return Object.getOwnPropertySymbols ? r.concat(Object.getOwnPropertySymbols(e)) : r
        }, l.prototype.listeners = function(e) {
          var t = i ? i + e : e,
            r = this._events[t];
          if(!r) return [];
          if(r.fn) return [r.fn];
          for(var n = 0, a = r.length, o = new Array(a); n < a; n++) o[n] = r[n].fn;
          return o
        }, l.prototype.listenerCount = function(e) {
          var t = i ? i + e : e,
            r = this._events[t];
          return r ? r.fn ? 1 : r.length : 0
        }, l.prototype.emit = function(e, t, r, n, a, o) {
          var s = i ? i + e : e;
          if(!this._events[s]) return !1;
          var u, l, c = this._events[s],
            d = arguments.length;
          if(c.fn) {
            switch(c.once && this.removeListener(e, c.fn, void 0, !0), d) {
              case 1:
                return c.fn.call(c.context), !0;
              case 2:
                return c.fn.call(c.context, t), !0;
              case 3:
                return c.fn.call(c.context, t, r), !0;
              case 4:
                return c.fn.call(c.context, t, r, n), !0;
              case 5:
                return c.fn.call(c.context, t, r, n, a), !0;
              case 6:
                return c.fn.call(c.context, t, r, n, a, o), !0
            }
            for(l = 1, u = new Array(d - 1); l < d; l++) u[l - 1] = arguments[l];
            c.fn.apply(c.context, u)
          }
          else {
            var f, h = c.length;
            for(l = 0; l < h; l++) switch(c[l].once && this.removeListener(e, c[l].fn, void 0, !0), d) {
              case 1:
                c[l].fn.call(c[l].context);
                break;
              case 2:
                c[l].fn.call(c[l].context, t);
                break;
              case 3:
                c[l].fn.call(c[l].context, t, r);
                break;
              case 4:
                c[l].fn.call(c[l].context, t, r, n);
                break;
              default:
                if(!u)
                  for(f = 1, u = new Array(d - 1); f < d; f++) u[f - 1] = arguments[f];
                c[l].fn.apply(c[l].context, u)
            }
          }
          return !0
        }, l.prototype.on = function(e, t, r) {
          return s(this, e, t, r, !1)
        }, l.prototype.once = function(e, t, r) {
          return s(this, e, t, r, !0)
        }, l.prototype.removeListener = function(e, t, r, n) {
          var a = i ? i + e : e;
          if(!this._events[a]) return this;
          if(!t) return u(this, a), this;
          var o = this._events[a];
          if(o.fn) o.fn !== t || n && !o.once || r && o.context !== r || u(this, a);
          else {
            for(var s = 0, l = [], c = o.length; s < c; s++)(o[s].fn !== t || n && !o[s].once || r && o[s].context !== r) && l.push(o[s]);
            l.length ? this._events[a] = 1 === l.length ? l[0] : l : u(this, a)
          }
          return this
        }, l.prototype.removeAllListeners = function(e) {
          var t;
          return e ? (t = i ? i + e : e, this._events[t] && u(this, t)) : (this._events = new a, this._eventsCount = 0), this
        }, l.prototype.off = l.prototype.removeListener, l.prototype.addListener = l.prototype.on, l.prefixed = i, l.EventEmitter = l, e.exports = l
      }, function(e, t, r) {
        var n = r(1),
          i = r(2),
          a = r(7),
          o = r(3),
          s = r(0),
          u = r(5);

        function l(e, t) {
          return 255 === e[t] && 240 == (246 & e[t + 1])
        }

        function c(e, t) {
          return 1 & e[t + 1] ? 7 : 9
        }

        function d(e, t) {
          return (3 & e[t + 3]) << 11 | e[t + 4] << 3 | (224 & e[t + 5]) >>> 5
        }

        function f(e, t) {
          return !!(t + 1 < e.length && l(e, t))
        }

        function h(e, t) {
          if(f(e, t)) {
            var r = c(e, t);
            if(t + r >= e.length) return !1;
            var n = d(e, t);
            if(n <= r) return !1;
            var i = t + n;
            if(i === e.length || i + 1 < e.length && l(e, i)) return !0
          }
          return !1
        }

        function p(e, t, r, a, o) {
          if(!e.samplerate) {
            var u = function(e, t, r, a) {
              var o, u, l, c, d, f = navigator.userAgent.toLowerCase(),
                h = a,
                p = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350];
              if(o = 1 + ((192 & t[r + 2]) >>> 6), !((u = (60 & t[r + 2]) >>> 2) > p.length - 1)) return c = (1 & t[r + 2]) << 2, c |= (192 & t[r + 3]) >>> 6, s.b.log("manifest codec:" + a + ",ADTS data:type:" + o + ",sampleingIndex:" + u + "[" + p[u] + "Hz],channelConfig:" + c), /firefox/i.test(f) ? u >= 6 ? (o = 5, d = new Array(4), l = u - 3) : (o = 2, d = new Array(2), l = u) : -1 !== f.indexOf("android") ? (o = 2, d = new Array(2), l = u) : (o = 5, d = new Array(4), a && (-1 !== a.indexOf("mp4a.40.29") || -1 !== a.indexOf("mp4a.40.5")) || !a && u >= 6 ? l = u - 3 : ((a && -1 !== a.indexOf("mp4a.40.2") && (u >= 6 && 1 === c || /vivaldi/i.test(f)) || !a && 1 === c) && (o = 2, d = new Array(2)), l = u)), d[0] = o << 3, d[0] |= (14 & u) >> 1, d[1] |= (1 & u) << 7, d[1] |= c << 3, 5 === o && (d[1] |= (14 & l) >> 1, d[2] = (1 & l) << 7, d[2] |= 8, d[3] = 0), {
                config: d,
                samplerate: p[u],
                channelCount: c,
                codec: "mp4a.40." + o,
                manifestCodec: h
              };
              e.trigger(n.a.ERROR, {
                type: i.b.MEDIA_ERROR,
                details: i.a.FRAG_PARSING_ERROR,
                fatal: !0,
                reason: "invalid ADTS sampling index:" + u
              })
            }(t, r, a, o);
            e.config = u.config, e.samplerate = u.samplerate, e.channelCount = u.channelCount, e.codec = u.codec, e.manifestCodec = u.manifestCodec, s.b.log("parsed codec:" + e.codec + ",rate:" + u.samplerate + ",nb channel:" + u.channelCount)
          }
        }

        function v(e) {
          return 9216e4 / e
        }

        function g(e, t, r, n, i) {
          var a = function(e, t, r, n, i) {
            var a, o, s = e.length;
            if(a = c(e, t), o = d(e, t), (o -= a) > 0 && t + a + o <= s) return {
              headerLength: a,
              frameLength: o,
              stamp: r + n * i
            }
          }(t, r, n, i, v(e.samplerate));
          if(a) {
            var o = a.stamp,
              s = a.headerLength,
              u = a.frameLength,
              l = {
                unit: t.subarray(r + s, r + s + u),
                pts: o,
                dts: o
              };
            return e.samples.push(l), {
              sample: l,
              length: u + s
            }
          }
        }
        var m = r(4),
          y = function() {
            function e(e, t, r) {
              this.observer = e, this.config = r, this.remuxer = t
            }
            var t = e.prototype;
            return t.resetInitSegment = function(e, t, r, n) {
              this._audioTrack = {
                container: "audio/adts",
                type: "audio",
                id: 0,
                sequenceNumber: 0,
                isAAC: !0,
                samples: [],
                len: 0,
                manifestCodec: t,
                duration: n,
                inputTimeScale: 9e4
              }
            }, t.resetTimeStamp = function() {}, e.probe = function(e) {
              if(!e) return !1;
              for(var t = (m.a.getID3Data(e, 0) || []).length, r = e.length; t < r; t++)
                if(h(e, t)) return s.b.log("ADTS sync word found !"), !0;
              return !1
            }, t.append = function(e, t, r, n) {
              for(var i = this._audioTrack, a = m.a.getID3Data(e, 0) || [], u = m.a.getTimeStamp(a), l = Object(o.a)(u) ? 90 * u : 9e4 * t, c = 0, d = l, h = e.length, v = a.length, y = [{
                  pts: d,
                  dts: d,
                  data: a
                }]; v < h - 1;)
                if(f(e, v) && v + 5 < h) {
                  p(i, this.observer, e, v, i.manifestCodec);
                  var _ = g(i, e, v, l, c);
                  if(!_) {
                    s.b.log("Unable to parse AAC frame");
                    break
                  }
                  v += _.length, d = _.sample.pts, c++
                }
              else m.a.isHeader(e, v) ? (a = m.a.getID3Data(e, v), y.push({
                pts: d,
                dts: d,
                data: a
              }), v += a.length) : v++;
              this.remuxer.remux(i, {
                samples: []
              }, {
                samples: y,
                inputTimeScale: 9e4
              }, {
                samples: []
              }, t, r, n)
            }, t.destroy = function() {}, e
          }(),
          _ = r(10),
          b = {
            BitratesMap: [32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 32, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 224, 256, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160],
            SamplingRateMap: [44100, 48e3, 32e3, 22050, 24e3, 16e3, 11025, 12e3, 8e3],
            SamplesCoefficients: [
              [0, 72, 144, 12],
              [0, 0, 0, 0],
              [0, 72, 144, 12],
              [0, 144, 144, 12]
            ],
            BytesInSlot: [0, 1, 1, 4],
            appendFrame: function(e, t, r, n, i) {
              if(!(r + 24 > t.length)) {
                var a = this.parseHeader(t, r);
                if(a && r + a.frameLength <= t.length) {
                  var o = n + i * (9e4 * a.samplesPerFrame / a.sampleRate),
                    s = {
                      unit: t.subarray(r, r + a.frameLength),
                      pts: o,
                      dts: o
                    };
                  return e.config = [], e.channelCount = a.channelCount, e.samplerate = a.sampleRate, e.samples.push(s), {
                    sample: s,
                    length: a.frameLength
                  }
                }
              }
            },
            parseHeader: function(e, t) {
              var r = e[t + 1] >> 3 & 3,
                n = e[t + 1] >> 1 & 3,
                i = e[t + 2] >> 4 & 15,
                a = e[t + 2] >> 2 & 3,
                o = e[t + 2] >> 1 & 1;
              if(1 !== r && 0 !== i && 15 !== i && 3 !== a) {
                var s = 3 === r ? 3 - n : 3 === n ? 3 : 4,
                  u = 1e3 * b.BitratesMap[14 * s + i - 1],
                  l = 3 === r ? 0 : 2 === r ? 1 : 2,
                  c = b.SamplingRateMap[3 * l + a],
                  d = e[t + 3] >> 6 == 3 ? 1 : 2,
                  f = b.SamplesCoefficients[r][n],
                  h = b.BytesInSlot[n],
                  p = 8 * f * h;
                return {
                  sampleRate: c,
                  channelCount: d,
                  frameLength: parseInt(f * u / c + o, 10) * h,
                  samplesPerFrame: p
                }
              }
            },
            isHeaderPattern: function(e, t) {
              return 255 === e[t] && 224 == (224 & e[t + 1]) && 0 != (6 & e[t + 1])
            },
            isHeader: function(e, t) {
              return !!(t + 1 < e.length && this.isHeaderPattern(e, t))
            },
            probe: function(e, t) {
              if(t + 1 < e.length && this.isHeaderPattern(e, t)) {
                var r = this.parseHeader(e, t),
                  n = 4;
                r && r.frameLength && (n = r.frameLength);
                var i = t + n;
                if(i === e.length || i + 1 < e.length && this.isHeaderPattern(e, i)) return !0
              }
              return !1
            }
          },
          E = b,
          A = function() {
            function e(e) {
              this.data = e, this.bytesAvailable = e.byteLength, this.word = 0, this.bitsAvailable = 0
            }
            var t = e.prototype;
            return t.loadWord = function() {
              var e = this.data,
                t = this.bytesAvailable,
                r = e.byteLength - t,
                n = new Uint8Array(4),
                i = Math.min(4, t);
              if(0 === i) throw new Error("no bytes available");
              n.set(e.subarray(r, r + i)), this.word = new DataView(n.buffer).getUint32(0), this.bitsAvailable = 8 * i, this.bytesAvailable -= i
            }, t.skipBits = function(e) {
              var t;
              this.bitsAvailable > e ? (this.word <<= e, this.bitsAvailable -= e) : (e -= this.bitsAvailable, e -= (t = e >> 3) >> 3, this.bytesAvailable -= t, this.loadWord(), this.word <<= e, this.bitsAvailable -= e)
            }, t.readBits = function(e) {
              var t = Math.min(this.bitsAvailable, e),
                r = this.word >>> 32 - t;
              return e > 32 && s.b.error("Cannot read more than 32 bits at a time"), this.bitsAvailable -= t, this.bitsAvailable > 0 ? this.word <<= t : this.bytesAvailable > 0 && this.loadWord(), (t = e - t) > 0 && this.bitsAvailable ? r << t | this.readBits(t) : r
            }, t.skipLZ = function() {
              var e;
              for(e = 0; e < this.bitsAvailable; ++e)
                if(0 != (this.word & 2147483648 >>> e)) return this.word <<= e, this.bitsAvailable -= e, e;
              return this.loadWord(), e + this.skipLZ()
            }, t.skipUEG = function() {
              this.skipBits(1 + this.skipLZ())
            }, t.skipEG = function() {
              this.skipBits(1 + this.skipLZ())
            }, t.readUEG = function() {
              var e = this.skipLZ();
              return this.readBits(e + 1) - 1
            }, t.readEG = function() {
              var e = this.readUEG();
              return 1 & e ? 1 + e >>> 1 : -1 * (e >>> 1)
            }, t.readBoolean = function() {
              return 1 === this.readBits(1)
            }, t.readUByte = function() {
              return this.readBits(8)
            }, t.readUShort = function() {
              return this.readBits(16)
            }, t.readUInt = function() {
              return this.readBits(32)
            }, t.skipScalingList = function(e) {
              var t, r = 8,
                n = 8;
              for(t = 0; t < e; t++) 0 !== n && (n = (r + this.readEG() + 256) % 256), r = 0 === n ? r : n
            }, t.readSPS = function() {
              var e, t, r, n, i, a, o, s = 0,
                u = 0,
                l = 0,
                c = 0,
                d = this.readUByte.bind(this),
                f = this.readBits.bind(this),
                h = this.readUEG.bind(this),
                p = this.readBoolean.bind(this),
                v = this.skipBits.bind(this),
                g = this.skipEG.bind(this),
                m = this.skipUEG.bind(this),
                y = this.skipScalingList.bind(this);
              if(d(), e = d(), f(5), v(3), d(), m(), 100 === e || 110 === e || 122 === e || 244 === e || 44 === e || 83 === e || 86 === e || 118 === e || 128 === e) {
                var _ = h();
                if(3 === _ && v(1), m(), m(), v(1), p())
                  for(a = 3 !== _ ? 8 : 12, o = 0; o < a; o++) p() && y(o < 6 ? 16 : 64)
              }
              m();
              var b = h();
              if(0 === b) h();
              else if(1 === b)
                for(v(1), g(), g(), t = h(), o = 0; o < t; o++) g();
              m(), v(1), r = h(), n = h(), 0 === (i = f(1)) && v(1), v(1), p() && (s = h(), u = h(), l = h(), c = h());
              var E = [1, 1];
              if(p() && p()) switch(d()) {
                case 1:
                  E = [1, 1];
                  break;
                case 2:
                  E = [12, 11];
                  break;
                case 3:
                  E = [10, 11];
                  break;
                case 4:
                  E = [16, 11];
                  break;
                case 5:
                  E = [40, 33];
                  break;
                case 6:
                  E = [24, 11];
                  break;
                case 7:
                  E = [20, 11];
                  break;
                case 8:
                  E = [32, 11];
                  break;
                case 9:
                  E = [80, 33];
                  break;
                case 10:
                  E = [18, 11];
                  break;
                case 11:
                  E = [15, 11];
                  break;
                case 12:
                  E = [64, 33];
                  break;
                case 13:
                  E = [160, 99];
                  break;
                case 14:
                  E = [4, 3];
                  break;
                case 15:
                  E = [3, 2];
                  break;
                case 16:
                  E = [2, 1];
                  break;
                case 255:
                  E = [d() << 8 | d(), d() << 8 | d()]
              }
              return {
                width: Math.ceil(16 * (r + 1) - 2 * s - 2 * u),
                height: (2 - i) * (n + 1) * 16 - (i ? 2 : 4) * (l + c),
                pixelRatio: E
              }
            }, t.readSliceType = function() {
              return this.readUByte(), this.readUEG(), this.readUEG()
            }, e
          }(),
          T = function() {
            function e(e, t, r, n) {
              this.decryptdata = r, this.discardEPB = n, this.decrypter = new a.a(e, t, {
                removePKCS7Padding: !1
              })
            }
            var t = e.prototype;
            return t.decryptBuffer = function(e, t) {
              this.decrypter.decrypt(e, this.decryptdata.key.buffer, this.decryptdata.iv.buffer, t)
            }, t.decryptAacSample = function(e, t, r, n) {
              var i = e[t].unit,
                a = i.subarray(16, i.length - i.length % 16),
                o = a.buffer.slice(a.byteOffset, a.byteOffset + a.length),
                s = this;
              this.decryptBuffer(o, (function(a) {
                a = new Uint8Array(a), i.set(a, 16), n || s.decryptAacSamples(e, t + 1, r)
              }))
            }, t.decryptAacSamples = function(e, t, r) {
              for(;; t++) {
                if(t >= e.length) return void r();
                if(!(e[t].unit.length < 32)) {
                  var n = this.decrypter.isSync();
                  if(this.decryptAacSample(e, t, r, n), !n) return
                }
              }
            }, t.getAvcEncryptedData = function(e) {
              for(var t = 16 * Math.floor((e.length - 48) / 160) + 16, r = new Int8Array(t), n = 0, i = 32; i <= e.length - 16; i += 160, n += 16) r.set(e.subarray(i, i + 16), n);
              return r
            }, t.getAvcDecryptedUnit = function(e, t) {
              t = new Uint8Array(t);
              for(var r = 0, n = 32; n <= e.length - 16; n += 160, r += 16) e.set(t.subarray(r, r + 16), n);
              return e
            }, t.decryptAvcSample = function(e, t, r, n, i, a) {
              var o = this.discardEPB(i.data),
                s = this.getAvcEncryptedData(o),
                u = this;
              this.decryptBuffer(s.buffer, (function(s) {
                i.data = u.getAvcDecryptedUnit(o, s), a || u.decryptAvcSamples(e, t, r + 1, n)
              }))
            }, t.decryptAvcSamples = function(e, t, r, n) {
              for(;; t++, r = 0) {
                if(t >= e.length) return void n();
                for(var i = e[t].units; !(r >= i.length); r++) {
                  var a = i[r];
                  if(!(a.length <= 48 || 1 !== a.type && 5 !== a.type)) {
                    var o = this.decrypter.isSync();
                    if(this.decryptAvcSample(e, t, r, n, a, o), !o) return
                  }
                }
              }
            }, e
          }(),
          w = {
            video: 1,
            audio: 2,
            id3: 3,
            text: 4
          },
          S = function() {
            function e(e, t, r, n) {
              this.observer = e, this.config = r, this.typeSupported = n, this.remuxer = t, this.sampleAes = null, this.pmtUnknownTypes = {}
            }
            var t = e.prototype;
            return t.setDecryptData = function(e) {
              null != e && null != e.key && "SAMPLE-AES" === e.method ? this.sampleAes = new T(this.observer, this.config, e, this.discardEPB) : this.sampleAes = null
            }, e.probe = function(t) {
              var r = e._syncOffset(t);
              return !(r < 0 || (r && s.b.warn("MPEG2-TS detected but first sync word found @ offset " + r + ", junk ahead ?"), 0))
            }, e._syncOffset = function(e) {
              for(var t = Math.min(1e3, e.length - 564), r = 0; r < t;) {
                if(71 === e[r] && 71 === e[r + 188] && 71 === e[r + 376]) return r;
                r++
              }
              return -1
            }, e.createTrack = function(e, t) {
              return {
                container: "video" === e || "audio" === e ? "video/mp2t" : void 0,
                type: e,
                id: w[e],
                pid: -1,
                inputTimeScale: 9e4,
                sequenceNumber: 0,
                samples: [],
                dropped: "video" === e ? 0 : void 0,
                isAAC: "audio" === e || void 0,
                duration: "audio" === e ? t : void 0
              }
            }, t.resetInitSegment = function(t, r, n, i) {
              this.pmtParsed = !1, this._pmtId = -1, this.pmtUnknownTypes = {}, this._avcTrack = e.createTrack("video", i), this._audioTrack = e.createTrack("audio", i), this._id3Track = e.createTrack("id3", i), this._txtTrack = e.createTrack("text", i), this.aacOverFlow = null, this.aacLastPTS = null, this.avcSample = null, this.audioCodec = r, this.videoCodec = n, this._duration = i
            }, t.resetTimeStamp = function() {}, t.append = function(t, r, a, o) {
              var u, l, c, d, f, h = t.length,
                p = !1;
              this.pmtUnknownTypes = {}, this.contiguous = a;
              var v = this.pmtParsed,
                g = this._avcTrack,
                m = this._audioTrack,
                y = this._id3Track,
                _ = g.pid,
                b = m.pid,
                E = y.pid,
                A = this._pmtId,
                T = g.pesData,
                w = m.pesData,
                S = y.pesData,
                k = this._parsePAT,
                R = this._parsePMT.bind(this),
                L = this._parsePES,
                O = this._parseAVCPES.bind(this),
                C = this._parseAACPES.bind(this),
                D = this._parseMPEGPES.bind(this),
                x = this._parseID3PES.bind(this),
                I = e._syncOffset(t);
              for(h -= (h + I) % 188, u = I; u < h; u += 188)
                if(71 === t[u]) {
                  if(l = !!(64 & t[u + 1]), c = ((31 & t[u + 1]) << 8) + t[u + 2], (48 & t[u + 3]) >> 4 > 1) {
                    if((d = u + 5 + t[u + 4]) === u + 188) continue
                  }
                  else d = u + 4;
                  switch(c) {
                    case _:
                      l && (T && (f = L(T)) && O(f, !1), T = {
                        data: [],
                        size: 0
                      }), T && (T.data.push(t.subarray(d, u + 188)), T.size += u + 188 - d);
                      break;
                    case b:
                      l && (w && (f = L(w)) && (m.isAAC ? C(f) : D(f)), w = {
                        data: [],
                        size: 0
                      }), w && (w.data.push(t.subarray(d, u + 188)), w.size += u + 188 - d);
                      break;
                    case E:
                      l && (S && (f = L(S)) && x(f), S = {
                        data: [],
                        size: 0
                      }), S && (S.data.push(t.subarray(d, u + 188)), S.size += u + 188 - d);
                      break;
                    case 0:
                      l && (d += t[d] + 1), A = this._pmtId = k(t, d);
                      break;
                    case A:
                      l && (d += t[d] + 1);
                      var M = R(t, d, !0 === this.typeSupported.mpeg || !0 === this.typeSupported.mp3, null != this.sampleAes);
                      (_ = M.avc) > 0 && (g.pid = _), (b = M.audio) > 0 && (m.pid = b, m.isAAC = M.isAAC), (E = M.id3) > 0 && (y.pid = E), p && !v && (s.b.log("reparse from beginning"), p = !1, u = I - 188), v = this.pmtParsed = !0;
                      break;
                    case 17:
                    case 8191:
                      break;
                    default:
                      p = !0
                  }
                }
              else this.observer.trigger(n.a.ERROR, {
                type: i.b.MEDIA_ERROR,
                details: i.a.FRAG_PARSING_ERROR,
                fatal: !1,
                reason: "TS packet did not start with 0x47"
              });
              T && (f = L(T)) ? (O(f, !0), g.pesData = null) : g.pesData = T, w && (f = L(w)) ? (m.isAAC ? C(f) : D(f), m.pesData = null) : (w && w.size && s.b.log("last AAC PES packet truncated,might overlap between fragments"), m.pesData = w), S && (f = L(S)) ? (x(f), y.pesData = null) : y.pesData = S, null == this.sampleAes ? this.remuxer.remux(m, g, y, this._txtTrack, r, a, o) : this.decryptAndRemux(m, g, y, this._txtTrack, r, a, o)
            }, t.decryptAndRemux = function(e, t, r, n, i, a, o) {
              if(e.samples && e.isAAC) {
                var s = this;
                this.sampleAes.decryptAacSamples(e.samples, 0, (function() {
                  s.decryptAndRemuxAvc(e, t, r, n, i, a, o)
                }))
              }
              else this.decryptAndRemuxAvc(e, t, r, n, i, a, o)
            }, t.decryptAndRemuxAvc = function(e, t, r, n, i, a, o) {
              if(t.samples) {
                var s = this;
                this.sampleAes.decryptAvcSamples(t.samples, 0, 0, (function() {
                  s.remuxer.remux(e, t, r, n, i, a, o)
                }))
              }
              else this.remuxer.remux(e, t, r, n, i, a, o)
            }, t.destroy = function() {
              this._initPTS = this._initDTS = void 0, this._duration = 0
            }, t._parsePAT = function(e, t) {
              return (31 & e[t + 10]) << 8 | e[t + 11]
            }, t._trackUnknownPmt = function(e, t, r) {
              var n = this.pmtUnknownTypes[e] || 0;
              return 0 === n && (this.pmtUnknownTypes[e] = 0, t.call(s.b, r)), this.pmtUnknownTypes[e]++, n
            }, t._parsePMT = function(e, t, r, n) {
              var i, a, o = {
                audio: -1,
                avc: -1,
                id3: -1,
                isAAC: !0
              };
              for(i = t + 3 + ((15 & e[t + 1]) << 8 | e[t + 2]) - 4, t += 12 + ((15 & e[t + 10]) << 8 | e[t + 11]); t < i;) {
                switch(a = (31 & e[t + 1]) << 8 | e[t + 2], e[t]) {
                  case 207:
                    if(!n) {
                      this._trackUnknownPmt(e[t], s.b.warn, "ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");
                      break
                    }
                    case 15:
                      -1 === o.audio && (o.audio = a);
                      break;
                    case 21:
                      -1 === o.id3 && (o.id3 = a);
                      break;
                    case 219:
                      if(!n) {
                        this._trackUnknownPmt(e[t], s.b.warn, "H.264 with AES-128-CBC slice encryption found in unencrypted stream");
                        break
                      }
                      case 27:
                        -1 === o.avc && (o.avc = a);
                        break;
                      case 3:
                      case 4:
                        r ? -1 === o.audio && (o.audio = a, o.isAAC = !1) : this._trackUnknownPmt(e[t], s.b.warn, "MPEG audio found, not supported in this browser");
                        break;
                      case 36:
                        this._trackUnknownPmt(e[t], s.b.warn, "Unsupported HEVC stream type found");
                        break;
                      default:
                        this._trackUnknownPmt(e[t], s.b.log, "Unknown stream type:" + e[t])
                }
                t += 5 + ((15 & e[t + 3]) << 8 | e[t + 4])
              }
              return o
            }, t._parsePES = function(e) {
              var t, r, n, i, a, o, u, l, c = 0,
                d = e.data;
              if(!e || 0 === e.size) return null;
              for(; d[0].length < 19 && d.length > 1;) {
                var f = new Uint8Array(d[0].length + d[1].length);
                f.set(d[0]), f.set(d[1], d[0].length), d[0] = f, d.splice(1, 1)
              }
              if(1 === ((t = d[0])[0] << 16) + (t[1] << 8) + t[2]) {
                if((n = (t[4] << 8) + t[5]) && n > e.size - 6) return null;
                if(192 & (r = t[7]) && (o = 536870912 * (14 & t[9]) + 4194304 * (255 & t[10]) + 16384 * (254 & t[11]) + 128 * (255 & t[12]) + (254 & t[13]) / 2, 64 & r ? o - (u = 536870912 * (14 & t[14]) + 4194304 * (255 & t[15]) + 16384 * (254 & t[16]) + 128 * (255 & t[17]) + (254 & t[18]) / 2) > 54e5 && (s.b.warn(Math.round((o - u) / 9e4) + "s delta between PTS and DTS, align them"), o = u) : u = o), l = (i = t[8]) + 9, e.size <= l) return null;
                e.size -= l, a = new Uint8Array(e.size);
                for(var h = 0, p = d.length; h < p; h++) {
                  var v = (t = d[h]).byteLength;
                  if(l) {
                    if(l > v) {
                      l -= v;
                      continue
                    }
                    t = t.subarray(l), v -= l, l = 0
                  }
                  a.set(t, c), c += v
                }
                return n && (n -= i + 3), {
                  data: a,
                  pts: o,
                  dts: u,
                  len: n
                }
              }
              return null
            }, t.pushAccesUnit = function(e, t) {
              if(e.units.length && e.frame) {
                var r = t.samples,
                  n = r.length;
                if(isNaN(e.pts)) {
                  if(!n) return void t.dropped++;
                  var i = r[n - 1];
                  e.pts = i.pts, e.dts = i.dts
                }!this.config.forceKeyFrameOnDiscontinuity || !0 === e.key || t.sps && (n || this.contiguous) ? (e.id = n, r.push(e)) : t.dropped++
              }
              e.debug.length && s.b.log(e.pts + "/" + e.dts + ":" + e.debug)
            }, t._parseAVCPES = function(e, t) {
              var r, n, i, a = this,
                o = this._avcTrack,
                s = this._parseAVCNALu(e.data),
                u = this.avcSample,
                l = !1,
                c = this.pushAccesUnit.bind(this),
                d = function(e, t, r, n) {
                  return {
                    key: e,
                    pts: t,
                    dts: r,
                    units: [],
                    debug: n
                  }
                };
              e.data = null, u && s.length && !o.audFound && (c(u, o), u = this.avcSample = d(!1, e.pts, e.dts, "")), s.forEach((function(t) {
                switch(t.type) {
                  case 1:
                    n = !0, u || (u = a.avcSample = d(!0, e.pts, e.dts, "")), u.frame = !0;
                    var s = t.data;
                    if(l && s.length > 4) {
                      var f = new A(s).readSliceType();
                      2 !== f && 4 !== f && 7 !== f && 9 !== f || (u.key = !0)
                    }
                    break;
                  case 5:
                    n = !0, u || (u = a.avcSample = d(!0, e.pts, e.dts, "")), u.key = !0, u.frame = !0;
                    break;
                  case 6:
                    n = !0, (r = new A(a.discardEPB(t.data))).readUByte();
                    for(var h = 0, p = 0, v = !1, g = 0; !v && r.bytesAvailable > 1;) {
                      h = 0;
                      do {
                        h += g = r.readUByte()
                      } while(255 === g);
                      p = 0;
                      do {
                        p += g = r.readUByte()
                      } while(255 === g);
                      if(4 === h && 0 !== r.bytesAvailable) {
                        if(v = !0, 181 === r.readUByte() && 49 === r.readUShort() && 1195456820 === r.readUInt() && 3 === r.readUByte()) {
                          var y = r.readUByte(),
                            _ = 31 & y,
                            b = [y, r.readUByte()];
                          for(i = 0; i < _; i++) b.push(r.readUByte()), b.push(r.readUByte()), b.push(r.readUByte());
                          a._insertSampleInOrder(a._txtTrack.samples, {
                            type: 3,
                            pts: e.pts,
                            bytes: b
                          })
                        }
                      }
                      else if(5 === h && 0 !== r.bytesAvailable) {
                        if(v = !0, p > 16) {
                          var E = [];
                          for(i = 0; i < 16; i++) E.push(r.readUByte().toString(16)), 3 !== i && 5 !== i && 7 !== i && 9 !== i || E.push("-");
                          var T = p - 16,
                            w = new Uint8Array(T);
                          for(i = 0; i < T; i++) w[i] = r.readUByte();
                          a._insertSampleInOrder(a._txtTrack.samples, {
                            pts: e.pts,
                            payloadType: h,
                            uuid: E.join(""),
                            userDataBytes: w,
                            userData: Object(m.b)(w.buffer)
                          })
                        }
                      }
                      else if(p < r.bytesAvailable)
                        for(i = 0; i < p; i++) r.readUByte()
                    }
                    break;
                  case 7:
                    if(n = !0, l = !0, !o.sps) {
                      var S = (r = new A(t.data)).readSPS();
                      o.width = S.width, o.height = S.height, o.pixelRatio = S.pixelRatio, o.sps = [t.data], o.duration = a._duration;
                      var k = t.data.subarray(1, 4),
                        R = "avc1.";
                      for(i = 0; i < 3; i++) {
                        var L = k[i].toString(16);
                        L.length < 2 && (L = "0" + L), R += L
                      }
                      o.codec = R
                    }
                    break;
                  case 8:
                    n = !0, o.pps || (o.pps = [t.data]);
                    break;
                  case 9:
                    n = !1, o.audFound = !0, u && c(u, o), u = a.avcSample = d(!1, e.pts, e.dts, "");
                    break;
                  case 12:
                    n = !1;
                    break;
                  default:
                    n = !1, u && (u.debug += "unknown NAL " + t.type + " ")
                }
                u && n && u.units.push(t)
              })), t && u && (c(u, o), this.avcSample = null)
            }, t._insertSampleInOrder = function(e, t) {
              var r = e.length;
              if(r > 0) {
                if(t.pts >= e[r - 1].pts) e.push(t);
                else
                  for(var n = r - 1; n >= 0; n--)
                    if(t.pts < e[n].pts) {
                      e.splice(n, 0, t);
                      break
                    }
              }
              else e.push(t)
            }, t._getLastNalUnit = function() {
              var e, t = this.avcSample;
              if(!t || 0 === t.units.length) {
                var r = this._avcTrack.samples;
                t = r[r.length - 1]
              }
              if(t) {
                var n = t.units;
                e = n[n.length - 1]
              }
              return e
            }, t._parseAVCNALu = function(e) {
              var t, r, n, i, a = 0,
                o = e.byteLength,
                s = this._avcTrack,
                u = s.naluState || 0,
                l = u,
                c = [],
                d = -1;
              for(-1 === u && (d = 0, i = 31 & e[0], u = 0, a = 1); a < o;)
                if(t = e[a++], u)
                  if(1 !== u)
                    if(t)
                      if(1 === t) {
                        if(d >= 0) n = {
                          data: e.subarray(d, a - u - 1),
                          type: i
                        }, c.push(n);
                        else {
                          var f = this._getLastNalUnit();
                          if(f && (l && a <= 4 - l && f.state && (f.data = f.data.subarray(0, f.data.byteLength - l)), (r = a - u - 1) > 0)) {
                            var h = new Uint8Array(f.data.byteLength + r);
                            h.set(f.data, 0), h.set(e.subarray(0, r), f.data.byteLength), f.data = h
                          }
                        }
                        a < o ? (d = a, i = 31 & e[a], u = 0) : u = -1
                      }
              else u = 0;
              else u = 3;
              else u = t ? 0 : 2;
              else u = t ? 0 : 1;
              if(d >= 0 && u >= 0 && (n = {
                  data: e.subarray(d, o),
                  type: i,
                  state: u
                }, c.push(n)), 0 === c.length) {
                var p = this._getLastNalUnit();
                if(p) {
                  var v = new Uint8Array(p.data.byteLength + e.byteLength);
                  v.set(p.data, 0), v.set(e, p.data.byteLength), p.data = v
                }
              }
              return s.naluState = u, c
            }, t.discardEPB = function(e) {
              for(var t, r, n = e.byteLength, i = [], a = 1; a < n - 2;) 0 === e[a] && 0 === e[a + 1] && 3 === e[a + 2] ? (i.push(a + 2), a += 2) : a++;
              if(0 === i.length) return e;
              t = n - i.length, r = new Uint8Array(t);
              var o = 0;
              for(a = 0; a < t; o++, a++) o === i[0] && (o++, i.shift()), r[a] = e[o];
              return r
            }, t._parseAACPES = function(e) {
              var t, r, a, o, u, l, c, d = this._audioTrack,
                h = e.data,
                m = e.pts,
                y = this.aacOverFlow,
                _ = this.aacLastPTS;
              if(y) {
                var b = new Uint8Array(y.byteLength + h.byteLength);
                b.set(y, 0), b.set(h, y.byteLength), h = b
              }
              for(a = 0, u = h.length; a < u - 1 && !f(h, a); a++);
              if(!a || (a < u - 1 ? (l = "AAC PES did not start with ADTS header,offset:" + a, c = !1) : (l = "no ADTS header found in AAC PES", c = !0), s.b.warn("parsing error:" + l), this.observer.trigger(n.a.ERROR, {
                  type: i.b.MEDIA_ERROR,
                  details: i.a.FRAG_PARSING_ERROR,
                  fatal: c,
                  reason: l
                }), !c)) {
                if(p(d, this.observer, h, a, this.audioCodec), r = 0, t = v(d.samplerate), y && _) {
                  var E = _ + t;
                  Math.abs(E - m) > 1 && (s.b.log("AAC: align PTS for overlapping frames by " + Math.round((E - m) / 90)), m = E)
                }
                for(; a < u;) {
                  if(f(h, a)) {
                    if(a + 5 < u) {
                      var A = g(d, h, a, m, r);
                      if(A) {
                        a += A.length, o = A.sample.pts, r++;
                        continue
                      }
                    }
                    break
                  }
                  a++
                }
                y = a < u ? h.subarray(a, u) : null, this.aacOverFlow = y, this.aacLastPTS = o
              }
            }, t._parseMPEGPES = function(e) {
              for(var t = e.data, r = t.length, n = 0, i = 0, a = e.pts; i < r;)
                if(E.isHeader(t, i)) {
                  var o = E.appendFrame(this._audioTrack, t, i, a, n);
                  if(!o) break;
                  i += o.length, n++
                }
              else i++
            }, t._parseID3PES = function(e) {
              this._id3Track.samples.push(e)
            }, e
          }(),
          k = function() {
            function e(e, t, r) {
              this.observer = e, this.config = r, this.remuxer = t
            }
            var t = e.prototype;
            return t.resetInitSegment = function(e, t, r, n) {
              this._audioTrack = {
                container: "audio/mpeg",
                type: "audio",
                id: -1,
                sequenceNumber: 0,
                isAAC: !1,
                samples: [],
                len: 0,
                manifestCodec: t,
                duration: n,
                inputTimeScale: 9e4
              }
            }, t.resetTimeStamp = function() {}, e.probe = function(e) {
              var t, r, n = m.a.getID3Data(e, 0);
              if(n && void 0 !== m.a.getTimeStamp(n))
                for(t = n.length, r = Math.min(e.length - 1, t + 100); t < r; t++)
                  if(E.probe(e, t)) return s.b.log("MPEG Audio sync word found !"), !0;
              return !1
            }, t.append = function(e, t, r, n) {
              for(var i = m.a.getID3Data(e, 0) || [], a = m.a.getTimeStamp(i), o = void 0 !== a ? 90 * a : 9e4 * t, s = i.length, u = e.length, l = 0, c = 0, d = this._audioTrack, f = [{
                  pts: o,
                  dts: o,
                  data: i
                }]; s < u;)
                if(E.isHeader(e, s)) {
                  var h = E.appendFrame(d, e, s, o, l);
                  if(!h) break;
                  s += h.length, c = h.sample.pts, l++
                }
              else m.a.isHeader(e, s) ? (i = m.a.getID3Data(e, s), f.push({
                pts: c,
                dts: c,
                data: i
              }), s += i.length) : s++;
              this.remuxer.remux(d, {
                samples: []
              }, {
                samples: f,
                inputTimeScale: 9e4
              }, {
                samples: []
              }, t, r, n)
            }, t.destroy = function() {}, e
          }(),
          R = function() {
            function e() {}
            return e.getSilentFrame = function(e, t) {
              switch(e) {
                case "mp4a.40.2":
                  if(1 === t) return new Uint8Array([0, 200, 0, 128, 35, 128]);
                  if(2 === t) return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);
                  if(3 === t) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);
                  if(4 === t) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);
                  if(5 === t) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);
                  if(6 === t) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]);
                  break;
                default:
                  if(1 === t) return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);
                  if(2 === t) return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);
                  if(3 === t) return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94])
              }
              return null
            }, e
          }(),
          L = Math.pow(2, 32) - 1,
          O = function() {
            function e() {}
            return e.init = function() {
              var t;
              for(t in e.types = {
                  avc1: [],
                  avcC: [],
                  btrt: [],
                  dinf: [],
                  dref: [],
                  esds: [],
                  ftyp: [],
                  hdlr: [],
                  mdat: [],
                  mdhd: [],
                  mdia: [],
                  mfhd: [],
                  minf: [],
                  moof: [],
                  moov: [],
                  mp4a: [],
                  ".mp3": [],
                  mvex: [],
                  mvhd: [],
                  pasp: [],
                  sdtp: [],
                  stbl: [],
                  stco: [],
                  stsc: [],
                  stsd: [],
                  stsz: [],
                  stts: [],
                  tfdt: [],
                  tfhd: [],
                  traf: [],
                  trak: [],
                  trun: [],
                  trex: [],
                  tkhd: [],
                  vmhd: [],
                  smhd: []
                }, e.types) e.types.hasOwnProperty(t) && (e.types[t] = [t.charCodeAt(0), t.charCodeAt(1), t.charCodeAt(2), t.charCodeAt(3)]);
              var r = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]),
                n = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]);
              e.HDLR_TYPES = {
                video: r,
                audio: n
              };
              var i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]),
                a = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]);
              e.STTS = e.STSC = e.STCO = a, e.STSZ = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), e.VMHD = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]), e.SMHD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), e.STSD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]);
              var o = new Uint8Array([105, 115, 111, 109]),
                s = new Uint8Array([97, 118, 99, 49]),
                u = new Uint8Array([0, 0, 0, 1]);
              e.FTYP = e.box(e.types.ftyp, o, u, o, s), e.DINF = e.box(e.types.dinf, e.box(e.types.dref, i))
            }, e.box = function(e) {
              for(var t, r = Array.prototype.slice.call(arguments, 1), n = 8, i = r.length, a = i; i--;) n += r[i].byteLength;
              for((t = new Uint8Array(n))[0] = n >> 24 & 255, t[1] = n >> 16 & 255, t[2] = n >> 8 & 255, t[3] = 255 & n, t.set(e, 4), i = 0, n = 8; i < a; i++) t.set(r[i], n), n += r[i].byteLength;
              return t
            }, e.hdlr = function(t) {
              return e.box(e.types.hdlr, e.HDLR_TYPES[t])
            }, e.mdat = function(t) {
              return e.box(e.types.mdat, t)
            }, e.mdhd = function(t, r) {
              r *= t;
              var n = Math.floor(r / (L + 1)),
                i = Math.floor(r % (L + 1));
              return e.box(e.types.mdhd, new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, 255 & t, n >> 24, n >> 16 & 255, n >> 8 & 255, 255 & n, i >> 24, i >> 16 & 255, i >> 8 & 255, 255 & i, 85, 196, 0, 0]))
            }, e.mdia = function(t) {
              return e.box(e.types.mdia, e.mdhd(t.timescale, t.duration), e.hdlr(t.type), e.minf(t))
            }, e.mfhd = function(t) {
              return e.box(e.types.mfhd, new Uint8Array([0, 0, 0, 0, t >> 24, t >> 16 & 255, t >> 8 & 255, 255 & t]))
            }, e.minf = function(t) {
              return "audio" === t.type ? e.box(e.types.minf, e.box(e.types.smhd, e.SMHD), e.DINF, e.stbl(t)) : e.box(e.types.minf, e.box(e.types.vmhd, e.VMHD), e.DINF, e.stbl(t))
            }, e.moof = function(t, r, n) {
              return e.box(e.types.moof, e.mfhd(t), e.traf(n, r))
            }, e.moov = function(t) {
              for(var r = t.length, n = []; r--;) n[r] = e.trak(t[r]);
              return e.box.apply(null, [e.types.moov, e.mvhd(t[0].timescale, t[0].duration)].concat(n).concat(e.mvex(t)))
            }, e.mvex = function(t) {
              for(var r = t.length, n = []; r--;) n[r] = e.trex(t[r]);
              return e.box.apply(null, [e.types.mvex].concat(n))
            }, e.mvhd = function(t, r) {
              r *= t;
              var n = Math.floor(r / (L + 1)),
                i = Math.floor(r % (L + 1)),
                a = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, 255 & t, n >> 24, n >> 16 & 255, n >> 8 & 255, 255 & n, i >> 24, i >> 16 & 255, i >> 8 & 255, 255 & i, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]);
              return e.box(e.types.mvhd, a)
            }, e.sdtp = function(t) {
              var r, n, i = t.samples || [],
                a = new Uint8Array(4 + i.length);
              for(n = 0; n < i.length; n++) r = i[n].flags, a[n + 4] = r.dependsOn << 4 | r.isDependedOn << 2 | r.hasRedundancy;
              return e.box(e.types.sdtp, a)
            }, e.stbl = function(t) {
              return e.box(e.types.stbl, e.stsd(t), e.box(e.types.stts, e.STTS), e.box(e.types.stsc, e.STSC), e.box(e.types.stsz, e.STSZ), e.box(e.types.stco, e.STCO))
            }, e.avc1 = function(t) {
              var r, n, i, a = [],
                o = [];
              for(r = 0; r < t.sps.length; r++) i = (n = t.sps[r]).byteLength, a.push(i >>> 8 & 255), a.push(255 & i), a = a.concat(Array.prototype.slice.call(n));
              for(r = 0; r < t.pps.length; r++) i = (n = t.pps[r]).byteLength, o.push(i >>> 8 & 255), o.push(255 & i), o = o.concat(Array.prototype.slice.call(n));
              var s = e.box(e.types.avcC, new Uint8Array([1, a[3], a[4], a[5], 255, 224 | t.sps.length].concat(a).concat([t.pps.length]).concat(o))),
                u = t.width,
                l = t.height,
                c = t.pixelRatio[0],
                d = t.pixelRatio[1];
              return e.box(e.types.avc1, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, u >> 8 & 255, 255 & u, l >> 8 & 255, 255 & l, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 18, 100, 97, 105, 108, 121, 109, 111, 116, 105, 111, 110, 47, 104, 108, 115, 46, 106, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17]), s, e.box(e.types.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192])), e.box(e.types.pasp, new Uint8Array([c >> 24, c >> 16 & 255, c >> 8 & 255, 255 & c, d >> 24, d >> 16 & 255, d >> 8 & 255, 255 & d])))
            }, e.esds = function(e) {
              var t = e.config.length;
              return new Uint8Array([0, 0, 0, 0, 3, 23 + t, 0, 1, 0, 4, 15 + t, 64, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5].concat([t]).concat(e.config).concat([6, 1, 2]))
            }, e.mp4a = function(t) {
              var r = t.samplerate;
              return e.box(e.types.mp4a, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, t.channelCount, 0, 16, 0, 0, 0, 0, r >> 8 & 255, 255 & r, 0, 0]), e.box(e.types.esds, e.esds(t)))
            }, e.mp3 = function(t) {
              var r = t.samplerate;
              return e.box(e.types[".mp3"], new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, t.channelCount, 0, 16, 0, 0, 0, 0, r >> 8 & 255, 255 & r, 0, 0]))
            }, e.stsd = function(t) {
              return "audio" === t.type ? t.isAAC || "mp3" !== t.codec ? e.box(e.types.stsd, e.STSD, e.mp4a(t)) : e.box(e.types.stsd, e.STSD, e.mp3(t)) : e.box(e.types.stsd, e.STSD, e.avc1(t))
            }, e.tkhd = function(t) {
              var r = t.id,
                n = t.duration * t.timescale,
                i = t.width,
                a = t.height,
                o = Math.floor(n / (L + 1)),
                s = Math.floor(n % (L + 1));
              return e.box(e.types.tkhd, new Uint8Array([1, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, r >> 24 & 255, r >> 16 & 255, r >> 8 & 255, 255 & r, 0, 0, 0, 0, o >> 24, o >> 16 & 255, o >> 8 & 255, 255 & o, s >> 24, s >> 16 & 255, s >> 8 & 255, 255 & s, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, i >> 8 & 255, 255 & i, 0, 0, a >> 8 & 255, 255 & a, 0, 0]))
            }, e.traf = function(t, r) {
              var n = e.sdtp(t),
                i = t.id,
                a = Math.floor(r / (L + 1)),
                o = Math.floor(r % (L + 1));
              return e.box(e.types.traf, e.box(e.types.tfhd, new Uint8Array([0, 0, 0, 0, i >> 24, i >> 16 & 255, i >> 8 & 255, 255 & i])), e.box(e.types.tfdt, new Uint8Array([1, 0, 0, 0, a >> 24, a >> 16 & 255, a >> 8 & 255, 255 & a, o >> 24, o >> 16 & 255, o >> 8 & 255, 255 & o])), e.trun(t, n.length + 16 + 20 + 8 + 16 + 8 + 8), n)
            }, e.trak = function(t) {
              return t.duration = t.duration || 4294967295, e.box(e.types.trak, e.tkhd(t), e.mdia(t))
            }, e.trex = function(t) {
              var r = t.id;
              return e.box(e.types.trex, new Uint8Array([0, 0, 0, 0, r >> 24, r >> 16 & 255, r >> 8 & 255, 255 & r, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]))
            }, e.trun = function(t, r) {
              var n, i, a, o, s, u, l = t.samples || [],
                c = l.length,
                d = 12 + 16 * c,
                f = new Uint8Array(d);
              for(r += 8 + d, f.set([0, 0, 15, 1, c >>> 24 & 255, c >>> 16 & 255, c >>> 8 & 255, 255 & c, r >>> 24 & 255, r >>> 16 & 255, r >>> 8 & 255, 255 & r], 0), n = 0; n < c; n++) a = (i = l[n]).duration, o = i.size, s = i.flags, u = i.cts, f.set([a >>> 24 & 255, a >>> 16 & 255, a >>> 8 & 255, 255 & a, o >>> 24 & 255, o >>> 16 & 255, o >>> 8 & 255, 255 & o, s.isLeading << 2 | s.dependsOn, s.isDependedOn << 6 | s.hasRedundancy << 4 | s.paddingValue << 1 | s.isNonSync, 61440 & s.degradPrio, 15 & s.degradPrio, u >>> 24 & 255, u >>> 16 & 255, u >>> 8 & 255, 255 & u], 12 + 16 * n);
              return e.box(e.types.trun, f)
            }, e.initSegment = function(t) {
              e.types || e.init();
              var r, n = e.moov(t);
              return (r = new Uint8Array(e.FTYP.byteLength + n.byteLength)).set(e.FTYP), r.set(n, e.FTYP.byteLength), r
            }, e
          }();

        function C(e, t, r, n) {
          void 0 === r && (r = 1), void 0 === n && (n = !1);
          var i = e * t * r;
          return n ? Math.round(i) : i
        }

        function D(e, t) {
          return void 0 === t && (t = !1), C(e, 1e3, 1 / 9e4, t)
        }

        function x(e, t) {
          return void 0 === t && (t = 1), C(e, 9e4, 1 / t)
        }
        var I = x(10),
          M = x(.2),
          P = null;

        function N(e, t) {
          var r;
          if(void 0 === t) return e;
          for(r = t < e ? -8589934592 : 8589934592; Math.abs(e - t) > 4294967296;) e += r;
          return e
        }
        var F, U = function() {
            function e(e, t, r, n) {
              if(this.observer = e, this.config = t, this.typeSupported = r, this.ISGenerated = !1, null === P) {
                var i = navigator.userAgent.match(/Chrome\/(\d+)/i);
                P = i ? parseInt(i[1]) : 0
              }
            }
            var t = e.prototype;
            return t.destroy = function() {}, t.resetTimeStamp = function(e) {
              this._initPTS = this._initDTS = e
            }, t.resetInitSegment = function() {
              this.ISGenerated = !1
            }, t.getVideoStartPts = function(e) {
              var t = !1,
                r = e.reduce((function(e, r) {
                  var n = r.pts - e;
                  return n < -4294967296 ? (t = !0, N(e, r.pts)) : n > 0 ? e : r.pts
                }), e[0].pts);
              return t && s.b.debug("PTS rollover detected"), r
            }, t.remux = function(e, t, r, i, a, o, u) {
              if(this.ISGenerated || this.generateIS(e, t, a), this.ISGenerated) {
                var l = e.samples.length,
                  c = t.samples.length,
                  d = a,
                  f = a;
                if(l && c) {
                  var h = this.getVideoStartPts(t.samples),
                    p = (N(e.samples[0].pts, h) - h) / t.inputTimeScale;
                  d += Math.max(0, p), f += Math.max(0, -p)
                }
                if(l) {
                  e.timescale || (s.b.warn("regenerate InitSegment as audio detected"), this.generateIS(e, t, a));
                  var v, g = this.remuxAudio(e, d, o, u);
                  c && (g && (v = g.endPTS - g.startPTS), t.timescale || (s.b.warn("regenerate InitSegment as video detected"), this.generateIS(e, t, a)), this.remuxVideo(t, f, o, v))
                }
                else if(c) {
                  var m = this.remuxVideo(t, f, o, 0, u);
                  m && e.codec && this.remuxEmptyAudio(e, d, o, m)
                }
              }
              r.samples.length && this.remuxID3(r, a), i.samples.length && this.remuxText(i, a), this.observer.trigger(n.a.FRAG_PARSED)
            }, t.generateIS = function(e, t, r) {
              var a, o, u = this.observer,
                l = e.samples,
                c = t.samples,
                d = this.typeSupported,
                f = "audio/mp4",
                h = {},
                p = {
                  tracks: h
                },
                v = void 0 === this._initPTS;
              if(v && (a = o = 1 / 0), e.config && l.length && (e.timescale = e.samplerate, s.b.log("audio sampling rate : " + e.samplerate), e.isAAC || (d.mpeg ? (f = "audio/mpeg", e.codec = "") : d.mp3 && (e.codec = "mp3")), h.audio = {
                  container: f,
                  codec: e.codec,
                  initSegment: !e.isAAC && d.mpeg ? new Uint8Array : O.initSegment([e]),
                  metadata: {
                    channelCount: e.channelCount
                  }
                }, v && (a = o = l[0].pts - Math.round(e.inputTimeScale * r))), t.sps && t.pps && c.length) {
                var g = t.inputTimeScale;
                if(t.timescale = g, h.video = {
                    container: "video/mp4",
                    codec: t.codec,
                    initSegment: O.initSegment([t]),
                    metadata: {
                      width: t.width,
                      height: t.height
                    }
                  }, v) {
                  var m = this.getVideoStartPts(c),
                    y = Math.round(g * r);
                  o = Math.min(o, N(c[0].dts, m) - y), a = Math.min(a, m - y), this.observer.trigger(n.a.INIT_PTS_FOUND, {
                    initPTS: a
                  })
                }
              }
              else v && h.audio && this.observer.trigger(n.a.INIT_PTS_FOUND, {
                initPTS: a
              });
              Object.keys(h).length ? (u.trigger(n.a.FRAG_PARSING_INIT_SEGMENT, p), this.ISGenerated = !0, v && (this._initPTS = a, this._initDTS = o)) : u.trigger(n.a.ERROR, {
                type: i.b.MEDIA_ERROR,
                details: i.a.FRAG_PARSING_ERROR,
                fatal: !1,
                reason: "no audio/video samples found"
              })
            }, t.remuxVideo = function(e, t, r, a) {
              var o, u, l, c, d, f = e.timescale,
                h = e.samples,
                p = [],
                v = h.length,
                g = this._initPTS,
                m = 8,
                y = Number.POSITIVE_INFINITY,
                _ = Number.NEGATIVE_INFINITY,
                b = 0,
                E = !1,
                A = this.nextAvcDts;
              if(0 !== v) {
                r || (A = t * f - (h[0].pts - N(h[0].dts, h[0].pts)));
                for(var T = 0; T < v; T++) {
                  var w = h[T];
                  w.pts = N(w.pts - g, A), w.dts = N(w.dts - g, A), w.dts > w.pts && (b = Math.max(Math.min(b, w.pts - w.dts), -1 * M)), w.dts < h[T > 0 ? T - 1 : T].dts && (E = !0)
                }
                E && h.sort((function(e, t) {
                  var r = e.dts - t.dts,
                    n = e.pts - t.pts;
                  return r || n || e.id - t.id
                })), c = h[0].dts, d = h[v - 1].dts;
                var S = Math.round((d - c) / (v - 1));
                if(b < 0) {
                  if(b < -2 * S) {
                    s.b.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by " + D(-S, !0) + " ms");
                    for(var k = b, R = 0; R < v; R++) h[R].dts = k = Math.max(k, h[R].pts - S), h[R].pts = Math.max(k, h[R].pts)
                  }
                  else {
                    s.b.warn("PTS < DTS detected in video samples, shifting DTS by " + D(b, !0) + " ms to overcome this issue");
                    for(var L = 0; L < v; L++) h[L].dts = h[L].dts + b
                  }
                  c = h[0].dts, d = h[v - 1].dts
                }
                if(r) {
                  var C = c - A,
                    x = C > S;
                  if(x || C < -1) {
                    x ? s.b.warn("AVC: " + D(C, !0) + " ms (" + C + "dts) hole between fragments detected, filling it") : s.b.warn("AVC: " + D(-C, !0) + " ms (" + C + "dts) overlapping between fragments detected"), c = A;
                    var I = h[0].pts - C;
                    h[0].dts = c, h[0].pts = I, s.b.log("Video: First PTS/DTS adjusted: " + D(I, !0) + "/" + D(c, !0) + ", delta: " + D(C, !0) + " ms")
                  }
                }
                P && P < 75 && (c = Math.max(0, c));
                for(var F = 0, U = 0, B = 0; B < v; B++) {
                  for(var j = h[B], G = j.units, H = G.length, K = 0, V = 0; V < H; V++) K += G[V].data.length;
                  U += K, F += H, j.length = K, j.dts = Math.max(j.dts, c), j.pts = Math.max(j.pts, j.dts, 0), y = Math.min(j.pts, y), _ = Math.max(j.pts, _)
                }
                d = h[v - 1].dts;
                var q = U + 4 * F + 8;
                try {
                  u = new Uint8Array(q)
                }
                catch (e) {
                  return void this.observer.trigger(n.a.ERROR, {
                    type: i.b.MUX_ERROR,
                    details: i.a.REMUX_ALLOC_ERROR,
                    fatal: !1,
                    bytes: q,
                    reason: "fail allocating video mdat " + q
                  })
                }
                var W = new DataView(u.buffer);
                W.setUint32(0, q), u.set(O.types.mdat, 4);
                for(var z = 0; z < v; z++) {
                  for(var Y, X = h[z], Q = X.units, J = 0, Z = 0, $ = Q.length; Z < $; Z++) {
                    var ee = Q[Z],
                      te = ee.data,
                      re = ee.data.byteLength;
                    W.setUint32(m, re), m += 4, u.set(te, m), m += re, J += 4 + re
                  }
                  if(z < v - 1) o = h[z + 1].dts - X.dts;
                  else {
                    var ne = this.config,
                      ie = X.dts - h[z > 0 ? z - 1 : z].dts;
                    if(ne.stretchShortVideoTrack) {
                      var ae = ne.maxBufferHole,
                        oe = Math.floor(ae * f),
                        se = (a ? y + a * f : this.nextAudioPts) - X.pts;
                      se > oe ? ((o = se - ie) < 0 && (o = ie), s.b.log("It is approximately " + D(se, !1) + " ms to the next segment; using duration " + D(o, !1) + " ms for the last video frame.")) : o = ie
                    }
                    else o = ie
                  }
                  Y = Math.round(X.pts - X.dts), p.push({
                    size: J,
                    duration: o,
                    cts: Y,
                    flags: {
                      isLeading: 0,
                      isDependedOn: 0,
                      hasRedundancy: 0,
                      degradPrio: 0,
                      dependsOn: X.key ? 2 : 1,
                      isNonSync: X.key ? 0 : 1
                    }
                  })
                }
                this.nextAvcDts = d + o;
                var ue = e.dropped;
                if(e.nbNalu = 0, e.dropped = 0, p.length && navigator.userAgent.toLowerCase().indexOf("chrome") > -1) {
                  var le = p[0].flags;
                  le.dependsOn = 2, le.isNonSync = 0
                }
                e.samples = p, l = O.moof(e.sequenceNumber++, c, e), e.samples = [];
                var ce = {
                  data1: l,
                  data2: u,
                  startPTS: y / f,
                  endPTS: (_ + o) / f,
                  startDTS: c / f,
                  endDTS: this.nextAvcDts / f,
                  type: "video",
                  hasAudio: !1,
                  hasVideo: !0,
                  nb: p.length,
                  dropped: ue
                };
                return this.observer.trigger(n.a.FRAG_PARSING_DATA, ce), ce
              }
            }, t.remuxAudio = function(e, t, r, a) {
              var o, u, l, c, d, f, h = e.inputTimeScale,
                p = e.timescale,
                v = h / p,
                g = (e.isAAC ? 1024 : 1152) * v,
                m = this._initPTS,
                y = !e.isAAC && this.typeSupported.mpeg,
                _ = y ? 0 : 8,
                b = e.samples,
                E = [],
                A = this.nextAudioPts;
              if(r |= b.length && A && (a && Math.abs(t - A / h) < .1 || Math.abs(b[0].pts - A - m) < 20 * g), b.forEach((function(e) {
                  e.pts = e.dts = N(e.pts - m, t * h)
                })), 0 !== (b = b.filter((function(e) {
                  return e.pts >= 0
                }))).length) {
                if(r || (A = a ? Math.max(0, t * h) : b[0].pts), e.isAAC)
                  for(var T = this.config.maxAudioFramesDrift, w = 0, S = A; w < b.length;) {
                    var k = b[w],
                      L = k.pts,
                      C = L - S;
                    if(C <= -T * g) r || w > 0 ? (s.b.warn("Dropping 1 audio frame @ " + D(S, !0) / 1e3 + "s due to " + D(C, !0) + " ms overlap."), b.splice(w, 1)) : (s.b.warn("Audio frame @ " + D(L, !0) / 1e3 + "s overlaps nextAudioPts by " + D(C, !0) + " ms."), S = L + g, w++);
                    else if(C >= T * g && C < I && S) {
                      var x = Math.round(C / g);
                      s.b.warn("Injecting " + x + " audio frames @ " + D(S, !0) / 1e3 + "s due to " + D(C, !0) + " ms gap.");
                      for(var M = 0; M < x; M++) {
                        var P = Math.max(S, 0);
                        (u = R.getSilentFrame(e.manifestCodec || e.codec, e.channelCount)) || (s.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."), u = k.unit.subarray()), b.splice(w, 0, {
                          unit: u,
                          pts: P,
                          dts: P
                        }), S += g, w++
                      }
                      k.pts = k.dts = S, S += g, w++
                    }
                    else k.pts = k.dts = S, S += g, w++
                  }
                for(var F = b.length, U = 0; F--;) U += b[F].unit.byteLength;
                for(var B = 0, j = b.length; B < j; B++) {
                  var G = b[B],
                    H = G.unit,
                    K = G.pts;
                  if(void 0 !== f && o) o.duration = Math.round((K - f) / v);
                  else {
                    var V = K - A,
                      q = 0;
                    if(r && e.isAAC && V) {
                      if(V > 0 && V < I) q = Math.round((K - A) / g), s.b.log(D(V, !0) + " ms hole between AAC samples detected,filling it"), q > 0 && ((u = R.getSilentFrame(e.manifestCodec || e.codec, e.channelCount)) || (u = H.subarray()), U += q * u.length);
                      else if(V < -12) {
                        s.b.log("drop overlapping AAC sample, expected/parsed/delta: " + D(A, !0) + " ms / " + D(K, !0) + " ms / " + D(-V, !0) + " ms"), U -= H.byteLength;
                        continue
                      }
                      K = A
                    }
                    if(d = K, !(U > 0)) return;
                    U += _;
                    try {
                      l = new Uint8Array(U)
                    }
                    catch (e) {
                      return void this.observer.trigger(n.a.ERROR, {
                        type: i.b.MUX_ERROR,
                        details: i.a.REMUX_ALLOC_ERROR,
                        fatal: !1,
                        bytes: U,
                        reason: "fail allocating audio mdat " + U
                      })
                    }
                    y || (new DataView(l.buffer).setUint32(0, U), l.set(O.types.mdat, 4));
                    for(var W = 0; W < q; W++)(u = R.getSilentFrame(e.manifestCodec || e.codec, e.channelCount)) || (s.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."), u = H.subarray()), l.set(u, _), _ += u.byteLength, o = {
                      size: u.byteLength,
                      cts: 0,
                      duration: 1024,
                      flags: {
                        isLeading: 0,
                        isDependedOn: 0,
                        hasRedundancy: 0,
                        degradPrio: 0,
                        dependsOn: 1
                      }
                    }, E.push(o)
                  }
                  l.set(H, _);
                  var z = H.byteLength;
                  _ += z, o = {
                    size: z,
                    cts: 0,
                    duration: 0,
                    flags: {
                      isLeading: 0,
                      isDependedOn: 0,
                      hasRedundancy: 0,
                      degradPrio: 0,
                      dependsOn: 1
                    }
                  }, E.push(o), f = K
                }
                var Y = 0;
                if((F = E.length) >= 2 && (Y = E[F - 2].duration, o.duration = Y), F) {
                  this.nextAudioPts = A = f + v * Y, e.samples = E, c = y ? new Uint8Array : O.moof(e.sequenceNumber++, d / v, e), e.samples = [];
                  var X = d / h,
                    Q = A / h,
                    J = {
                      data1: c,
                      data2: l,
                      startPTS: X,
                      endPTS: Q,
                      startDTS: X,
                      endDTS: Q,
                      type: "audio",
                      hasAudio: !0,
                      hasVideo: !1,
                      nb: F
                    };
                  return this.observer.trigger(n.a.FRAG_PARSING_DATA, J), J
                }
                return null
              }
            }, t.remuxEmptyAudio = function(e, t, r, n) {
              var i = e.inputTimeScale,
                a = i / (e.samplerate ? e.samplerate : i),
                o = this.nextAudioPts,
                u = (void 0 !== o ? o : n.startDTS * i) + this._initDTS,
                l = n.endDTS * i + this._initDTS,
                c = 1024 * a,
                d = Math.ceil((l - u) / c),
                f = R.getSilentFrame(e.manifestCodec || e.codec, e.channelCount);
              if(s.b.warn("remux empty Audio"), f) {
                for(var h = [], p = 0; p < d; p++) {
                  var v = u + p * c;
                  h.push({
                    unit: f,
                    pts: v,
                    dts: v
                  })
                }
                e.samples = h, this.remuxAudio(e, t, r)
              }
              else s.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")
            }, t.remuxID3 = function(e, t) {
              var r = e.samples.length;
              if(r) {
                for(var i = e.inputTimeScale, a = this._initPTS, o = this._initDTS, s = 0; s < r; s++) {
                  var u = e.samples[s];
                  u.pts = N(u.pts - a, t * i) / i, u.dts = N(u.dts - o, t * i) / i
                }
                this.observer.trigger(n.a.FRAG_PARSING_METADATA, {
                  samples: e.samples
                }), e.samples = []
              }
            }, t.remuxText = function(e, t) {
              var r = e.samples.length,
                i = e.inputTimeScale,
                a = this._initPTS;
              if(r) {
                for(var o = 0; o < r; o++) {
                  var s = e.samples[o];
                  s.pts = N(s.pts - a, t * i) / i
                }
                e.samples.sort((function(e, t) {
                  return e.pts - t.pts
                })), this.observer.trigger(n.a.FRAG_PARSING_USERDATA, {
                  samples: e.samples
                })
              }
              e.samples = []
            }, e
          }(),
          B = function() {
            function e(e) {
              this.observer = e
            }
            var t = e.prototype;
            return t.destroy = function() {}, t.resetTimeStamp = function() {}, t.resetInitSegment = function() {}, t.remux = function(e, t, r, i, a, o, s, u) {
              var l = this.observer,
                c = "";
              e && (c += "audio"), t && (c += "video"), l.trigger(n.a.FRAG_PARSING_DATA, {
                data1: u,
                startPTS: a,
                startDTS: a,
                type: c,
                hasAudio: !!e,
                hasVideo: !!t,
                nb: 1,
                dropped: 0
              }), l.trigger(n.a.FRAG_PARSED)
            }, e
          }(),
          j = Object(u.a)();
        try {
          F = j.performance.now.bind(j.performance)
        }
        catch (e) {
          s.b.debug("Unable to use Performance API on this environment"), F = j.Date.now
        }
        var G = function() {
          function e(e, t, r, n) {
            this.observer = e, this.typeSupported = t, this.config = r, this.vendor = n
          }
          var t = e.prototype;
          return t.destroy = function() {
            var e = this.demuxer;
            e && e.destroy()
          }, t.push = function(e, t, r, i, o, s, u, l, c, d, f, h) {
            var p = this;
            if(e.byteLength > 0 && null != t && null != t.key && "AES-128" === t.method) {
              var v = this.decrypter;
              null == v && (v = this.decrypter = new a.a(this.observer, this.config));
              var g = F();
              v.decrypt(e, t.key.buffer, t.iv.buffer, (function(e) {
                var a = F();
                p.observer.trigger(n.a.FRAG_DECRYPTED, {
                  stats: {
                    tstart: g,
                    tdecrypt: a
                  }
                }), p.pushDecrypted(new Uint8Array(e), t, new Uint8Array(r), i, o, s, u, l, c, d, f, h)
              }))
            }
            else this.pushDecrypted(new Uint8Array(e), t, new Uint8Array(r), i, o, s, u, l, c, d, f, h)
          }, t.pushDecrypted = function(e, t, r, a, o, s, u, l, c, d, f, h) {
            var p = this.demuxer,
              v = this.remuxer;
            if(!p || u || l) {
              for(var g, m = this.observer, b = this.typeSupported, E = this.config, A = [{
                  demux: S,
                  remux: U
                }, {
                  demux: _.a,
                  remux: B
                }, {
                  demux: y,
                  remux: U
                }, {
                  demux: k,
                  remux: U
                }], T = 0, w = A.length; T < w && !(g = A[T]).demux.probe(e); T++);
              if(!g) return void m.trigger(n.a.ERROR, {
                type: i.b.MEDIA_ERROR,
                details: i.a.FRAG_PARSING_ERROR,
                fatal: !0,
                reason: "no demux matching with content found"
              });
              v && v instanceof g.remux || (v = new g.remux(m, E, b, this.vendor)), p && p instanceof g.demux || (p = new g.demux(m, v, E, b), this.probe = g.demux.probe), this.demuxer = p, this.remuxer = v
            }(u || l) && (p.resetInitSegment(r, a, o, d), v.resetInitSegment()), u && (p.resetTimeStamp(h), v.resetTimeStamp(h)), "function" == typeof p.setDecryptData && p.setDecryptData(t), p.append(e, s, c, f)
          }, e
        }();
        t.a = G
      }, function(e, t, r) {
        var n = r(0),
          i = r(1),
          a = Math.pow(2, 32) - 1,
          o = function() {
            function e(e, t) {
              this.observer = e, this.remuxer = t
            }
            var t = e.prototype;
            return t.resetTimeStamp = function(e) {
              this.initPTS = e
            }, t.resetInitSegment = function(t, r, n, a) {
              if(t && t.byteLength) {
                var o = this.initData = e.parseInitSegment(t);
                null == r && (r = "mp4a.40.5"), null == n && (n = "avc1.42e01e");
                var s = {};
                o.audio && o.video ? s.audiovideo = {
                  container: "video/mp4",
                  codec: r + "," + n,
                  initSegment: a ? t : null
                } : (o.audio && (s.audio = {
                  container: "audio/mp4",
                  codec: r,
                  initSegment: a ? t : null
                }), o.video && (s.video = {
                  container: "video/mp4",
                  codec: n,
                  initSegment: a ? t : null
                })), this.observer.trigger(i.a.FRAG_PARSING_INIT_SEGMENT, {
                  tracks: s
                })
              }
              else r && (this.audioCodec = r), n && (this.videoCodec = n)
            }, e.probe = function(t) {
              return e.findBox({
                data: t,
                start: 0,
                end: Math.min(t.length, 16384)
              }, ["moof"]).length > 0
            }, e.bin2str = function(e) {
              return String.fromCharCode.apply(null, e)
            }, e.readUint16 = function(e, t) {
              e.data && (t += e.start, e = e.data);
              var r = e[t] << 8 | e[t + 1];
              return r < 0 ? 65536 + r : r
            }, e.readUint32 = function(e, t) {
              e.data && (t += e.start, e = e.data);
              var r = e[t] << 24 | e[t + 1] << 16 | e[t + 2] << 8 | e[t + 3];
              return r < 0 ? 4294967296 + r : r
            }, e.writeUint32 = function(e, t, r) {
              e.data && (t += e.start, e = e.data), e[t] = r >> 24, e[t + 1] = r >> 16 & 255, e[t + 2] = r >> 8 & 255, e[t + 3] = 255 & r
            }, e.findBox = function(t, r) {
              var n, i, a, o, s, u, l = [];
              if(t.data ? (s = t.start, a = t.end, t = t.data) : (s = 0, a = t.byteLength), !r.length) return null;
              for(n = s; n < a;) u = (i = e.readUint32(t, n)) > 1 ? n + i : a, e.bin2str(t.subarray(n + 4, n + 8)) === r[0] && (1 === r.length ? l.push({
                data: t,
                start: n + 8,
                end: u
              }) : (o = e.findBox({
                data: t,
                start: n + 8,
                end: u
              }, r.slice(1))).length && (l = l.concat(o))), n = u;
              return l
            }, e.parseSegmentIndex = function(t) {
              var r, n = e.findBox(t, ["moov"])[0],
                i = n ? n.end : null,
                a = 0,
                o = e.findBox(t, ["sidx"]);
              if(!o || !o[0]) return null;
              r = [];
              var s = (o = o[0]).data[0];
              a = 0 === s ? 8 : 16;
              var u = e.readUint32(o, a);
              a += 4, a += 0 === s ? 8 : 16, a += 2;
              var l = o.end + 0,
                c = e.readUint16(o, a);
              a += 2;
              for(var d = 0; d < c; d++) {
                var f = a,
                  h = e.readUint32(o, f);
                f += 4;
                var p = 2147483647 & h;
                if(1 == (2147483648 & h) >>> 31) return void console.warn("SIDX has hierarchical references (not supported)");
                var v = e.readUint32(o, f);
                f += 4, r.push({
                  referenceSize: p,
                  subsegmentDuration: v,
                  info: {
                    duration: v / u,
                    start: l,
                    end: l + p - 1
                  }
                }), l += p, a = f += 4
              }
              return {
                earliestPresentationTime: 0,
                timescale: u,
                version: s,
                referencesCount: c,
                references: r,
                moovEndOffset: i
              }
            }, e.parseInitSegment = function(t) {
              var r = [];
              return e.findBox(t, ["moov", "trak"]).forEach((function(t) {
                var i = e.findBox(t, ["tkhd"])[0];
                if(i) {
                  var a = i.data[i.start],
                    o = 0 === a ? 12 : 20,
                    s = e.readUint32(i, o),
                    u = e.findBox(t, ["mdia", "mdhd"])[0];
                  if(u) {
                    o = 0 === (a = u.data[u.start]) ? 12 : 20;
                    var l = e.readUint32(u, o),
                      c = e.findBox(t, ["mdia", "hdlr"])[0];
                    if(c) {
                      var d = {
                        soun: "audio",
                        vide: "video"
                      } [e.bin2str(c.data.subarray(c.start + 8, c.start + 12))];
                      if(d) {
                        var f = e.findBox(t, ["mdia", "minf", "stbl", "stsd"]);
                        if(f.length) {
                          f = f[0];
                          var h = e.bin2str(f.data.subarray(f.start + 12, f.start + 16));
                          n.b.log("MP4Demuxer:" + d + ":" + h + " found")
                        }
                        r[s] = {
                          timescale: l,
                          type: d
                        }, r[d] = {
                          timescale: l,
                          id: s
                        }
                      }
                    }
                  }
                }
              })), r
            }, e.getStartDTS = function(t, r) {
              var n, i, a;
              return n = e.findBox(r, ["moof", "traf"]), i = [].concat.apply([], n.map((function(r) {
                return e.findBox(r, ["tfhd"]).map((function(n) {
                  var i, a;
                  return i = e.readUint32(n, 4), a = t[i].timescale || 9e4, e.findBox(r, ["tfdt"]).map((function(t) {
                    var r, n;
                    return r = t.data[t.start], n = e.readUint32(t, 4), 1 === r && (n *= Math.pow(2, 32), n += e.readUint32(t, 8)), n
                  }))[0] / a
                }))
              }))), a = Math.min.apply(null, i), isFinite(a) ? a : 0
            }, e.offsetStartDTS = function(t, r, n) {
              e.findBox(r, ["moof", "traf"]).map((function(r) {
                return e.findBox(r, ["tfhd"]).map((function(i) {
                  var o = e.readUint32(i, 4),
                    s = t[o].timescale || 9e4;
                  e.findBox(r, ["tfdt"]).map((function(t) {
                    var r = t.data[t.start],
                      i = e.readUint32(t, 4);
                    if(0 === r) e.writeUint32(t, 4, i - n * s);
                    else {
                      i *= Math.pow(2, 32), i += e.readUint32(t, 8), i -= n * s, i = Math.max(i, 0);
                      var o = Math.floor(i / (a + 1)),
                        u = Math.floor(i % (a + 1));
                      e.writeUint32(t, 4, o), e.writeUint32(t, 8, u)
                    }
                  }))
                }))
              }))
            }, t.append = function(t, r, n, a) {
              var o = this.initData;
              o || (this.resetInitSegment(t, this.audioCodec, this.videoCodec, !1), o = this.initData);
              var s, u = this.initPTS;
              if(void 0 === u) {
                var l = e.getStartDTS(o, t);
                this.initPTS = u = l - r, this.observer.trigger(i.a.INIT_PTS_FOUND, {
                  initPTS: u
                })
              }
              e.offsetStartDTS(o, t, u), s = e.getStartDTS(o, t), this.remuxer.remux(o.audio, o.video, null, null, s, n, a, t)
            }, t.destroy = function() {}, e
          }();
        t.a = o
      }, function(e, t, r) {
        function n(e) {
          var t = {};

          function r(n) {
            if(t[n]) return t[n].exports;
            var i = t[n] = {
              i: n,
              l: !1,
              exports: {}
            };
            return e[n].call(i.exports, i, i.exports, r), i.l = !0, i.exports
          }
          r.m = e, r.c = t, r.i = function(e) {
            return e
          }, r.d = function(e, t, n) {
            r.o(e, t) || Object.defineProperty(e, t, {
              configurable: !1,
              enumerable: !0,
              get: n
            })
          }, r.r = function(e) {
            Object.defineProperty(e, "__esModule", {
              value: !0
            })
          }, r.n = function(e) {
            var t = e && e.__esModule ? function() {
              return e.default
            } : function() {
              return e
            };
            return r.d(t, "a", t), t
          }, r.o = function(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
          }, r.p = "/", r.oe = function(e) {
            throw console.error(e), e
          };
          var n = r(r.s = ENTRY_MODULE);
          return n.default || n
        }

        function i(e) {
          return (e + "").replace(/[.?*+^$[\]\\(){}|-]/g, "\\$&")
        }

        function a(e, t, n) {
          var a = {};
          a[n] = [];
          var o = t.toString(),
            s = o.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);
          if(!s) return a;
          for(var u, l = s[1], c = new RegExp("(\\\\n|\\W)" + i(l) + "\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)", "g"); u = c.exec(o);) "dll-reference" !== u[3] && a[n].push(u[3]);
          for(c = new RegExp("\\(" + i(l) + '\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)', "g"); u = c.exec(o);) e[u[2]] || (a[n].push(u[1]), e[u[2]] = r(u[1]).m), a[u[2]] = a[u[2]] || [], a[u[2]].push(u[4]);
          for(var d, f = Object.keys(a), h = 0; h < f.length; h++)
            for(var p = 0; p < a[f[h]].length; p++) d = a[f[h]][p], isNaN(1 * d) || (a[f[h]][p] = 1 * a[f[h]][p]);
          return a
        }

        function o(e) {
          return Object.keys(e).reduce((function(t, r) {
            return t || e[r].length > 0
          }), !1)
        }
        e.exports = function(e, t) {
          t = t || {};
          var i = {
              main: r.m
            },
            s = t.all ? {
              main: Object.keys(i.main)
            } : function(e, t) {
              for(var r = {
                  main: [t]
                }, n = {
                  main: []
                }, i = {
                  main: {}
                }; o(r);)
                for(var s = Object.keys(r), u = 0; u < s.length; u++) {
                  var l = s[u],
                    c = r[l].pop();
                  if(i[l] = i[l] || {}, !i[l][c] && e[l][c]) {
                    i[l][c] = !0, n[l] = n[l] || [], n[l].push(c);
                    for(var d = a(e, e[l][c], l), f = Object.keys(d), h = 0; h < f.length; h++) r[f[h]] = r[f[h]] || [], r[f[h]] = r[f[h]].concat(d[f[h]])
                  }
                }
              return n
            }(i, e),
            u = "";
          Object.keys(s).filter((function(e) {
            return "main" !== e
          })).forEach((function(e) {
            for(var t = 0; s[e][t];) t++;
            s[e].push(t), i[e][t] = "(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })", u = u + "var " + e + " = (" + n.toString().replace("ENTRY_MODULE", JSON.stringify(t)) + ")({" + s[e].map((function(t) {
              return JSON.stringify(t) + ": " + i[e][t].toString()
            })).join(",") + "});\n"
          })), u = u + "new ((" + n.toString().replace("ENTRY_MODULE", JSON.stringify(e)) + ")({" + s.main.map((function(e) {
            return JSON.stringify(e) + ": " + i.main[e].toString()
          })).join(",") + "}))(self);";
          var l = new window.Blob([u], {
            type: "text/javascript"
          });
          if(t.bare) return l;
          var c = (window.URL || window.webkitURL || window.mozURL || window.msURL).createObjectURL(l),
            d = new window.Worker(c);
          return d.objectURL = c, d
        }
      }, function(e, t, r) {
        r.r(t);
        var n = r(9),
          i = r(1),
          a = r(0),
          o = r(8);
        t.default = function(e) {
          var t = new o.EventEmitter;
          t.trigger = function(e) {
            for(var r = arguments.length, n = new Array(r > 1 ? r - 1 : 0), i = 1; i < r; i++) n[i - 1] = arguments[i];
            t.emit.apply(t, [e, e].concat(n))
          }, t.off = function(e) {
            for(var r = arguments.length, n = new Array(r > 1 ? r - 1 : 0), i = 1; i < r; i++) n[i - 1] = arguments[i];
            t.removeListener.apply(t, [e].concat(n))
          };
          var r = function(t, r) {
            e.postMessage({
              event: t,
              data: r
            })
          };
          e.addEventListener("message", (function(i) {
            var o = i.data;
            switch(o.cmd) {
              case "init":
                var s = JSON.parse(o.config);
                e.demuxer = new n.a(t, o.typeSupported, s, o.vendor), Object(a.a)(s.debug), r("init", null);
                break;
              case "demux":
                e.demuxer.push(o.data, o.decryptdata, o.initSegment, o.audioCodec, o.videoCodec, o.timeOffset, o.discontinuity, o.trackSwitch, o.contiguous, o.duration, o.accurateTimeOffset, o.defaultInitPTS)
            }
          })), t.on(i.a.FRAG_DECRYPTED, r), t.on(i.a.FRAG_PARSING_INIT_SEGMENT, r), t.on(i.a.FRAG_PARSED, r), t.on(i.a.ERROR, r), t.on(i.a.FRAG_PARSING_METADATA, r), t.on(i.a.FRAG_PARSING_USERDATA, r), t.on(i.a.INIT_PTS_FOUND, r), t.on(i.a.FRAG_PARSING_DATA, (function(t, r) {
            var n = [],
              i = {
                event: t,
                data: r
              };
            r.data1 && (i.data1 = r.data1.buffer, n.push(r.data1.buffer), delete r.data1), r.data2 && (i.data2 = r.data2.buffer, n.push(r.data2.buffer), delete r.data2), e.postMessage(i, n)
          }))
        }
      }, function(e, t, r) {
        r.r(t), r.d(t, "default", (function() {
          return Yt
        }));
        var n = {};
        r.r(n), r.d(n, "newCue", (function() {
          return it
        }));
        var i, a, o = r(6),
          s = r(2),
          u = r(3),
          l = r(1),
          c = r(0),
          d = {
            hlsEventGeneric: !0,
            hlsHandlerDestroying: !0,
            hlsHandlerDestroyed: !0
          },
          f = function() {
            function e(e) {
              this.hls = void 0, this.handledEvents = void 0, this.useGenericHandler = void 0, this.hls = e, this.onEvent = this.onEvent.bind(this);
              for(var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++) r[n - 1] = arguments[n];
              this.handledEvents = r, this.useGenericHandler = !0, this.registerListeners()
            }
            var t = e.prototype;
            return t.destroy = function() {
              this.onHandlerDestroying(), this.unregisterListeners(), this.onHandlerDestroyed()
            }, t.onHandlerDestroying = function() {}, t.onHandlerDestroyed = function() {}, t.isEventHandler = function() {
              return "object" == typeof this.handledEvents && this.handledEvents.length && "function" == typeof this.onEvent
            }, t.registerListeners = function() {
              this.isEventHandler() && this.handledEvents.forEach((function(e) {
                if(d[e]) throw new Error("Forbidden event-name: " + e);
                this.hls.on(e, this.onEvent)
              }), this)
            }, t.unregisterListeners = function() {
              this.isEventHandler() && this.handledEvents.forEach((function(e) {
                this.hls.off(e, this.onEvent)
              }), this)
            }, t.onEvent = function(e, t) {
              this.onEventGeneric(e, t)
            }, t.onEventGeneric = function(e, t) {
              try {
                (function(e, t) {
                  var r = "on" + e.replace("hls", "");
                  if("function" != typeof this[r]) throw new Error("Event " + e + " has no generic handler in this " + this.constructor.name + " class (tried " + r + ")");
                  return this[r].bind(this, t)
                }).call(this, e, t).call()
              }
              catch (t) {
                c.b.error("An internal error happened while handling event " + e + '. Error message: "' + t.message + '". Here is a stacktrace:', t), this.hls.trigger(l.a.ERROR, {
                  type: s.b.OTHER_ERROR,
                  details: s.a.INTERNAL_EXCEPTION,
                  fatal: !1,
                  event: e,
                  err: t
                })
              }
            }, e
          }();
        ! function(e) {
          e.MANIFEST = "manifest", e.LEVEL = "level", e.AUDIO_TRACK = "audioTrack", e.SUBTITLE_TRACK = "subtitleTrack"
        }(i || (i = {})),
        function(e) {
          e.MAIN = "main", e.AUDIO = "audio", e.SUBTITLE = "subtitle"
        }(a || (a = {}));
        var h, p = r(10),
          v = function() {
            function e(e, t) {
              this._uri = null, this.baseuri = void 0, this.reluri = void 0, this.method = null, this.key = null, this.iv = null, this.baseuri = e, this.reluri = t
            }
            var t;
            return (t = [{
              key: "uri",
              get: function() {
                return !this._uri && this.reluri && (this._uri = Object(o.buildAbsoluteURL)(this.baseuri, this.reluri, {
                  alwaysNormalize: !0
                })), this._uri
              }
            }]) && function(e, t) {
              for(var r = 0; r < t.length; r++) {
                var n = t[r];
                n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
              }
            }(e.prototype, t), e
          }();
        ! function(e) {
          e.AUDIO = "audio", e.VIDEO = "video"
        }(h || (h = {}));
        var g = function() {
            function e() {
              var e;
              this._url = null, this._byteRange = null, this._decryptdata = null, this._elementaryStreams = ((e = {})[h.AUDIO] = !1, e[h.VIDEO] = !1, e), this.deltaPTS = 0, this.rawProgramDateTime = null, this.programDateTime = null, this.title = null, this.tagList = [], this.cc = void 0, this.type = void 0, this.relurl = void 0, this.baseurl = void 0, this.duration = void 0, this.start = void 0, this.sn = 0, this.urlId = 0, this.level = 0, this.levelkey = void 0, this.loader = void 0
            }
            var t, r = e.prototype;
            return r.setByteRange = function(e, t) {
              var r = e.split("@", 2),
                n = [];
              1 === r.length ? n[0] = t ? t.byteRangeEndOffset : 0 : n[0] = parseInt(r[1]), n[1] = parseInt(r[0]) + n[0], this._byteRange = n
            }, r.addElementaryStream = function(e) {
              this._elementaryStreams[e] = !0
            }, r.hasElementaryStream = function(e) {
              return !0 === this._elementaryStreams[e]
            }, r.createInitializationVector = function(e) {
              for(var t = new Uint8Array(16), r = 12; r < 16; r++) t[r] = e >> 8 * (15 - r) & 255;
              return t
            }, r.setDecryptDataFromLevelKey = function(e, t) {
              var r = e;
              return (null == e ? void 0 : e.method) && e.uri && !e.iv && ((r = new v(e.baseuri, e.reluri)).method = e.method, r.iv = this.createInitializationVector(t)), r
            }, (t = [{
              key: "url",
              get: function() {
                return !this._url && this.relurl && (this._url = Object(o.buildAbsoluteURL)(this.baseurl, this.relurl, {
                  alwaysNormalize: !0
                })), this._url
              },
              set: function(e) {
                this._url = e
              }
            }, {
              key: "byteRange",
              get: function() {
                return this._byteRange ? this._byteRange : []
              }
            }, {
              key: "byteRangeStartOffset",
              get: function() {
                return this.byteRange[0]
              }
            }, {
              key: "byteRangeEndOffset",
              get: function() {
                return this.byteRange[1]
              }
            }, {
              key: "decryptdata",
              get: function() {
                if(!this.levelkey && !this._decryptdata) return null;
                if(!this._decryptdata && this.levelkey) {
                  var e = this.sn;
                  "number" != typeof e && (this.levelkey && "AES-128" === this.levelkey.method && !this.levelkey.iv && c.b.warn('missing IV for initialization segment with method="' + this.levelkey.method + '" - compliance issue'), e = 0), this._decryptdata = this.setDecryptDataFromLevelKey(this.levelkey, e)
                }
                return this._decryptdata
              }
            }, {
              key: "endProgramDateTime",
              get: function() {
                if(null === this.programDateTime) return null;
                if(!Object(u.a)(this.programDateTime)) return null;
                var e = Object(u.a)(this.duration) ? this.duration : 0;
                return this.programDateTime + 1e3 * e
              }
            }, {
              key: "encrypted",
              get: function() {
                return !(!this.decryptdata || null === this.decryptdata.uri || null !== this.decryptdata.key)
              }
            }]) && function(e, t) {
              for(var r = 0; r < t.length; r++) {
                var n = t[r];
                n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
              }
            }(e.prototype, t), e
          }(),
          m = function() {
            function e(e) {
              this.endCC = 0, this.endSN = 0, this.fragments = [], this.initSegment = null, this.live = !0, this.needSidxRanges = !1, this.startCC = 0, this.startSN = 0, this.startTimeOffset = null, this.targetduration = 0, this.totalduration = 0, this.type = null, this.url = e, this.version = null
            }
            var t;
            return (t = [{
              key: "hasProgramDateTime",
              get: function() {
                return !(!this.fragments[0] || !Object(u.a)(this.fragments[0].programDateTime))
              }
            }]) && function(e, t) {
              for(var r = 0; r < t.length; r++) {
                var n = t[r];
                n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
              }
            }(e.prototype, t), e
          }(),
          y = /^(\d+)x(\d+)$/,
          _ = /\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,
          b = function() {
            function e(t) {
              for(var r in "string" == typeof t && (t = e.parseAttrList(t)), t) t.hasOwnProperty(r) && (this[r] = t[r])
            }
            var t = e.prototype;
            return t.decimalInteger = function(e) {
              var t = parseInt(this[e], 10);
              return t > Number.MAX_SAFE_INTEGER ? 1 / 0 : t
            }, t.hexadecimalInteger = function(e) {
              if(this[e]) {
                var t = (this[e] || "0x").slice(2);
                t = (1 & t.length ? "0" : "") + t;
                for(var r = new Uint8Array(t.length / 2), n = 0; n < t.length / 2; n++) r[n] = parseInt(t.slice(2 * n, 2 * n + 2), 16);
                return r
              }
              return null
            }, t.hexadecimalIntegerAsNumber = function(e) {
              var t = parseInt(this[e], 16);
              return t > Number.MAX_SAFE_INTEGER ? 1 / 0 : t
            }, t.decimalFloatingPoint = function(e) {
              return parseFloat(this[e])
            }, t.enumeratedString = function(e) {
              return this[e]
            }, t.decimalResolution = function(e) {
              var t = y.exec(this[e]);
              if(null !== t) return {
                width: parseInt(t[1], 10),
                height: parseInt(t[2], 10)
              }
            }, e.parseAttrList = function(e) {
              var t, r = {};
              for(_.lastIndex = 0; null !== (t = _.exec(e));) {
                var n = t[2];
                0 === n.indexOf('"') && n.lastIndexOf('"') === n.length - 1 && (n = n.slice(1, -1)), r[t[1]] = n
              }
              return r
            }, e
          }(),
          E = {
            audio: {
              a3ds: !0,
              "ac-3": !0,
              "ac-4": !0,
              alac: !0,
              alaw: !0,
              dra1: !0,
              "dts+": !0,
              "dts-": !0,
              dtsc: !0,
              dtse: !0,
              dtsh: !0,
              "ec-3": !0,
              enca: !0,
              g719: !0,
              g726: !0,
              m4ae: !0,
              mha1: !0,
              mha2: !0,
              mhm1: !0,
              mhm2: !0,
              mlpa: !0,
              mp4a: !0,
              "raw ": !0,
              Opus: !0,
              samr: !0,
              sawb: !0,
              sawp: !0,
              sevc: !0,
              sqcp: !0,
              ssmv: !0,
              twos: !0,
              ulaw: !0
            },
            video: {
              avc1: !0,
              avc2: !0,
              avc3: !0,
              avc4: !0,
              avcp: !0,
              drac: !0,
              dvav: !0,
              dvhe: !0,
              encv: !0,
              hev1: !0,
              hvc1: !0,
              mjp2: !0,
              mp4v: !0,
              mvc1: !0,
              mvc2: !0,
              mvc3: !0,
              mvc4: !0,
              resv: !0,
              rv60: !0,
              s263: !0,
              svc1: !0,
              svc2: !0,
              "vc-1": !0,
              vp08: !0,
              vp09: !0
            }
          };

        function A(e, t) {
          return MediaSource.isTypeSupported((t || "video") + '/mp4;codecs="' + e + '"')
        }
        var T = /(?:#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)|#EXT-X-SESSION-DATA:([^\n\r]*)[\r\n]+)/g,
          w = /#EXT-X-MEDIA:(.*)/g,
          S = new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source, /|(?!#)([\S+ ?]+)/.source, /|#EXT-X-BYTERANGE:*(.+)/.source, /|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source, /|#.*/.source].join(""), "g"),
          k = /(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,
          R = /\.(mp4|m4s|m4v|m4a)$/i,
          L = function() {
            function e() {}
            return e.findGroup = function(e, t) {
              for(var r = 0; r < e.length; r++) {
                var n = e[r];
                if(n.id === t) return n
              }
            }, e.convertAVC1ToAVCOTI = function(e) {
              var t, r = e.split(".");
              return r.length > 2 ? (t = r.shift() + ".", t += parseInt(r.shift()).toString(16), t += ("000" + parseInt(r.shift()).toString(16)).substr(-4)) : t = e, t
            }, e.resolve = function(e, t) {
              return o.buildAbsoluteURL(t, e, {
                alwaysNormalize: !0
              })
            }, e.parseMasterPlaylist = function(t, r) {
              var n, i = [],
                a = {},
                o = !1;

              function s(e, t) {
                ["video", "audio"].forEach((function(r) {
                  var n = e.filter((function(e) {
                    return function(e, t) {
                      var r = E[t];
                      return !!r && !0 === r[e.slice(0, 4)]
                    }(e, r)
                  }));
                  if(n.length) {
                    var i = n.filter((function(e) {
                      return 0 === e.lastIndexOf("avc1", 0) || 0 === e.lastIndexOf("mp4a", 0)
                    }));
                    t[r + "Codec"] = i.length > 0 ? i[0] : n[0], e = e.filter((function(e) {
                      return -1 === n.indexOf(e)
                    }))
                  }
                })), t.unknownCodecs = e
              }
              for(T.lastIndex = 0; null != (n = T.exec(t));)
                if(n[1]) {
                  var u = {},
                    l = u.attrs = new b(n[1]);
                  u.url = e.resolve(n[2], r);
                  var c = l.decimalResolution("RESOLUTION");
                  c && (u.width = c.width, u.height = c.height), u.bitrate = l.decimalInteger("AVERAGE-BANDWIDTH") || l.decimalInteger("BANDWIDTH"), u.name = l.NAME, s([].concat((l.CODECS || "").split(/[ ,]+/)), u), u.videoCodec && -1 !== u.videoCodec.indexOf("avc1") && (u.videoCodec = e.convertAVC1ToAVCOTI(u.videoCodec)), i.push(u)
                }
              else if(n[3]) {
                var d = new b(n[3]);
                d["DATA-ID"] && (o = !0, a[d["DATA-ID"]] = d)
              }
              return {
                levels: i,
                sessionData: o ? a : null
              }
            }, e.parseMasterPlaylistMedia = function(t, r, n, i) {
              var a;
              void 0 === i && (i = []);
              var o = [],
                s = 0;
              for(w.lastIndex = 0; null !== (a = w.exec(t));) {
                var u = new b(a[1]);
                if(u.TYPE === n) {
                  var l = {
                    attrs: u,
                    id: s++,
                    groupId: u["GROUP-ID"],
                    instreamId: u["INSTREAM-ID"],
                    name: u.NAME || u.LANGUAGE,
                    type: n,
                    default: "YES" === u.DEFAULT,
                    autoselect: "YES" === u.AUTOSELECT,
                    forced: "YES" === u.FORCED,
                    lang: u.LANGUAGE
                  };
                  if(u.URI && (l.url = e.resolve(u.URI, r)), i.length) {
                    var c = e.findGroup(i, l.groupId);
                    l.audioCodec = c ? c.codec : i[0].codec
                  }
                  o.push(l)
                }
              }
              return o
            }, e.parseLevelPlaylist = function(e, t, r, n, i) {
              var a, o, s, l = 0,
                d = 0,
                f = new m(t),
                h = 0,
                p = null,
                y = new g,
                _ = null;
              for(S.lastIndex = 0; null !== (a = S.exec(e));) {
                var E = a[1];
                if(E) {
                  y.duration = parseFloat(E);
                  var A = (" " + a[2]).slice(1);
                  y.title = A || null, y.tagList.push(A ? ["INF", E, A] : ["INF", E])
                }
                else if(a[3]) {
                  if(Object(u.a)(y.duration)) {
                    var T = l++;
                    y.type = n, y.start = d, s && (y.levelkey = s), y.sn = T, y.level = r, y.cc = h, y.urlId = i, y.baseurl = t, y.relurl = (" " + a[3]).slice(1), O(y, p), f.fragments.push(y), p = y, d += y.duration, y = new g
                  }
                }
                else if(a[4]) {
                  var w = (" " + a[4]).slice(1);
                  p ? y.setByteRange(w, p) : y.setByteRange(w)
                }
                else if(a[5]) y.rawProgramDateTime = (" " + a[5]).slice(1), y.tagList.push(["PROGRAM-DATE-TIME", y.rawProgramDateTime]), null === _ && (_ = f.fragments.length);
                else {
                  if(!(a = a[0].match(k))) {
                    c.b.warn("No matches on slow regex match for level playlist!");
                    continue
                  }
                  for(o = 1; o < a.length && void 0 === a[o]; o++);
                  var L = (" " + a[o + 1]).slice(1),
                    C = (" " + a[o + 2]).slice(1);
                  switch(a[o]) {
                    case "#":
                      y.tagList.push(C ? [L, C] : [L]);
                      break;
                    case "PLAYLIST-TYPE":
                      f.type = L.toUpperCase();
                      break;
                    case "MEDIA-SEQUENCE":
                      l = f.startSN = parseInt(L);
                      break;
                    case "TARGETDURATION":
                      f.targetduration = parseFloat(L);
                      break;
                    case "VERSION":
                      f.version = parseInt(L);
                      break;
                    case "EXTM3U":
                      break;
                    case "ENDLIST":
                      f.live = !1;
                      break;
                    case "DIS":
                      h++, y.tagList.push(["DIS"]);
                      break;
                    case "DISCONTINUITY-SEQ":
                      h = parseInt(L);
                      break;
                    case "KEY":
                      var D = new b(L),
                        x = D.enumeratedString("METHOD"),
                        I = D.URI,
                        M = D.hexadecimalInteger("IV");
                      if("com.apple.streamingkeydelivery" === (D.KEYFORMAT || "identity")) {
                        c.b.warn("Keyformat com.apple.streamingkeydelivery is not supported");
                        continue
                      }
                      x && (s = new v(t, I), I && ["AES-128", "SAMPLE-AES", "SAMPLE-AES-CENC"].indexOf(x) >= 0 && (s.method = x, s.key = null, s.iv = M));
                      break;
                    case "START":
                      var P = new b(L).decimalFloatingPoint("TIME-OFFSET");
                      Object(u.a)(P) && (f.startTimeOffset = P);
                      break;
                    case "MAP":
                      var N = new b(L);
                      y.relurl = N.URI, N.BYTERANGE && y.setByteRange(N.BYTERANGE), y.baseurl = t, y.level = r, y.type = n, y.sn = "initSegment", f.initSegment = y, (y = new g).rawProgramDateTime = f.initSegment.rawProgramDateTime;
                      break;
                    default:
                      c.b.warn("line parsed but not handled: " + a)
                  }
                }
              }
              return (y = p) && !y.relurl && (f.fragments.pop(), d -= y.duration), f.totalduration = d, f.averagetargetduration = d / f.fragments.length, f.endSN = l - 1, f.startCC = f.fragments[0] ? f.fragments[0].cc : 0, f.endCC = h, !f.initSegment && f.fragments.length && f.fragments.every((function(e) {
                return R.test(e.relurl)
              })) && (c.b.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"), (y = new g).relurl = f.fragments[0].relurl, y.baseurl = t, y.level = r, y.type = n, y.sn = "initSegment", f.initSegment = y, f.needSidxRanges = !0), _ && function(e, t) {
                for(var r = e[t], n = t - 1; n >= 0; n--) {
                  var i = e[n];
                  i.programDateTime = r.programDateTime - 1e3 * i.duration, r = i
                }
              }(f.fragments, _), f
            }, e
          }();

        function O(e, t) {
          e.rawProgramDateTime ? e.programDateTime = Date.parse(e.rawProgramDateTime) : (null == t ? void 0 : t.programDateTime) && (e.programDateTime = t.endProgramDateTime), Object(u.a)(e.programDateTime) || (e.programDateTime = null, e.rawProgramDateTime = null)
        }
        var C = window.performance,
          D = function(e) {
            var t, r;

            function n(t) {
              var r;
              return (r = e.call(this, t, l.a.MANIFEST_LOADING, l.a.LEVEL_LOADING, l.a.AUDIO_TRACK_LOADING, l.a.SUBTITLE_TRACK_LOADING) || this).loaders = {}, r
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r, n.canHaveQualityLevels = function(e) {
              return e !== i.AUDIO_TRACK && e !== i.SUBTITLE_TRACK
            }, n.mapContextToLevelType = function(e) {
              switch(e.type) {
                case i.AUDIO_TRACK:
                  return a.AUDIO;
                case i.SUBTITLE_TRACK:
                  return a.SUBTITLE;
                default:
                  return a.MAIN
              }
            }, n.getResponseUrl = function(e, t) {
              var r = e.url;
              return void 0 !== r && 0 !== r.indexOf("data:") || (r = t.url), r
            };
            var o = n.prototype;
            return o.createInternalLoader = function(e) {
              var t = this.hls.config,
                r = t.pLoader,
                n = t.loader,
                i = new(r || n)(t);
              return e.loader = i, this.loaders[e.type] = i, i
            }, o.getInternalLoader = function(e) {
              return this.loaders[e.type]
            }, o.resetInternalLoader = function(e) {
              this.loaders[e] && delete this.loaders[e]
            }, o.destroyInternalLoaders = function() {
              for(var e in this.loaders) {
                var t = this.loaders[e];
                t && t.destroy(), this.resetInternalLoader(e)
              }
            }, o.destroy = function() {
              this.destroyInternalLoaders(), e.prototype.destroy.call(this)
            }, o.onManifestLoading = function(e) {
              this.load({
                url: e.url,
                type: i.MANIFEST,
                level: 0,
                id: null,
                responseType: "text"
              })
            }, o.onLevelLoading = function(e) {
              this.load({
                url: e.url,
                type: i.LEVEL,
                level: e.level,
                id: e.id,
                responseType: "text"
              })
            }, o.onAudioTrackLoading = function(e) {
              this.load({
                url: e.url,
                type: i.AUDIO_TRACK,
                level: null,
                id: e.id,
                responseType: "text"
              })
            }, o.onSubtitleTrackLoading = function(e) {
              this.load({
                url: e.url,
                type: i.SUBTITLE_TRACK,
                level: null,
                id: e.id,
                responseType: "text"
              })
            }, o.load = function(e) {
              var t = this.hls.config;
              c.b.debug("Loading playlist of type " + e.type + ", level: " + e.level + ", id: " + e.id);
              var r, n, a, o, s = this.getInternalLoader(e);
              if(s) {
                var u = s.context;
                if(u && u.url === e.url) return c.b.trace("playlist request ongoing"), !1;
                c.b.warn("aborting previous loader for type: " + e.type), s.abort()
              }
              switch(e.type) {
                case i.MANIFEST:
                  r = t.manifestLoadingMaxRetry, n = t.manifestLoadingTimeOut, a = t.manifestLoadingRetryDelay, o = t.manifestLoadingMaxRetryTimeout;
                  break;
                case i.LEVEL:
                  r = 0, o = 0, a = 0, n = t.levelLoadingTimeOut;
                  break;
                default:
                  r = t.levelLoadingMaxRetry, n = t.levelLoadingTimeOut, a = t.levelLoadingRetryDelay, o = t.levelLoadingMaxRetryTimeout
              }
              s = this.createInternalLoader(e);
              var l = {
                  timeout: n,
                  maxRetry: r,
                  retryDelay: a,
                  maxRetryDelay: o
                },
                d = {
                  onSuccess: this.loadsuccess.bind(this),
                  onError: this.loaderror.bind(this),
                  onTimeout: this.loadtimeout.bind(this)
                };
              return c.b.debug("Calling internal loader delegate for URL: " + e.url), s.load(e, l, d), !0
            }, o.loadsuccess = function(e, t, r, n) {
              if(void 0 === n && (n = null), r.isSidxRequest) return this._handleSidxRequest(e, r), void this._handlePlaylistLoaded(e, t, r, n);
              if(this.resetInternalLoader(r.type), "string" != typeof e.data) throw new Error('expected responseType of "text" for PlaylistLoader');
              var i = e.data;
              t.tload = C.now(), 0 === i.indexOf("#EXTM3U") ? i.indexOf("#EXTINF:") > 0 || i.indexOf("#EXT-X-TARGETDURATION:") > 0 ? this._handleTrackOrLevelPlaylist(e, t, r, n) : this._handleMasterPlaylist(e, t, r, n) : this._handleManifestParsingError(e, r, "no EXTM3U delimiter", n)
            }, o.loaderror = function(e, t, r) {
              void 0 === r && (r = null), this._handleNetworkError(t, r, !1, e)
            }, o.loadtimeout = function(e, t, r) {
              void 0 === r && (r = null), this._handleNetworkError(t, r, !0)
            }, o._handleMasterPlaylist = function(e, t, r, i) {
              var a = this.hls,
                o = e.data,
                s = n.getResponseUrl(e, r),
                u = L.parseMasterPlaylist(o, s),
                d = u.levels,
                f = u.sessionData;
              if(d.length) {
                var h = d.map((function(e) {
                    return {
                      id: e.attrs.AUDIO,
                      codec: e.audioCodec
                    }
                  })),
                  p = L.parseMasterPlaylistMedia(o, s, "AUDIO", h),
                  v = L.parseMasterPlaylistMedia(o, s, "SUBTITLES"),
                  g = L.parseMasterPlaylistMedia(o, s, "CLOSED-CAPTIONS");
                if(p.length) {
                  var m = !1;
                  p.forEach((function(e) {
                    e.url || (m = !0)
                  })), !1 === m && d[0].audioCodec && !d[0].attrs.AUDIO && (c.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"), p.unshift({
                    type: "main",
                    name: "main",
                    default: !1,
                    autoselect: !1,
                    forced: !1,
                    id: -1,
                    attrs: {},
                    url: ""
                  }))
                }
                a.trigger(l.a.MANIFEST_LOADED, {
                  levels: d,
                  audioTracks: p,
                  subtitles: v,
                  captions: g,
                  url: s,
                  stats: t,
                  networkDetails: i,
                  sessionData: f
                })
              }
              else this._handleManifestParsingError(e, r, "no level found in manifest", i)
            }, o._handleTrackOrLevelPlaylist = function(e, t, r, a) {
              var o = this.hls,
                c = r.id,
                d = r.level,
                f = r.type,
                h = n.getResponseUrl(e, r),
                p = Object(u.a)(c) ? c : 0,
                v = Object(u.a)(d) ? d : p,
                g = n.mapContextToLevelType(r),
                m = L.parseLevelPlaylist(e.data, h, v, g, p);
              if(m.tload = t.tload, m.fragments.length) {
                if(f === i.MANIFEST) {
                  var y = {
                    url: h,
                    details: m
                  };
                  o.trigger(l.a.MANIFEST_LOADED, {
                    levels: [y],
                    audioTracks: [],
                    url: h,
                    stats: t,
                    networkDetails: a,
                    sessionData: null
                  })
                }
                if(t.tparsed = C.now(), m.needSidxRanges) {
                  var _ = m.initSegment.url;
                  this.load({
                    url: _,
                    isSidxRequest: !0,
                    type: f,
                    level: d,
                    levelDetails: m,
                    id: c,
                    rangeStart: 0,
                    rangeEnd: 2048,
                    responseType: "arraybuffer"
                  })
                }
                else r.levelDetails = m, this._handlePlaylistLoaded(e, t, r, a)
              }
              else o.trigger(l.a.ERROR, {
                type: s.b.NETWORK_ERROR,
                details: s.a.LEVEL_EMPTY_ERROR,
                fatal: !1,
                url: h,
                reason: "no fragments found in level",
                level: "number" == typeof r.level ? r.level : void 0
              })
            }, o._handleSidxRequest = function(e, t) {
              if("string" == typeof e.data) throw new Error("sidx request must be made with responseType of array buffer");
              var r = p.a.parseSegmentIndex(new Uint8Array(e.data));
              if(r) {
                var n = r.references,
                  i = t.levelDetails;
                n.forEach((function(e, t) {
                  var r = e.info;
                  if(i) {
                    var n = i.fragments[t];
                    0 === n.byteRange.length && n.setByteRange(String(1 + r.end - r.start) + "@" + String(r.start))
                  }
                })), i && i.initSegment.setByteRange(String(r.moovEndOffset) + "@0")
              }
            }, o._handleManifestParsingError = function(e, t, r, n) {
              this.hls.trigger(l.a.ERROR, {
                type: s.b.NETWORK_ERROR,
                details: s.a.MANIFEST_PARSING_ERROR,
                fatal: !0,
                url: e.url,
                reason: r,
                networkDetails: n
              })
            }, o._handleNetworkError = function(e, t, r, n) {
              var a, o;
              void 0 === r && (r = !1), void 0 === n && (n = null), c.b.info("A network error occured while loading a " + e.type + "-type playlist");
              var u = this.getInternalLoader(e);
              switch(e.type) {
                case i.MANIFEST:
                  a = r ? s.a.MANIFEST_LOAD_TIMEOUT : s.a.MANIFEST_LOAD_ERROR, o = !0;
                  break;
                case i.LEVEL:
                  a = r ? s.a.LEVEL_LOAD_TIMEOUT : s.a.LEVEL_LOAD_ERROR, o = !1;
                  break;
                case i.AUDIO_TRACK:
                  a = r ? s.a.AUDIO_TRACK_LOAD_TIMEOUT : s.a.AUDIO_TRACK_LOAD_ERROR, o = !1;
                  break;
                default:
                  o = !1
              }
              u && (u.abort(), this.resetInternalLoader(e.type));
              var d = {
                type: s.b.NETWORK_ERROR,
                details: a,
                fatal: o,
                url: e.url,
                loader: u,
                context: e,
                networkDetails: t
              };
              n && (d.response = n), this.hls.trigger(l.a.ERROR, d)
            }, o._handlePlaylistLoaded = function(e, t, r, a) {
              var o = r.type,
                s = r.level,
                u = r.id,
                c = r.levelDetails;
              if(c && c.targetduration)
                if(n.canHaveQualityLevels(r.type)) this.hls.trigger(l.a.LEVEL_LOADED, {
                  details: c,
                  level: s || 0,
                  id: u || 0,
                  stats: t,
                  networkDetails: a
                });
                else switch(o) {
                  case i.AUDIO_TRACK:
                    this.hls.trigger(l.a.AUDIO_TRACK_LOADED, {
                      details: c,
                      id: u,
                      stats: t,
                      networkDetails: a
                    });
                    break;
                  case i.SUBTITLE_TRACK:
                    this.hls.trigger(l.a.SUBTITLE_TRACK_LOADED, {
                      details: c,
                      id: u,
                      stats: t,
                      networkDetails: a
                    })
                }
              else this._handleManifestParsingError(e, r, "invalid target duration", a)
            }, n
          }(f),
          x = function(e) {
            var t, r;

            function n(t) {
              var r;
              return (r = e.call(this, t, l.a.FRAG_LOADING) || this).loaders = {}, r
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i = n.prototype;
            return i.destroy = function() {
              var t = this.loaders;
              for(var r in t) {
                var n = t[r];
                n && n.destroy()
              }
              this.loaders = {}, e.prototype.destroy.call(this)
            }, i.onFragLoading = function(e) {
              var t = e.frag,
                r = t.type,
                n = this.loaders,
                i = this.hls.config,
                a = i.fLoader,
                o = i.loader;
              t.loaded = 0;
              var s, l, d, f = n[r];
              f && (c.b.warn("abort previous fragment loader for type: " + r), f.abort()), f = n[r] = t.loader = i.fLoader ? new a(i) : new o(i), s = {
                url: t.url,
                frag: t,
                responseType: "arraybuffer",
                progressData: !1
              };
              var h = t.byteRangeStartOffset,
                p = t.byteRangeEndOffset;
              Object(u.a)(h) && Object(u.a)(p) && (s.rangeStart = h, s.rangeEnd = p), l = {
                timeout: i.fragLoadingTimeOut,
                maxRetry: 0,
                retryDelay: 0,
                maxRetryDelay: i.fragLoadingMaxRetryTimeout
              }, d = {
                onSuccess: this.loadsuccess.bind(this),
                onError: this.loaderror.bind(this),
                onTimeout: this.loadtimeout.bind(this),
                onProgress: this.loadprogress.bind(this)
              }, f.load(s, l, d)
            }, i.loadsuccess = function(e, t, r, n) {
              void 0 === n && (n = null);
              var i = e.data,
                a = r.frag;
              a.loader = void 0, this.loaders[a.type] = void 0, this.hls.trigger(l.a.FRAG_LOADED, {
                payload: i,
                frag: a,
                stats: t,
                networkDetails: n
              })
            }, i.loaderror = function(e, t, r) {
              void 0 === r && (r = null);
              var n = t.frag,
                i = n.loader;
              i && i.abort(), this.loaders[n.type] = void 0, this.hls.trigger(l.a.ERROR, {
                type: s.b.NETWORK_ERROR,
                details: s.a.FRAG_LOAD_ERROR,
                fatal: !1,
                frag: t.frag,
                response: e,
                networkDetails: r
              })
            }, i.loadtimeout = function(e, t, r) {
              void 0 === r && (r = null);
              var n = t.frag,
                i = n.loader;
              i && i.abort(), this.loaders[n.type] = void 0, this.hls.trigger(l.a.ERROR, {
                type: s.b.NETWORK_ERROR,
                details: s.a.FRAG_LOAD_TIMEOUT,
                fatal: !1,
                frag: t.frag,
                networkDetails: r
              })
            }, i.loadprogress = function(e, t, r, n) {
              void 0 === n && (n = null);
              var i = t.frag;
              i.loaded = e.loaded, this.hls.trigger(l.a.FRAG_LOAD_PROGRESS, {
                frag: i,
                stats: e,
                networkDetails: n
              })
            }, n
          }(f),
          I = function(e) {
            var t, r;

            function n(t) {
              var r;
              return (r = e.call(this, t, l.a.KEY_LOADING) || this).loaders = {}, r.decryptkey = null, r.decrypturl = null, r
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i = n.prototype;
            return i.destroy = function() {
              for(var t in this.loaders) {
                var r = this.loaders[t];
                r && r.destroy()
              }
              this.loaders = {}, e.prototype.destroy.call(this)
            }, i.onKeyLoading = function(e) {
              var t = e.frag,
                r = t.type,
                n = this.loaders[r];
              if(t.decryptdata) {
                var i = t.decryptdata.uri;
                if(i !== this.decrypturl || null === this.decryptkey) {
                  var a = this.hls.config;
                  if(n && (c.b.warn("abort previous key loader for type:" + r), n.abort()), !i) return void c.b.warn("key uri is falsy");
                  t.loader = this.loaders[r] = new a.loader(a), this.decrypturl = i, this.decryptkey = null;
                  var o = {
                      url: i,
                      frag: t,
                      responseType: "arraybuffer"
                    },
                    s = {
                      timeout: a.fragLoadingTimeOut,
                      maxRetry: 0,
                      retryDelay: a.fragLoadingRetryDelay,
                      maxRetryDelay: a.fragLoadingMaxRetryTimeout
                    },
                    u = {
                      onSuccess: this.loadsuccess.bind(this),
                      onError: this.loaderror.bind(this),
                      onTimeout: this.loadtimeout.bind(this)
                    };
                  t.loader.load(o, s, u)
                }
                else this.decryptkey && (t.decryptdata.key = this.decryptkey, this.hls.trigger(l.a.KEY_LOADED, {
                  frag: t
                }))
              }
              else c.b.warn("Missing decryption data on fragment in onKeyLoading")
            }, i.loadsuccess = function(e, t, r) {
              var n = r.frag;
              n.decryptdata ? (this.decryptkey = n.decryptdata.key = new Uint8Array(e.data), n.loader = void 0, delete this.loaders[n.type], this.hls.trigger(l.a.KEY_LOADED, {
                frag: n
              })) : c.b.error("after key load, decryptdata unset")
            }, i.loaderror = function(e, t) {
              var r = t.frag,
                n = r.loader;
              n && n.abort(), delete this.loaders[r.type], this.hls.trigger(l.a.ERROR, {
                type: s.b.NETWORK_ERROR,
                details: s.a.KEY_LOAD_ERROR,
                fatal: !1,
                frag: r,
                response: e
              })
            }, i.loadtimeout = function(e, t) {
              var r = t.frag,
                n = r.loader;
              n && n.abort(), delete this.loaders[r.type], this.hls.trigger(l.a.ERROR, {
                type: s.b.NETWORK_ERROR,
                details: s.a.KEY_LOAD_TIMEOUT,
                fatal: !1,
                frag: r
              })
            }, n
          }(f),
          M = "NOT_LOADED",
          P = "APPENDING",
          N = "PARTIAL",
          F = "OK",
          U = function(e) {
            var t, r;

            function n(t) {
              var r;
              return (r = e.call(this, t, l.a.BUFFER_APPENDED, l.a.FRAG_BUFFERED, l.a.FRAG_LOADED) || this).bufferPadding = .2, r.fragments = Object.create(null), r.timeRanges = Object.create(null), r.config = t.config, r
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i = n.prototype;
            return i.destroy = function() {
              this.fragments = Object.create(null), this.timeRanges = Object.create(null), this.config = null, f.prototype.destroy.call(this), e.prototype.destroy.call(this)
            }, i.getBufferedFrag = function(e, t) {
              var r = this.fragments,
                n = Object.keys(r).filter((function(n) {
                  var i = r[n];
                  if(i.body.type !== t) return !1;
                  if(!i.buffered) return !1;
                  var a = i.body;
                  return a.startPTS <= e && e <= a.endPTS
                }));
              if(0 === n.length) return null;
              var i = n.pop();
              return r[i].body
            }, i.detectEvictedFragments = function(e, t) {
              var r = this;
              Object.keys(this.fragments).forEach((function(n) {
                var i = r.fragments[n];
                if(i && i.buffered) {
                  var a = i.range[e];
                  if(a)
                    for(var o = a.time, s = 0; s < o.length; s++) {
                      var u = o[s];
                      if(!r.isTimeBuffered(u.startPTS, u.endPTS, t)) {
                        r.removeFragment(i.body);
                        break
                      }
                    }
                }
              }))
            }, i.detectPartialFragments = function(e) {
              var t = this,
                r = this.getFragmentKey(e),
                n = this.fragments[r];
              n && (n.buffered = !0, Object.keys(this.timeRanges).forEach((function(r) {
                if(e.hasElementaryStream(r)) {
                  var i = t.timeRanges[r];
                  n.range[r] = t.getBufferedTimes(e.startPTS, e.endPTS, i)
                }
              })))
            }, i.getBufferedTimes = function(e, t, r) {
              for(var n, i, a = [], o = !1, s = 0; s < r.length; s++) {
                if(n = r.start(s) - this.bufferPadding, i = r.end(s) + this.bufferPadding, e >= n && t <= i) {
                  a.push({
                    startPTS: Math.max(e, r.start(s)),
                    endPTS: Math.min(t, r.end(s))
                  });
                  break
                }
                if(e < i && t > n) a.push({
                  startPTS: Math.max(e, r.start(s)),
                  endPTS: Math.min(t, r.end(s))
                }), o = !0;
                else if(t <= n) break
              }
              return {
                time: a,
                partial: o
              }
            }, i.getFragmentKey = function(e) {
              return e.type + "_" + e.level + "_" + e.urlId + "_" + e.sn
            }, i.getPartialFragment = function(e) {
              var t, r, n, i = this,
                a = null,
                o = 0;
              return Object.keys(this.fragments).forEach((function(s) {
                var u = i.fragments[s];
                i.isPartial(u) && (r = u.body.startPTS - i.bufferPadding, n = u.body.endPTS + i.bufferPadding, e >= r && e <= n && (t = Math.min(e - r, n - e), o <= t && (a = u.body, o = t)))
              })), a
            }, i.getState = function(e) {
              var t = this.getFragmentKey(e),
                r = this.fragments[t],
                n = M;
              return void 0 !== r && (n = r.buffered ? !0 === this.isPartial(r) ? N : F : P), n
            }, i.isPartial = function(e) {
              return !0 === e.buffered && (void 0 !== e.range.video && !0 === e.range.video.partial || void 0 !== e.range.audio && !0 === e.range.audio.partial)
            }, i.isTimeBuffered = function(e, t, r) {
              for(var n, i, a = 0; a < r.length; a++) {
                if(n = r.start(a) - this.bufferPadding, i = r.end(a) + this.bufferPadding, e >= n && t <= i) return !0;
                if(t <= n) return !1
              }
              return !1
            }, i.onFragLoaded = function(e) {
              var t = e.frag;
              Object(u.a)(t.sn) && !t.bitrateTest && (this.fragments[this.getFragmentKey(t)] = {
                body: t,
                range: Object.create(null),
                buffered: !1
              })
            }, i.onBufferAppended = function(e) {
              var t = this;
              this.timeRanges = e.timeRanges, Object.keys(this.timeRanges).forEach((function(e) {
                var r = t.timeRanges[e];
                t.detectEvictedFragments(e, r)
              }))
            }, i.onFragBuffered = function(e) {
              this.detectPartialFragments(e.frag)
            }, i.hasFragment = function(e) {
              var t = this.getFragmentKey(e);
              return void 0 !== this.fragments[t]
            }, i.removeFragment = function(e) {
              var t = this.getFragmentKey(e);
              delete this.fragments[t]
            }, i.removeAllFragments = function() {
              this.fragments = Object.create(null)
            }, n
          }(f),
          B = function(e, t) {
            for(var r = 0, n = e.length - 1, i = null, a = null; r <= n;) {
              var o = t(a = e[i = (r + n) / 2 | 0]);
              if(o > 0) r = i + 1;
              else {
                if(!(o < 0)) return a;
                n = i - 1
              }
            }
            return null
          },
          j = function() {
            function e() {}
            return e.isBuffered = function(e, t) {
              try {
                if(e)
                  for(var r = e.buffered, n = 0; n < r.length; n++)
                    if(t >= r.start(n) && t <= r.end(n)) return !0
              }
              catch (e) {}
              return !1
            }, e.bufferInfo = function(e, t, r) {
              try {
                if(e) {
                  var n, i = e.buffered,
                    a = [];
                  for(n = 0; n < i.length; n++) a.push({
                    start: i.start(n),
                    end: i.end(n)
                  });
                  return this.bufferedInfo(a, t, r)
                }
              }
              catch (e) {}
              return {
                len: 0,
                start: t,
                end: t,
                nextStart: void 0
              }
            }, e.bufferedInfo = function(e, t, r) {
              e.sort((function(e, t) {
                return e.start - t.start || t.end - e.end
              }));
              var n = [];
              if(r)
                for(var i = 0; i < e.length; i++) {
                  var a = n.length;
                  if(a) {
                    var o = n[a - 1].end;
                    e[i].start - o < r ? e[i].end > o && (n[a - 1].end = e[i].end) : n.push(e[i])
                  }
                  else n.push(e[i])
                }
              else n = e;
              for(var s, u = 0, l = t, c = t, d = 0; d < n.length; d++) {
                var f = n[d].start,
                  h = n[d].end;
                if(t + r >= f && t < h) l = f, u = (c = h) - t;
                else if(t + r < f) {
                  s = f;
                  break
                }
              }
              return {
                len: u,
                start: l,
                end: c,
                nextStart: s
              }
            }, e
          }(),
          G = r(8),
          H = r(11),
          K = r(9);

        function V() {
          return window.MediaSource || window.WebKitMediaSource
        }
        var q = r(5),
          W = function(e) {
            var t, r;

            function n() {
              return e.apply(this, arguments) || this
            }
            return r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r, n.prototype.trigger = function(e) {
              for(var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++) r[n - 1] = arguments[n];
              this.emit.apply(this, [e, e].concat(r))
            }, n
          }(G.EventEmitter),
          z = Object(q.a)(),
          Y = V() || {
            isTypeSupported: function() {
              return !1
            }
          },
          X = function() {
            function e(e, t) {
              var r = this;
              this.hls = e, this.id = t;
              var n = this.observer = new W,
                i = e.config,
                a = function(t, n) {
                  (n = n || {}).frag = r.frag, n.id = r.id, e.trigger(t, n)
                };
              n.on(l.a.FRAG_DECRYPTED, a), n.on(l.a.FRAG_PARSING_INIT_SEGMENT, a), n.on(l.a.FRAG_PARSING_DATA, a), n.on(l.a.FRAG_PARSED, a), n.on(l.a.ERROR, a), n.on(l.a.FRAG_PARSING_METADATA, a), n.on(l.a.FRAG_PARSING_USERDATA, a), n.on(l.a.INIT_PTS_FOUND, a);
              var o = {
                  mp4: Y.isTypeSupported("video/mp4"),
                  mpeg: Y.isTypeSupported("audio/mpeg"),
                  mp3: Y.isTypeSupported('audio/mp4; codecs="mp3"')
                },
                u = navigator.vendor;
              if(i.enableWorker && "undefined" != typeof Worker) {
                var d;
                c.b.log("demuxing in webworker");
                try {
                  d = this.w = H(12), this.onwmsg = this.onWorkerMessage.bind(this), d.addEventListener("message", this.onwmsg), d.onerror = function(t) {
                    e.trigger(l.a.ERROR, {
                      type: s.b.OTHER_ERROR,
                      details: s.a.INTERNAL_EXCEPTION,
                      fatal: !0,
                      event: "demuxerWorker",
                      err: {
                        message: t.message + " (" + t.filename + ":" + t.lineno + ")"
                      }
                    })
                  }, d.postMessage({
                    cmd: "init",
                    typeSupported: o,
                    vendor: u,
                    id: t,
                    config: JSON.stringify(i)
                  })
                }
                catch (e) {
                  c.b.warn("Error in worker:", e), c.b.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"), d && z.URL.revokeObjectURL(d.objectURL), this.demuxer = new K.a(n, o, i, u), this.w = void 0
                }
              }
              else this.demuxer = new K.a(n, o, i, u)
            }
            var t = e.prototype;
            return t.destroy = function() {
              var e = this.w;
              if(e) e.removeEventListener("message", this.onwmsg), e.terminate(), this.w = null;
              else {
                var t = this.demuxer;
                t && (t.destroy(), this.demuxer = null)
              }
              var r = this.observer;
              r && (r.removeAllListeners(), this.observer = null)
            }, t.push = function(e, t, r, n, i, a, o, s) {
              var l = this.w,
                d = Object(u.a)(i.startPTS) ? i.startPTS : i.start,
                f = i.decryptdata,
                h = this.frag,
                p = !(h && i.cc === h.cc),
                v = !(h && i.level === h.level),
                g = h && i.sn === h.sn + 1,
                m = !v && g;
              if(p && c.b.log(this.id + ":discontinuity detected"), v && c.b.log(this.id + ":switch detected"), this.frag = i, l) l.postMessage({
                cmd: "demux",
                data: e,
                decryptdata: f,
                initSegment: t,
                audioCodec: r,
                videoCodec: n,
                timeOffset: d,
                discontinuity: p,
                trackSwitch: v,
                contiguous: m,
                duration: a,
                accurateTimeOffset: o,
                defaultInitPTS: s
              }, e instanceof ArrayBuffer ? [e] : []);
              else {
                var y = this.demuxer;
                y && y.push(e, f, t, r, n, d, p, v, m, a, o, s)
              }
            }, t.onWorkerMessage = function(e) {
              var t = e.data,
                r = this.hls;
              switch(t.event) {
                case "init":
                  z.URL.revokeObjectURL(this.w.objectURL);
                  break;
                case l.a.FRAG_PARSING_DATA:
                  t.data.data1 = new Uint8Array(t.data1), t.data2 && (t.data.data2 = new Uint8Array(t.data2));
                default:
                  t.data = t.data || {}, t.data.frag = this.frag, t.data.id = this.id, r.trigger(t.event, t.data)
              }
            }, e
          }();

        function Q(e, t, r) {
          switch(t) {
            case "audio":
              e.audioGroupIds || (e.audioGroupIds = []), e.audioGroupIds.push(r);
              break;
            case "text":
              e.textGroupIds || (e.textGroupIds = []), e.textGroupIds.push(r)
          }
        }

        function J(e, t, r) {
          var n = e[t],
            i = e[r],
            a = i.startPTS;
          if(Object(u.a)(a)) r > t ? (n.duration = a - n.start, n.duration < 0 && c.b.warn("negative duration computed for frag " + n.sn + ",level " + n.level + ", there should be some duration drift between playlist and fragment!")) : (i.duration = n.start - a, i.duration < 0 && c.b.warn("negative duration computed for frag " + i.sn + ",level " + i.level + ", there should be some duration drift between playlist and fragment!"));
          else if(r > t) {
            var o = n.cc === i.cc;
            i.start = n.start + (o && n.minEndPTS ? n.minEndPTS - n.start : n.duration)
          }
          else i.start = Math.max(n.start - i.duration, 0)
        }

        function Z(e, t, r, n, i, a) {
          var o = r,
            s = n;
          if(Object(u.a)(t.startPTS)) {
            var l = Math.abs(t.startPTS - r);
            Object(u.a)(t.deltaPTS) ? t.deltaPTS = Math.max(l, t.deltaPTS) : t.deltaPTS = l, o = Math.max(r, t.startPTS), r = Math.min(r, t.startPTS), s = Math.min(n, t.endPTS), n = Math.max(n, t.endPTS), i = Math.min(i, t.startDTS), a = Math.max(a, t.endDTS)
          }
          var c = r - t.start;
          t.start = t.startPTS = r, t.maxStartPTS = o, t.endPTS = n, t.minEndPTS = s, t.startDTS = i, t.endDTS = a, t.duration = n - r;
          var d, f, h, p = t.sn;
          if(!e || p < e.startSN || p > e.endSN) return 0;
          for(d = p - e.startSN, (f = e.fragments)[d] = t, h = d; h > 0; h--) J(f, h, h - 1);
          for(h = d; h < f.length - 1; h++) J(f, h, h + 1);
          return e.PTSKnown = !0, c
        }

        function $(e, t) {
          t.initSegment && e.initSegment && (t.initSegment = e.initSegment);
          var r, n = 0;
          if(ee(e, t, (function(e, i) {
              n = e.cc - i.cc, Object(u.a)(e.startPTS) && (i.start = i.startPTS = e.startPTS, i.endPTS = e.endPTS, i.duration = e.duration, i.backtracked = e.backtracked, i.dropped = e.dropped, r = i), t.PTSKnown = !0
            })), t.PTSKnown) {
            if(n) {
              c.b.log("discontinuity sliding from playlist, take drift into account");
              for(var i = t.fragments, a = 0; a < i.length; a++) i[a].cc += n
            }
            r ? Z(t, r, r.startPTS, r.endPTS, r.startDTS, r.endDTS) : function(e, t) {
              var r = t.startSN - e.startSN,
                n = e.fragments,
                i = t.fragments;
              if(!(r < 0 || r > n.length))
                for(var a = 0; a < i.length; a++) i[a].start += n[r].start
            }(e, t), t.PTSKnown = e.PTSKnown
          }
        }

        function ee(e, t, r) {
          if(e && t)
            for(var n = Math.max(e.startSN, t.startSN) - t.startSN, i = Math.min(e.endSN, t.endSN) - t.startSN, a = t.startSN - e.startSN, o = n; o <= i; o++) {
              var s = e.fragments[a + o],
                u = t.fragments[o];
              if(!s || !u) break;
              r(s, u, o)
            }
        }

        function te(e, t, r) {
          var n = 1e3 * (t.averagetargetduration ? t.averagetargetduration : t.targetduration),
            i = n / 2;
          return e && t.endSN === e.endSN && (n = i), r && (n = Math.max(i, n - (window.performance.now() - r))), Math.round(n)
        }
        var re = function(e) {
          for(var t = "", r = e.length, n = 0; n < r; n++) t += "[" + e.start(n).toFixed(3) + "," + e.end(n).toFixed(3) + "]";
          return t
        };

        function ne(e, t) {
          t.fragments.forEach((function(t) {
            if(t) {
              var r = t.start + e;
              t.start = t.startPTS = r, t.endPTS = r + t.duration
            }
          })), t.PTSKnown = !0
        }

        function ie(e, t, r) {
          ! function(e, t, r) {
            if(function(e, t, r) {
                var n = !1;
                return t && t.details && r && (r.endCC > r.startCC || e && e.cc < r.startCC) && (n = !0), n
              }(e, r, t)) {
              var n = function(e, t) {
                var r = e.fragments,
                  n = t.fragments;
                if(n.length && r.length) {
                  var i = function(e, t) {
                    for(var r = null, n = 0; n < e.length; n += 1) {
                      var i = e[n];
                      if(i && i.cc === t) {
                        r = i;
                        break
                      }
                    }
                    return r
                  }(r, n[0].cc);
                  if(i && (!i || i.startPTS)) return i;
                  c.b.log("No frag in previous level to align on")
                }
                else c.b.log("No fragments to align")
              }(r.details, t);
              n && (c.b.log("Adjusting PTS using last level due to CC increase within current level"), ne(n.start, t))
            }
          }(e, r, t), !r.PTSKnown && t && function(e, t) {
            if(t && t.fragments.length) {
              if(!e.hasProgramDateTime || !t.hasProgramDateTime) return;
              var r = t.fragments[0].programDateTime,
                n = (e.fragments[0].programDateTime - r) / 1e3 + t.fragments[0].start;
              Object(u.a)(n) && (c.b.log("adjusting PTS using programDateTime delta, sliding:" + n.toFixed(3)), ne(n, e))
            }
          }(r, t.details)
        }

        function ae(e, t, r) {
          if(null === t || !Array.isArray(e) || !e.length || !Object(u.a)(t)) return null;
          if(t < (e[0].programDateTime || 0)) return null;
          if(t >= (e[e.length - 1].endProgramDateTime || 0)) return null;
          r = r || 0;
          for(var n = 0; n < e.length; ++n) {
            var i = e[n];
            if(ue(t, r, i)) return i
          }
          return null
        }

        function oe(e, t, r, n) {
          void 0 === r && (r = 0), void 0 === n && (n = 0);
          var i = null;
          return e ? i = t[e.sn - t[0].sn + 1] : 0 === r && 0 === t[0].start && (i = t[0]), i && 0 === se(r, n, i) ? i : B(t, se.bind(null, r, n)) || i
        }

        function se(e, t, r) {
          void 0 === e && (e = 0), void 0 === t && (t = 0);
          var n = Math.min(t, r.duration + (r.deltaPTS ? r.deltaPTS : 0));
          return r.start + r.duration - n <= e ? 1 : r.start - n > e && r.start ? -1 : 0
        }

        function ue(e, t, r) {
          var n = 1e3 * Math.min(t, r.duration + (r.deltaPTS ? r.deltaPTS : 0));
          return (r.endProgramDateTime || 0) - n > e
        }
        var le = function() {
          function e(e, t, r, n) {
            this.config = e, this.media = t, this.fragmentTracker = r, this.hls = n, this.nudgeRetry = 0, this.stallReported = !1, this.stalled = null, this.moved = !1, this.seeking = !1
          }
          var t = e.prototype;
          return t.poll = function(e) {
            var t = this.config,
              r = this.media,
              n = this.stalled,
              i = r.currentTime,
              a = r.seeking,
              o = this.seeking && !a,
              s = !this.seeking && a;
            if(this.seeking = a, i === e) {
              if((s || o) && (this.stalled = null), !r.paused && !r.ended && 0 !== r.playbackRate && r.buffered.length) {
                var u = j.bufferInfo(r, i, 0),
                  l = u.len > 0,
                  d = u.nextStart || 0;
                if(l || d) {
                  if(a) {
                    var f = u.len > 2,
                      h = !d || d - i > 2 && !this.fragmentTracker.getPartialFragment(i);
                    if(f || h) return;
                    this.moved = !1
                  }
                  if(!this.moved && this.stalled) {
                    var p = Math.max(d, u.start || 0) - i;
                    if(p > 0 && p <= 2) return void this._trySkipBufferHole(null)
                  }
                  var v = self.performance.now();
                  if(null !== n) {
                    var g = v - n;
                    !a && g >= 250 && this._reportStall(u.len);
                    var m = j.bufferInfo(r, i, t.maxBufferHole);
                    this._tryFixBufferStall(m, g)
                  }
                  else this.stalled = v
                }
              }
            }
            else if(this.moved = !0, null !== n) {
              if(this.stallReported) {
                var y = self.performance.now() - n;
                c.b.warn("playback not stuck anymore @" + i + ", after " + Math.round(y) + "ms"), this.stallReported = !1
              }
              this.stalled = null, this.nudgeRetry = 0
            }
          }, t._tryFixBufferStall = function(e, t) {
            var r = this.config,
              n = this.fragmentTracker,
              i = this.media.currentTime,
              a = n.getPartialFragment(i);
            a && this._trySkipBufferHole(a) || e.len > r.maxBufferHole && t > 1e3 * r.highBufferWatchdogPeriod && (c.b.warn("Trying to nudge playhead over buffer-hole"), this.stalled = null, this._tryNudgeBuffer())
          }, t._reportStall = function(e) {
            var t = this.hls,
              r = this.media;
            this.stallReported || (this.stallReported = !0, c.b.warn("Playback stalling at @" + r.currentTime + " due to low buffer (buffer=" + e + ")"), t.trigger(l.a.ERROR, {
              type: s.b.MEDIA_ERROR,
              details: s.a.BUFFER_STALLED_ERROR,
              fatal: !1,
              buffer: e
            }))
          }, t._trySkipBufferHole = function(e) {
            for(var t = this.config, r = this.hls, n = this.media, i = n.currentTime, a = 0, o = 0; o < n.buffered.length; o++) {
              var u = n.buffered.start(o);
              if(i + t.maxBufferHole >= a && i < u) {
                var d = Math.max(u + .05, n.currentTime + .1);
                return c.b.warn("skipping hole, adjusting currentTime from " + i + " to " + d), this.moved = !0, this.stalled = null, n.currentTime = d, e && r.trigger(l.a.ERROR, {
                  type: s.b.MEDIA_ERROR,
                  details: s.a.BUFFER_SEEK_OVER_HOLE,
                  fatal: !1,
                  reason: "fragment loaded with buffer holes, seeking from " + i + " to " + d,
                  frag: e
                }), d
              }
              a = n.buffered.end(o)
            }
            return 0
          }, t._tryNudgeBuffer = function() {
            var e = this.config,
              t = this.hls,
              r = this.media,
              n = r.currentTime,
              i = (this.nudgeRetry || 0) + 1;
            if(this.nudgeRetry = i, i < e.nudgeMaxRetry) {
              var a = n + i * e.nudgeOffset;
              c.b.warn("Nudging 'currentTime' from " + n + " to " + a), r.currentTime = a, t.trigger(l.a.ERROR, {
                type: s.b.MEDIA_ERROR,
                details: s.a.BUFFER_NUDGE_ON_STALL,
                fatal: !1
              })
            }
            else c.b.error("Playhead still not moving while enough data buffered @" + n + " after " + e.nudgeMaxRetry + " nudges"), t.trigger(l.a.ERROR, {
              type: s.b.MEDIA_ERROR,
              details: s.a.BUFFER_STALLED_ERROR,
              fatal: !0
            })
          }, e
        }();

        function ce(e) {
          if(void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          return e
        }
        var de, fe = function(e) {
            var t, r;

            function n(t) {
              for(var r, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), a = 1; a < n; a++) i[a - 1] = arguments[a];
              return (r = e.call.apply(e, [this, t].concat(i)) || this)._boundTick = void 0, r._tickTimer = null, r._tickInterval = null, r._tickCallCount = 0, r._boundTick = r.tick.bind(ce(r)), r
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i = n.prototype;
            return i.onHandlerDestroying = function() {
              this.clearNextTick(), this.clearInterval()
            }, i.hasInterval = function() {
              return !!this._tickInterval
            }, i.hasNextTick = function() {
              return !!this._tickTimer
            }, i.setInterval = function(e) {
              return !this._tickInterval && (this._tickInterval = self.setInterval(this._boundTick, e), !0)
            }, i.clearInterval = function() {
              return !!this._tickInterval && (self.clearInterval(this._tickInterval), this._tickInterval = null, !0)
            }, i.clearNextTick = function() {
              return !!this._tickTimer && (self.clearTimeout(this._tickTimer), this._tickTimer = null, !0)
            }, i.tick = function() {
              this._tickCallCount++, 1 === this._tickCallCount && (this.doTick(), this._tickCallCount > 1 && (this.clearNextTick(), this._tickTimer = self.setTimeout(this._boundTick, 0)), this._tickCallCount = 0)
            }, i.doTick = function() {}, n
          }(f),
          he = "STOPPED",
          pe = "STARTING",
          ve = "IDLE",
          ge = "KEY_LOADING",
          me = "FRAG_LOADING",
          ye = "FRAG_LOADING_WAITING_RETRY",
          _e = "WAITING_TRACK",
          be = "PARSING",
          Ee = "PARSED",
          Ae = "BUFFER_FLUSHING",
          Te = "ENDED",
          we = "ERROR",
          Se = "WAITING_INIT_PTS",
          ke = "WAITING_LEVEL",
          Re = function(e) {
            var t, r;

            function n() {
              return e.apply(this, arguments) || this
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i = n.prototype;
            return i.doTick = function() {}, i.startLoad = function() {}, i.stopLoad = function() {
              var e = this.fragCurrent;
              e && (e.loader && e.loader.abort(), this.fragmentTracker.removeFragment(e)), this.demuxer && (this.demuxer.destroy(), this.demuxer = null), this.fragCurrent = null, this.fragPrevious = null, this.clearInterval(), this.clearNextTick(), this.state = he
            }, i._streamEnded = function(e, t) {
              var r = this.fragCurrent,
                n = this.fragmentTracker;
              if(!t.live && r && !r.backtracked && r.sn === t.endSN && !e.nextStart) {
                var i = n.getState(r);
                return i === N || i === F
              }
              return !1
            }, i.onMediaSeeking = function() {
              var e = this.config,
                t = this.media,
                r = this.mediaBuffer,
                n = this.state,
                i = t ? t.currentTime : null,
                a = j.bufferInfo(r || t, i, this.config.maxBufferHole);
              if(c.b.log("media seeking to " + (Object(u.a)(i) ? i.toFixed(3) : i)), n === me) {
                var o = this.fragCurrent;
                if(0 === a.len && o) {
                  var s = e.maxFragLookUpTolerance,
                    l = o.start - s,
                    d = o.start + o.duration + s;
                  i < l || i > d ? (o.loader && (c.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"), o.loader.abort()), this.fragCurrent = null, this.fragPrevious = null, this.state = ve) : c.b.log("seeking outside of buffer but within currently loaded fragment range")
                }
              }
              else n === Te && (0 === a.len && (this.fragPrevious = null, this.fragCurrent = null), this.state = ve);
              t && (this.lastCurrentTime = i), this.loadedmetadata || (this.nextLoadPosition = this.startPosition = i), this.tick()
            }, i.onMediaEnded = function() {
              this.startPosition = this.lastCurrentTime = 0
            }, i.onHandlerDestroying = function() {
              this.stopLoad(), e.prototype.onHandlerDestroying.call(this)
            }, i.onHandlerDestroyed = function() {
              this.state = he, this.fragmentTracker = null
            }, i.computeLivePosition = function(e, t) {
              var r = void 0 !== this.config.liveSyncDuration ? this.config.liveSyncDuration : this.config.liveSyncDurationCount * t.targetduration;
              return e + Math.max(0, t.totalduration - r)
            }, n
          }(fe),
          Le = function(e) {
            var t, r;

            function n(t, r) {
              var n;
              return (n = e.call(this, t, l.a.MEDIA_ATTACHED, l.a.MEDIA_DETACHING, l.a.MANIFEST_LOADING, l.a.MANIFEST_PARSED, l.a.LEVEL_LOADED, l.a.LEVELS_UPDATED, l.a.KEY_LOADED, l.a.FRAG_LOADED, l.a.FRAG_LOAD_EMERGENCY_ABORTED, l.a.FRAG_PARSING_INIT_SEGMENT, l.a.FRAG_PARSING_DATA, l.a.FRAG_PARSED, l.a.ERROR, l.a.AUDIO_TRACK_SWITCHING, l.a.AUDIO_TRACK_SWITCHED, l.a.BUFFER_CREATED, l.a.BUFFER_APPENDED, l.a.BUFFER_FLUSHED) || this).fragmentTracker = r, n.config = t.config, n.audioCodecSwap = !1, n._state = he, n.stallReported = !1, n.gapController = null, n.altAudio = !1, n.audioOnly = !1, n.bitrateTest = !1, n
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i, o = n.prototype;
            return o.startLoad = function(e) {
              if(this.levels) {
                var t = this.lastCurrentTime,
                  r = this.hls;
                if(this.stopLoad(), this.setInterval(100), this.level = -1, this.fragLoadError = 0, !this.startFragRequested) {
                  var n = r.startLevel; - 1 === n && (r.config.testBandwidth ? (n = 0, this.bitrateTest = !0) : n = r.nextAutoLevel), this.level = r.nextLoadLevel = n, this.loadedmetadata = !1
                }
                t > 0 && -1 === e && (c.b.log("override startPosition with lastCurrentTime @" + t.toFixed(3)), e = t), this.state = ve, this.nextLoadPosition = this.startPosition = this.lastCurrentTime = e, this.tick()
              }
              else this.forceStartLoad = !0, this.state = he
            }, o.stopLoad = function() {
              this.forceStartLoad = !1, e.prototype.stopLoad.call(this)
            }, o.doTick = function() {
              switch(this.state) {
                case Ae:
                  this.fragLoadError = 0;
                  break;
                case ve:
                  this._doTickIdle();
                  break;
                case ke:
                  var e = this.levels[this.level];
                  e && e.details && (this.state = ve);
                  break;
                case ye:
                  var t = window.performance.now(),
                    r = this.retryDate;
                  (!r || t >= r || this.media && this.media.seeking) && (c.b.log("mediaController: retryDate reached, switch back to IDLE state"), this.state = ve)
              }
              this._checkBuffer(), this._checkFragmentChanged()
            }, o._doTickIdle = function() {
              var e = this.hls,
                t = e.config,
                r = this.media;
              if(void 0 !== this.levelLastLoaded && (r || !this.startFragRequested && t.startFragPrefetch))
                if(this.altAudio && this.audioOnly) this.demuxer.frag = null;
                else {
                  var n;
                  n = this.loadedmetadata ? r.currentTime : this.nextLoadPosition;
                  var i = e.nextLoadLevel,
                    a = this.levels[i];
                  if(a) {
                    var o, s = a.bitrate;
                    o = s ? Math.max(8 * t.maxBufferSize / s, t.maxBufferLength) : t.maxBufferLength, o = Math.min(o, t.maxMaxBufferLength);
                    var u = n < t.maxBufferHole ? Math.max(2, t.maxBufferHole) : t.maxBufferHole,
                      d = j.bufferInfo(this.mediaBuffer ? this.mediaBuffer : r, n, u),
                      f = d.len;
                    if(!(f >= o)) {
                      c.b.trace("buffer length of " + f.toFixed(3) + " is below max of " + o.toFixed(3) + ". checking for more payload ..."), this.level = e.nextLoadLevel = i;
                      var h = a.details;
                      if(!h || h.live && this.levelLastLoaded !== i) this.state = ke;
                      else {
                        if(this._streamEnded(d, h)) {
                          var p = {};
                          return this.altAudio && (p.type = "video"), this.hls.trigger(l.a.BUFFER_EOS, p), void(this.state = Te)
                        }
                        this._fetchPayloadOrEos(n, d, h)
                      }
                    }
                  }
                }
            }, o._fetchPayloadOrEos = function(e, t, r) {
              var n = this.fragPrevious,
                i = (this.level, r.fragments),
                a = i.length;
              if(0 !== a) {
                var o, s = i[0].start,
                  u = i[a - 1].start + i[a - 1].duration,
                  l = t.end;
                if(r.initSegment && !r.initSegment.data) o = r.initSegment;
                else if(r.live) {
                  var d = this.config.initialLiveManifestSize;
                  if(a < d) return void c.b.warn("Can not start playback of a level, reason: not enough fragments " + a + " < " + d);
                  if(null === (o = this._ensureFragmentAtLivePoint(r, l, s, u, n, i))) return
                }
                else l < s && (o = i[0]);
                o || (o = this._findFragment(s, n, a, i, l, u, r)), o && (o.encrypted ? this._loadKey(o, r) : this._loadFragment(o, r, e, l))
              }
            }, o._ensureFragmentAtLivePoint = function(e, t, r, n, i, a) {
              var o, s = this.hls.config,
                l = this.media,
                d = 1 / 0;
              if(void 0 !== s.liveMaxLatencyDuration ? d = s.liveMaxLatencyDuration : Object(u.a)(s.liveMaxLatencyDurationCount) && (d = s.liveMaxLatencyDurationCount * e.targetduration), t < Math.max(r - s.maxFragLookUpTolerance, n - d)) {
                var f = this.liveSyncPosition = this.computeLivePosition(r, e);
                t = f, l && !l.paused && l.readyState && l.duration > f && f > l.currentTime && (c.b.log("buffer end: " + t.toFixed(3) + " is located too far from the end of live sliding playlist, reset currentTime to : " + f.toFixed(3)), l.currentTime = f), this.nextLoadPosition = f
              }
              if(e.PTSKnown && t > n && l && l.readyState) return null;
              if(this.startFragRequested && !e.PTSKnown && i)
                if(e.hasProgramDateTime) c.b.log("live playlist, switching playlist, load frag with same PDT: " + i.programDateTime), o = ae(a, i.endProgramDateTime, s.maxFragLookUpTolerance);
                else {
                  var h = i.sn + 1;
                  if(h >= e.startSN && h <= e.endSN) {
                    var p = a[h - e.startSN];
                    i.cc === p.cc && (o = p, c.b.log("live playlist, switching playlist, load frag with next SN: " + o.sn))
                  }
                  o || (o = B(a, (function(e) {
                    return i.cc - e.cc
                  }))) && c.b.log("live playlist, switching playlist, load frag with same CC: " + o.sn)
                } return o
            }, o._findFragment = function(e, t, r, n, i, a, o) {
              var s, u = this.hls.config;
              if(s = i < a ? oe(t, n, i, i > a - u.maxFragLookUpTolerance ? 0 : u.maxFragLookUpTolerance) : n[r - 1]) {
                var l = s.sn - o.startSN,
                  d = t && s.level === t.level,
                  f = n[l - 1],
                  h = n[l + 1];
                if(t && s.sn === t.sn)
                  if(d && !s.backtracked)
                    if(s.sn < o.endSN) {
                      var p = t.deltaPTS;
                      p && p > u.maxBufferHole && t.dropped && l ? (s = f, c.b.warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")) : (s = h, this.fragmentTracker.getState(s) !== F && c.b.log("Re-loading fragment with SN: " + s.sn))
                    }
                else s = null;
                else s.backtracked && (h && h.backtracked ? (c.b.warn("Already backtracked from fragment " + h.sn + ", will not backtrack to fragment " + s.sn + ". Loading fragment " + h.sn), s = h) : (c.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"), s.dropped = 0, f ? (s = f).backtracked = !0 : l && (s = null)))
              }
              return s
            }, o._loadKey = function(e, t) {
              c.b.log("Loading key for " + e.sn + " of [" + t.startSN + "-" + t.endSN + "], level " + this.level), this.state = ge, this.hls.trigger(l.a.KEY_LOADING, {
                frag: e
              })
            }, o._loadFragment = function(e, t, r, n) {
              var i = this.fragmentTracker.getState(e);
              this.fragCurrent = e, "initSegment" !== e.sn && (this.startFragRequested = !0), Object(u.a)(e.sn) && !e.bitrateTest && (this.nextLoadPosition = e.start + e.duration), e.backtracked || i === M || i === N ? (e.autoLevel = this.hls.autoLevelEnabled, e.bitrateTest = this.bitrateTest, c.b.log("Loading " + e.sn + " of [" + t.startSN + "-" + t.endSN + "], level " + this.level + ", " + (this.loadedmetadata ? "currentTime" : "nextLoadPosition") + ": " + parseFloat(r.toFixed(3)) + ", bufferEnd: " + parseFloat(n.toFixed(3))), this.hls.trigger(l.a.FRAG_LOADING, {
                frag: e
              }), this.demuxer || (this.demuxer = new X(this.hls, "main")), this.state = me) : i === P && this._reduceMaxBufferLength(e.duration) && this.fragmentTracker.removeFragment(e)
            }, o.getBufferedFrag = function(e) {
              return this.fragmentTracker.getBufferedFrag(e, a.MAIN)
            }, o.followingBufferedFrag = function(e) {
              return e ? this.getBufferedFrag(e.endPTS + .5) : null
            }, o._checkFragmentChanged = function() {
              var e, t, r = this.media;
              if(r && r.readyState && !1 === r.seeking && ((t = r.currentTime) > this.lastCurrentTime && (this.lastCurrentTime = t), j.isBuffered(r, t) ? e = this.getBufferedFrag(t) : j.isBuffered(r, t + .1) && (e = this.getBufferedFrag(t + .1)), e)) {
                var n = e;
                if(n !== this.fragPlaying) {
                  this.hls.trigger(l.a.FRAG_CHANGED, {
                    frag: n
                  });
                  var i = n.level;
                  this.fragPlaying && this.fragPlaying.level === i || this.hls.trigger(l.a.LEVEL_SWITCHED, {
                    level: i
                  }), this.fragPlaying = n
                }
              }
            }, o.immediateLevelSwitch = function() {
              if(c.b.log("immediateLevelSwitch"), !this.immediateSwitch) {
                this.immediateSwitch = !0;
                var e, t = this.media;
                t ? (e = t.paused) || t.pause() : e = !0, this.previouslyPaused = e
              }
              var r = this.fragCurrent;
              r && r.loader && r.loader.abort(), this.fragCurrent = null, this.flushMainBuffer(0, Number.POSITIVE_INFINITY)
            }, o.immediateLevelSwitchEnd = function() {
              var e = this.media;
              e && e.buffered.length && (this.immediateSwitch = !1, e.currentTime > 0 && j.isBuffered(e, e.currentTime) && (e.currentTime -= 1e-4), this.previouslyPaused || e.play())
            }, o.nextLevelSwitch = function() {
              var e = this.media;
              if(e && e.readyState) {
                var t, r = this.getBufferedFrag(e.currentTime);
                if(r && r.startPTS > 1 && this.flushMainBuffer(0, r.startPTS - 1), e.paused) t = 0;
                else {
                  var n = this.hls.nextLoadLevel,
                    i = this.levels[n],
                    a = this.fragLastKbps;
                  t = a && this.fragCurrent ? this.fragCurrent.duration * i.bitrate / (1e3 * a) + 1 : 0
                }
                var o = this.getBufferedFrag(e.currentTime + t);
                if(o) {
                  var s = this.followingBufferedFrag(o);
                  if(s) {
                    var u = this.fragCurrent;
                    u && u.loader && u.loader.abort(), this.fragCurrent = null;
                    var l = Math.max(o.endPTS, s.maxStartPTS + Math.min(this.config.maxFragLookUpTolerance, s.duration));
                    this.flushMainBuffer(l, Number.POSITIVE_INFINITY)
                  }
                }
              }
            }, o.flushMainBuffer = function(e, t) {
              this.state = Ae;
              var r = {
                startOffset: e,
                endOffset: t
              };
              this.altAudio && (r.type = "video"), this.hls.trigger(l.a.BUFFER_FLUSHING, r)
            }, o.onMediaAttached = function(e) {
              var t = this.media = this.mediaBuffer = e.media;
              this.onvseeking = this.onMediaSeeking.bind(this), this.onvseeked = this.onMediaSeeked.bind(this), this.onvended = this.onMediaEnded.bind(this), t.addEventListener("seeking", this.onvseeking), t.addEventListener("seeked", this.onvseeked), t.addEventListener("ended", this.onvended);
              var r = this.config;
              this.levels && r.autoStartLoad && this.hls.startLoad(r.startPosition), this.gapController = new le(r, t, this.fragmentTracker, this.hls)
            }, o.onMediaDetaching = function() {
              var e = this.media;
              e && e.ended && (c.b.log("MSE detaching and video ended, reset startPosition"), this.startPosition = this.lastCurrentTime = 0);
              var t = this.levels;
              t && t.forEach((function(e) {
                e.details && e.details.fragments.forEach((function(e) {
                  e.backtracked = void 0
                }))
              })), e && (e.removeEventListener("seeking", this.onvseeking), e.removeEventListener("seeked", this.onvseeked), e.removeEventListener("ended", this.onvended), this.onvseeking = this.onvseeked = this.onvended = null), this.fragmentTracker.removeAllFragments(), this.media = this.mediaBuffer = null, this.loadedmetadata = !1, this.stopLoad()
            }, o.onMediaSeeked = function() {
              var e = this.media,
                t = e ? e.currentTime : void 0;
              Object(u.a)(t) && c.b.log("media seeked to " + t.toFixed(3)), this.tick()
            }, o.onManifestLoading = function() {
              c.b.log("trigger BUFFER_RESET"), this.hls.trigger(l.a.BUFFER_RESET), this.fragmentTracker.removeAllFragments(), this.stalled = !1, this.startPosition = this.lastCurrentTime = 0
            }, o.onManifestParsed = function(e) {
              var t, r = !1,
                n = !1;
              e.levels.forEach((function(e) {
                (t = e.audioCodec) && (-1 !== t.indexOf("mp4a.40.2") && (r = !0), -1 !== t.indexOf("mp4a.40.5") && (n = !0))
              })), this.audioCodecSwitch = r && n, this.audioCodecSwitch && c.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"), this.altAudio = e.altAudio, this.levels = e.levels, this.startFragRequested = !1;
              var i = this.config;
              (i.autoStartLoad || this.forceStartLoad) && this.hls.startLoad(i.startPosition)
            }, o.onLevelLoaded = function(e) {
              var t = e.details,
                r = e.level,
                n = this.levels[this.levelLastLoaded],
                i = this.levels[r],
                a = t.totalduration,
                o = 0;
              if(c.b.log("level " + r + " loaded [" + t.startSN + "," + t.endSN + "],duration:" + a), t.live) {
                var s = i.details;
                s && t.fragments.length > 0 ? ($(s, t), o = t.fragments[0].start, this.liveSyncPosition = this.computeLivePosition(o, s), t.PTSKnown && Object(u.a)(o) ? c.b.log("live playlist sliding:" + o.toFixed(3)) : (c.b.log("live playlist - outdated PTS, unknown sliding"), ie(this.fragPrevious, n, t))) : (c.b.log("live playlist - first load, unknown sliding"), t.PTSKnown = !1, ie(this.fragPrevious, n, t))
              }
              else t.PTSKnown = !1;
              if(i.details = t, this.levelLastLoaded = r, this.hls.trigger(l.a.LEVEL_UPDATED, {
                  details: t,
                  level: r
                }), !1 === this.startFragRequested) {
                if(-1 === this.startPosition || -1 === this.lastCurrentTime) {
                  var d = t.startTimeOffset;
                  Object(u.a)(d) ? (d < 0 && (c.b.log("negative start time offset " + d + ", count from end of last fragment"), d = o + a + d), c.b.log("start time offset found in playlist, adjust startPosition to " + d), this.startPosition = d) : t.live ? (this.startPosition = this.computeLivePosition(o, t), c.b.log("configure startPosition to " + this.startPosition)) : this.startPosition = 0, this.lastCurrentTime = this.startPosition
                }
                this.nextLoadPosition = this.startPosition
              }
              this.state === ke && (this.state = ve), this.tick()
            }, o.onKeyLoaded = function() {
              this.state === ge && (this.state = ve, this.tick())
            }, o.onFragLoaded = function(e) {
              var t = this.fragCurrent,
                r = this.hls,
                n = this.levels,
                i = this.media,
                a = e.frag;
              if(this.state === me && t && "main" === a.type && a.level === t.level && a.sn === t.sn) {
                var o = e.stats,
                  s = n[t.level],
                  u = s.details;
                if(this.bitrateTest = !1, this.stats = o, c.b.log("Loaded " + t.sn + " of [" + u.startSN + " ," + u.endSN + "],level " + t.level), a.bitrateTest && r.nextLoadLevel) this.state = ve, this.startFragRequested = !1, o.tparsed = o.tbuffered = window.performance.now(), r.trigger(l.a.FRAG_BUFFERED, {
                  stats: o,
                  frag: t,
                  id: "main"
                }), this.tick();
                else if("initSegment" === a.sn) this.state = ve, o.tparsed = o.tbuffered = window.performance.now(), u.initSegment.data = e.payload, r.trigger(l.a.FRAG_BUFFERED, {
                  stats: o,
                  frag: t,
                  id: "main"
                }), this.tick();
                else {
                  c.b.log("Parsing " + t.sn + " of [" + u.startSN + " ," + u.endSN + "],level " + t.level + ", cc " + t.cc), this.state = be, this.pendingBuffering = !0, this.appended = !1, a.bitrateTest && (a.bitrateTest = !1, this.fragmentTracker.onFragLoaded({
                    frag: a
                  }));
                  var d = !(i && i.seeking) && (u.PTSKnown || !u.live),
                    f = u.initSegment ? u.initSegment.data : [],
                    h = this._getAudioCodec(s);
                  (this.demuxer = this.demuxer || new X(this.hls, "main")).push(e.payload, f, h, s.videoCodec, t, u.totalduration, d)
                }
              }
              this.fragLoadError = 0
            }, o.onFragParsingInitSegment = function(e) {
              var t = this.fragCurrent,
                r = e.frag;
              if(t && "main" === e.id && r.sn === t.sn && r.level === t.level && this.state === be) {
                var n, i, a = e.tracks;
                if(this.audioOnly = a.audio && !a.video, this.altAudio && !this.audioOnly && delete a.audio, i = a.audio) {
                  var o = this.levels[this.level].audioCodec,
                    s = navigator.userAgent.toLowerCase();
                  o && this.audioCodecSwap && (c.b.log("swapping playlist audio codec"), o = -1 !== o.indexOf("mp4a.40.5") ? "mp4a.40.2" : "mp4a.40.5"), this.audioCodecSwitch && 1 !== i.metadata.channelCount && -1 === s.indexOf("firefox") && (o = "mp4a.40.5"), -1 !== s.indexOf("android") && "audio/mpeg" !== i.container && (o = "mp4a.40.2", c.b.log("Android: force audio codec to " + o)), i.levelCodec = o, i.id = e.id
                }
                for(n in (i = a.video) && (i.levelCodec = this.levels[this.level].videoCodec, i.id = e.id), this.hls.trigger(l.a.BUFFER_CODECS, a), a) {
                  i = a[n], c.b.log("main track:" + n + ",container:" + i.container + ",codecs[level/parsed]=[" + i.levelCodec + "/" + i.codec + "]");
                  var u = i.initSegment;
                  u && (this.appended = !0, this.pendingBuffering = !0, this.hls.trigger(l.a.BUFFER_APPENDING, {
                    type: n,
                    data: u,
                    parent: "main",
                    content: "initSegment"
                  }))
                }
                this.tick()
              }
            }, o.onFragParsingData = function(e) {
              var t = this,
                r = this.fragCurrent,
                n = e.frag;
              if(r && "main" === e.id && n.sn === r.sn && n.level === r.level && ("audio" !== e.type || !this.altAudio) && this.state === be) {
                var i = this.levels[this.level],
                  a = r;
                if(Object(u.a)(e.endPTS) || (e.endPTS = e.startPTS + r.duration, e.endDTS = e.startDTS + r.duration), !0 === e.hasAudio && a.addElementaryStream(h.AUDIO), !0 === e.hasVideo && a.addElementaryStream(h.VIDEO), c.b.log("Parsed " + e.type + ",PTS:[" + e.startPTS.toFixed(3) + "," + e.endPTS.toFixed(3) + "],DTS:[" + e.startDTS.toFixed(3) + "/" + e.endDTS.toFixed(3) + "],nb:" + e.nb + ",dropped:" + (e.dropped || 0)), "video" === e.type)
                  if(a.dropped = e.dropped, a.dropped)
                    if(a.backtracked) c.b.warn("Already backtracked on this fragment, appending with the gap", a.sn);
                    else {
                      var o = i.details;
                      if(!o || a.sn !== o.startSN) return c.b.warn("missing video frame(s), backtracking fragment", a.sn), this.fragmentTracker.removeFragment(a), a.backtracked = !0, this.nextLoadPosition = e.startPTS, this.state = ve, this.fragPrevious = a, this.demuxer && (this.demuxer.destroy(), this.demuxer = null), void this.tick();
                      c.b.warn("missing video frame(s) on first frag, appending with gap", a.sn)
                    }
                else a.backtracked = !1;
                var s = Z(i.details, a, e.startPTS, e.endPTS, e.startDTS, e.endDTS),
                  d = this.hls;
                d.trigger(l.a.LEVEL_PTS_UPDATED, {
                  details: i.details,
                  level: this.level,
                  drift: s,
                  type: e.type,
                  start: e.startPTS,
                  end: e.endPTS
                }), [e.data1, e.data2].forEach((function(r) {
                  r && r.length && t.state === be && (t.appended = !0, t.pendingBuffering = !0, d.trigger(l.a.BUFFER_APPENDING, {
                    type: e.type,
                    data: r,
                    parent: "main",
                    content: "data"
                  }))
                })), this.tick()
              }
            }, o.onFragParsed = function(e) {
              var t = this.fragCurrent,
                r = e.frag;
              t && "main" === e.id && r.sn === t.sn && r.level === t.level && this.state === be && (this.stats.tparsed = window.performance.now(), this.state = Ee, this._checkAppendedParsed())
            }, o.onAudioTrackSwitching = function(e) {
              var t = this.altAudio,
                r = !!e.url,
                n = e.id;
              if(!r) {
                if(this.mediaBuffer !== this.media) {
                  c.b.log("switching on main audio, use media.buffered to schedule main fragment loading"), this.mediaBuffer = this.media;
                  var i = this.fragCurrent;
                  i.loader && (c.b.log("switching to main audio track, cancel main fragment load"), i.loader.abort()), this.fragCurrent = null, this.fragPrevious = null, this.demuxer && (this.demuxer.destroy(), this.demuxer = null), this.state = ve
                }
                var a = this.hls;
                t && a.trigger(l.a.BUFFER_FLUSHING, {
                  startOffset: 0,
                  endOffset: Number.POSITIVE_INFINITY,
                  type: "audio"
                }), a.trigger(l.a.AUDIO_TRACK_SWITCHED, {
                  id: n
                })
              }
            }, o.onAudioTrackSwitched = function(e) {
              var t = e.id,
                r = !!this.hls.audioTracks[t].url;
              if(r) {
                var n = this.videoBuffer;
                n && this.mediaBuffer !== n && (c.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"), this.mediaBuffer = n)
              }
              this.altAudio = r, this.tick()
            }, o.onBufferCreated = function(e) {
              var t, r, n = e.tracks,
                i = !1;
              for(var a in n) {
                var o = n[a];
                "main" === o.id ? (r = a, t = o, "video" === a && (this.videoBuffer = n[a].buffer)) : i = !0
              }
              i && t ? (c.b.log("alternate track found, use " + r + ".buffered to schedule main fragment loading"), this.mediaBuffer = t.buffer) : this.mediaBuffer = this.media
            }, o.onBufferAppended = function(e) {
              if("main" === e.parent) {
                var t = this.state;
                t !== be && t !== Ee || (this.pendingBuffering = e.pending > 0, this._checkAppendedParsed())
              }
            }, o._checkAppendedParsed = function() {
              if(!(this.state !== Ee || this.appended && this.pendingBuffering)) {
                var e = this.fragCurrent;
                if(e) {
                  var t = this.mediaBuffer ? this.mediaBuffer : this.media;
                  c.b.log("main buffered : " + re(t.buffered)), this.fragPrevious = e;
                  var r = this.stats;
                  r.tbuffered = window.performance.now(), this.fragLastKbps = Math.round(8 * r.total / (r.tbuffered - r.tfirst)), this.hls.trigger(l.a.FRAG_BUFFERED, {
                    stats: r,
                    frag: e,
                    id: "main"
                  }), this.state = ve
                }(this.loadedmetadata || this.startPosition <= 0) && this.tick()
              }
            }, o.onError = function(e) {
              var t = e.frag || this.fragCurrent;
              if(!t || "main" === t.type) {
                var r = !!this.media && j.isBuffered(this.media, this.media.currentTime) && j.isBuffered(this.media, this.media.currentTime + .5);
                switch(e.details) {
                  case s.a.FRAG_LOAD_ERROR:
                  case s.a.FRAG_LOAD_TIMEOUT:
                  case s.a.KEY_LOAD_ERROR:
                  case s.a.KEY_LOAD_TIMEOUT:
                    if(!e.fatal)
                      if(this.fragLoadError + 1 <= this.config.fragLoadingMaxRetry) {
                        var n = Math.min(Math.pow(2, this.fragLoadError) * this.config.fragLoadingRetryDelay, this.config.fragLoadingMaxRetryTimeout);
                        c.b.warn("mediaController: frag loading failed, retry in " + n + " ms"), this.retryDate = window.performance.now() + n, this.loadedmetadata || (this.startFragRequested = !1, this.nextLoadPosition = this.startPosition), this.fragLoadError++, this.state = ye
                      }
                    else c.b.error("mediaController: " + e.details + " reaches max retry, redispatch as fatal ..."), e.fatal = !0, this.state = we;
                    break;
                  case s.a.LEVEL_LOAD_ERROR:
                  case s.a.LEVEL_LOAD_TIMEOUT:
                    this.state !== we && (e.fatal ? (this.state = we, c.b.warn("streamController: " + e.details + ",switch to " + this.state + " state ...")) : e.levelRetry || this.state !== ke || (this.state = ve));
                    break;
                  case s.a.BUFFER_FULL_ERROR:
                    "main" !== e.parent || this.state !== be && this.state !== Ee || (r ? (this._reduceMaxBufferLength(this.config.maxBufferLength), this.state = ve) : (c.b.warn("buffer full error also media.currentTime is not buffered, flush everything"), this.fragCurrent = null, this.flushMainBuffer(0, Number.POSITIVE_INFINITY)))
                }
              }
            }, o._reduceMaxBufferLength = function(e) {
              var t = this.config;
              return t.maxMaxBufferLength >= e && (t.maxMaxBufferLength /= 2, c.b.warn("main:reduce max buffer length to " + t.maxMaxBufferLength + "s"), !0)
            }, o._checkBuffer = function() {
              var e = this.media;
              if(e && 0 !== e.readyState) {
                var t = (this.mediaBuffer ? this.mediaBuffer : e).buffered;
                !this.loadedmetadata && t.length ? (this.loadedmetadata = !0, this._seekToStartPos()) : this.immediateSwitch ? this.immediateLevelSwitchEnd() : this.gapController.poll(this.lastCurrentTime, t)
              }
            }, o.onFragLoadEmergencyAborted = function() {
              this.state = ve, this.loadedmetadata || (this.startFragRequested = !1, this.nextLoadPosition = this.startPosition), this.tick()
            }, o.onBufferFlushed = function() {
              var e = this.mediaBuffer ? this.mediaBuffer : this.media;
              if(e) {
                var t = this.audioOnly ? h.AUDIO : h.VIDEO;
                this.fragmentTracker.detectEvictedFragments(t, e.buffered)
              }
              this.state = ve, this.fragPrevious = null
            }, o.onLevelsUpdated = function(e) {
              this.levels = e.levels
            }, o.swapAudioCodec = function() {
              this.audioCodecSwap = !this.audioCodecSwap
            }, o._seekToStartPos = function() {
              var e = this.media,
                t = e.currentTime,
                r = this.startPosition;
              if(t !== r && r >= 0) {
                if(e.seeking) return void c.b.log("could not seek to " + r + ", already seeking at " + t);
                var n = (e.buffered.length ? e.buffered.start(0) : 0) - r;
                n > 0 && n < this.config.maxBufferHole && (c.b.log("adjusting start position by " + n + " to match buffer start"), r += n, this.startPosition = r), c.b.log("seek to target start position " + r + " from current time " + t + ". ready state " + e.readyState), e.currentTime = r
              }
            }, o._getAudioCodec = function(e) {
              var t = this.config.defaultAudioCodec || e.audioCodec;
              return this.audioCodecSwap && (c.b.log("swapping playlist audio codec"), t && (t = -1 !== t.indexOf("mp4a.40.5") ? "mp4a.40.2" : "mp4a.40.5")), t
            }, (i = [{
              key: "state",
              set: function(e) {
                if(this.state !== e) {
                  var t = this.state;
                  this._state = e, c.b.log("main stream-controller: " + t + "->" + e), this.hls.trigger(l.a.STREAM_STATE_TRANSITION, {
                    previousState: t,
                    nextState: e
                  })
                }
              },
              get: function() {
                return this._state
              }
            }, {
              key: "currentLevel",
              get: function() {
                var e = this.media;
                if(e) {
                  var t = this.getBufferedFrag(e.currentTime);
                  if(t) return t.level
                }
                return -1
              }
            }, {
              key: "nextBufferedFrag",
              get: function() {
                var e = this.media;
                return e ? this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)) : null
              }
            }, {
              key: "nextLevel",
              get: function() {
                var e = this.nextBufferedFrag;
                return e ? e.level : -1
              }
            }, {
              key: "liveSyncPosition",
              get: function() {
                return this._liveSyncPosition
              },
              set: function(e) {
                this._liveSyncPosition = e
              }
            }]) && function(e, t) {
              for(var r = 0; r < t.length; r++) {
                var n = t[r];
                n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
              }
            }(n.prototype, i), n
          }(Re),
          Oe = function(e) {
            var t, r;

            function n(t) {
              var r;
              return (r = e.call(this, t, l.a.MANIFEST_LOADED, l.a.LEVEL_LOADED, l.a.AUDIO_TRACK_SWITCHED, l.a.FRAG_LOADED, l.a.ERROR) || this).canload = !1, r.currentLevelIndex = null, r.manualLevelIndex = -1, r.timer = null, de = /chrome|firefox/.test(navigator.userAgent.toLowerCase()), r
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i, a = n.prototype;
            return a.onHandlerDestroying = function() {
              this.clearTimer(), this.manualLevelIndex = -1
            }, a.clearTimer = function() {
              null !== this.timer && (clearTimeout(this.timer), this.timer = null)
            }, a.startLoad = function() {
              var e = this._levels;
              this.canload = !0, this.levelRetryCount = 0, e && e.forEach((function(e) {
                e.loadError = 0;
                var t = e.details;
                t && t.live && (e.details = void 0)
              })), null !== this.timer && this.loadLevel()
            }, a.stopLoad = function() {
              this.canload = !1
            }, a.onManifestLoaded = function(e) {
              var t, r = [],
                n = [],
                i = {},
                a = null,
                o = !1,
                u = !1;
              if(e.levels.forEach((function(e) {
                  var t = e.attrs;
                  e.loadError = 0, e.fragmentError = !1, o = o || !!e.videoCodec, u = u || !!e.audioCodec, de && e.audioCodec && -1 !== e.audioCodec.indexOf("mp4a.40.34") && (e.audioCodec = void 0), (a = i[e.bitrate]) ? a.url.push(e.url) : (e.url = [e.url], e.urlId = 0, i[e.bitrate] = e, r.push(e)), t && (t.AUDIO && Q(a || e, "audio", t.AUDIO), t.SUBTITLES && Q(a || e, "text", t.SUBTITLES))
                })), o && u && (r = r.filter((function(e) {
                  return !!e.videoCodec
                }))), r = r.filter((function(e) {
                  var t = e.audioCodec,
                    r = e.videoCodec;
                  return (!t || A(t, "audio")) && (!r || A(r, "video"))
                })), e.audioTracks && (n = e.audioTracks.filter((function(e) {
                  return !e.audioCodec || A(e.audioCodec, "audio")
                }))).forEach((function(e, t) {
                  e.id = t
                })), r.length > 0) {
                t = r[0].bitrate, r.sort((function(e, t) {
                  return e.bitrate - t.bitrate
                })), this._levels = r;
                for(var d = 0; d < r.length; d++)
                  if(r[d].bitrate === t) {
                    this._firstLevel = d, c.b.log("manifest loaded," + r.length + " level(s) found, first bitrate:" + t);
                    break
                  } var f = u && !o;
                this.hls.trigger(l.a.MANIFEST_PARSED, {
                  levels: r,
                  audioTracks: n,
                  firstLevel: this._firstLevel,
                  stats: e.stats,
                  audio: u,
                  video: o,
                  altAudio: !f && n.some((function(e) {
                    return !!e.url
                  }))
                })
              }
              else this.hls.trigger(l.a.ERROR, {
                type: s.b.MEDIA_ERROR,
                details: s.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,
                fatal: !0,
                url: this.hls.url,
                reason: "no level with compatible codecs found in manifest"
              })
            }, a.setLevelInternal = function(e) {
              var t = this._levels,
                r = this.hls;
              if(e >= 0 && e < t.length) {
                if(this.clearTimer(), this.currentLevelIndex !== e) {
                  c.b.log("switching to level " + e), this.currentLevelIndex = e;
                  var n = t[e];
                  n.level = e, r.trigger(l.a.LEVEL_SWITCHING, n)
                }
                var i = t[e],
                  a = i.details;
                if(!a || a.live) {
                  var o = i.urlId;
                  r.trigger(l.a.LEVEL_LOADING, {
                    url: i.url[o],
                    level: e,
                    id: o
                  })
                }
              }
              else r.trigger(l.a.ERROR, {
                type: s.b.OTHER_ERROR,
                details: s.a.LEVEL_SWITCH_ERROR,
                level: e,
                fatal: !1,
                reason: "invalid level idx"
              })
            }, a.onError = function(e) {
              if(e.fatal) e.type === s.b.NETWORK_ERROR && this.clearTimer();
              else {
                var t, r = !1,
                  n = !1;
                switch(e.details) {
                  case s.a.FRAG_LOAD_ERROR:
                  case s.a.FRAG_LOAD_TIMEOUT:
                  case s.a.KEY_LOAD_ERROR:
                  case s.a.KEY_LOAD_TIMEOUT:
                    t = e.frag.level, n = !0;
                    break;
                  case s.a.LEVEL_LOAD_ERROR:
                  case s.a.LEVEL_LOAD_TIMEOUT:
                    t = e.context.level, r = !0;
                    break;
                  case s.a.REMUX_ALLOC_ERROR:
                    t = e.level, r = !0
                }
                void 0 !== t && this.recoverLevel(e, t, r, n)
              }
            }, a.recoverLevel = function(e, t, r, n) {
              var i, a, o, s = this,
                u = this.hls.config,
                l = e.details,
                d = this._levels[t];
              if(d.loadError++, d.fragmentError = n, r) {
                if(!(this.levelRetryCount + 1 <= u.levelLoadingMaxRetry)) return c.b.error("level controller, cannot recover from " + l + " error"), this.currentLevelIndex = null, this.clearTimer(), void(e.fatal = !0);
                a = Math.min(Math.pow(2, this.levelRetryCount) * u.levelLoadingRetryDelay, u.levelLoadingMaxRetryTimeout), this.timer = setTimeout((function() {
                  return s.loadLevel()
                }), a), e.levelRetry = !0, this.levelRetryCount++, c.b.warn("level controller, " + l + ", retry in " + a + " ms, current retry count is " + this.levelRetryCount)
              }(r || n) && ((i = d.url.length) > 1 && d.loadError < i ? (d.urlId = (d.urlId + 1) % i, d.details = void 0, c.b.warn("level controller, " + l + " for level " + t + ": switching to redundant URL-id " + d.urlId)) : -1 === this.manualLevelIndex ? (o = 0 === t ? this._levels.length - 1 : t - 1, c.b.warn("level controller, " + l + ": switch to " + o), this.hls.nextAutoLevel = this.currentLevelIndex = o) : n && (c.b.warn("level controller, " + l + ": reload a fragment"), this.currentLevelIndex = null))
            }, a.onFragLoaded = function(e) {
              var t = e.frag;
              if(void 0 !== t && "main" === t.type) {
                var r = this._levels[t.level];
                void 0 !== r && (r.fragmentError = !1, r.loadError = 0, this.levelRetryCount = 0)
              }
            }, a.onLevelLoaded = function(e) {
              var t = this,
                r = e.level,
                n = e.details;
              if(r === this.currentLevelIndex) {
                var i = this._levels[r];
                if(i.fragmentError || (i.loadError = 0, this.levelRetryCount = 0), n.live) {
                  var a = te(i.details, n, e.stats.trequest);
                  c.b.log("live playlist, reload in " + Math.round(a) + " ms"), this.timer = setTimeout((function() {
                    return t.loadLevel()
                  }), a)
                }
                else this.clearTimer()
              }
            }, a.onAudioTrackSwitched = function(e) {
              var t = this.hls.audioTracks[e.id].groupId,
                r = this.hls.levels[this.currentLevelIndex];
              if(r && r.audioGroupIds) {
                for(var n = -1, i = 0; i < r.audioGroupIds.length; i++)
                  if(r.audioGroupIds[i] === t) {
                    n = i;
                    break
                  } n !== r.urlId && (r.urlId = n, this.startLoad())
              }
            }, a.loadLevel = function() {
              if(c.b.debug("call to loadLevel"), null !== this.currentLevelIndex && this.canload) {
                var e = this._levels[this.currentLevelIndex];
                if("object" == typeof e && e.url.length > 0) {
                  var t = this.currentLevelIndex,
                    r = e.urlId,
                    n = e.url[r];
                  c.b.log("Attempt loading level index " + t + " with URL-id " + r), this.hls.trigger(l.a.LEVEL_LOADING, {
                    url: n,
                    level: t,
                    id: r
                  })
                }
              }
            }, a.removeLevel = function(e, t) {
              var r = this.levels.filter((function(r, n) {
                return n !== e || r.url.length > 1 && void 0 !== t && (r.url = r.url.filter((function(e, r) {
                  return r !== t
                })), r.urlId = 0, !0)
              })).map((function(e, t) {
                var r = e.details;
                return r && r.fragments && r.fragments.forEach((function(e) {
                  e.level = t
                })), e
              }));
              this._levels = r, this.hls.trigger(l.a.LEVELS_UPDATED, {
                levels: r
              })
            }, (i = [{
              key: "levels",
              get: function() {
                return this._levels
              }
            }, {
              key: "level",
              get: function() {
                return this.currentLevelIndex
              },
              set: function(e) {
                var t = this._levels;
                t && (e = Math.min(e, t.length - 1), this.currentLevelIndex === e && t[e].details || this.setLevelInternal(e))
              }
            }, {
              key: "manualLevel",
              get: function() {
                return this.manualLevelIndex
              },
              set: function(e) {
                this.manualLevelIndex = e, void 0 === this._startLevel && (this._startLevel = e), -1 !== e && (this.level = e)
              }
            }, {
              key: "firstLevel",
              get: function() {
                return this._firstLevel
              },
              set: function(e) {
                this._firstLevel = e
              }
            }, {
              key: "startLevel",
              get: function() {
                if(void 0 === this._startLevel) {
                  var e = this.hls.config.startLevel;
                  return void 0 !== e ? e : this._firstLevel
                }
                return this._startLevel
              },
              set: function(e) {
                this._startLevel = e
              }
            }, {
              key: "nextLoadLevel",
              get: function() {
                return -1 !== this.manualLevelIndex ? this.manualLevelIndex : this.hls.nextAutoLevel
              },
              set: function(e) {
                this.level = e, -1 === this.manualLevelIndex && (this.hls.nextAutoLevel = e)
              }
            }]) && function(e, t) {
              for(var r = 0; r < t.length; r++) {
                var n = t[r];
                n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
              }
            }(n.prototype, i), n
          }(f),
          Ce = r(4);

        function De(e, t) {
          var r;
          try {
            r = new Event("addtrack")
          }
          catch (e) {
            (r = document.createEvent("Event")).initEvent("addtrack", !1, !1)
          }
          r.track = e, t.dispatchEvent(r)
        }

        function xe(e) {
          if(null == e ? void 0 : e.cues)
            for(; e.cues.length > 0;) e.removeCue(e.cues[0])
        }
        var Ie = function(e) {
            var t, r;

            function n(t) {
              var r;
              return (r = e.call(this, t, l.a.MEDIA_ATTACHED, l.a.MEDIA_DETACHING, l.a.FRAG_PARSING_METADATA, l.a.LIVE_BACK_BUFFER_REACHED) || this).id3Track = void 0, r.media = void 0, r
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i = n.prototype;
            return i.destroy = function() {
              f.prototype.destroy.call(this)
            }, i.onMediaAttached = function(e) {
              this.media = e.media, this.media
            }, i.onMediaDetaching = function() {
              xe(this.id3Track), this.id3Track = void 0, this.media = void 0
            }, i.getID3Track = function(e) {
              for(var t = 0; t < e.length; t++) {
                var r = e[t];
                if("metadata" === r.kind && "id3" === r.label) return De(r, this.media), r
              }
              return this.media.addTextTrack("metadata", "id3")
            }, i.onFragParsingMetadata = function(e) {
              var t = e.frag,
                r = e.samples;
              this.id3Track || (this.id3Track = this.getID3Track(this.media.textTracks), this.id3Track.mode = "hidden");
              for(var n = window.WebKitDataCue || window.VTTCue || window.TextTrackCue, i = 0; i < r.length; i++) {
                var a = Ce.a.getID3Frames(r[i].data);
                if(a) {
                  var o = Math.max(r[i].pts, 0),
                    s = i < r.length - 1 ? r[i + 1].pts : t.endPTS;
                  s || (s = t.start + t.duration), s - o <= 0 && (s = o + .25);
                  for(var u = 0; u < a.length; u++) {
                    var l = a[u];
                    if(!Ce.a.isTimeStampFrame(l)) {
                      var c = new n(o, s, "");
                      c.value = l, this.id3Track.addCue(c)
                    }
                  }
                }
              }
            }, i.onLiveBackBufferReached = function(e) {
              var t = e.bufferEnd,
                r = this.id3Track;
              if(r && r.cues && r.cues.length) {
                var n = function(e, t) {
                  if(t < e[0].endTime) return e[0];
                  if(t > e[e.length - 1].endTime) return e[e.length - 1];
                  for(var r = 0, n = e.length - 1; r <= n;) {
                    var i = Math.floor((n + r) / 2);
                    if(t < e[i].endTime) n = i - 1;
                    else {
                      if(!(t > e[i].endTime)) return e[i];
                      r = i + 1
                    }
                  }
                  return e[r].endTime - t < t - e[n].endTime ? e[r] : e[n]
                }(r.cues, t);
                if(n)
                  for(; r.cues[0] !== n;) r.removeCue(r.cues[0])
              }
            }, n
          }(f),
          Me = function() {
            function e(e) {
              this.alpha_ = void 0, this.estimate_ = void 0, this.totalWeight_ = void 0, this.alpha_ = e ? Math.exp(Math.log(.5) / e) : 0, this.estimate_ = 0, this.totalWeight_ = 0
            }
            var t = e.prototype;
            return t.sample = function(e, t) {
              var r = Math.pow(this.alpha_, e);
              this.estimate_ = t * (1 - r) + r * this.estimate_, this.totalWeight_ += e
            }, t.getTotalWeight = function() {
              return this.totalWeight_
            }, t.getEstimate = function() {
              if(this.alpha_) {
                var e = 1 - Math.pow(this.alpha_, this.totalWeight_);
                return this.estimate_ / e
              }
              return this.estimate_
            }, e
          }(),
          Pe = function() {
            function e(e, t, r, n) {
              this.hls = void 0, this.defaultEstimate_ = void 0, this.minWeight_ = void 0, this.minDelayMs_ = void 0, this.slow_ = void 0, this.fast_ = void 0, this.hls = e, this.defaultEstimate_ = n, this.minWeight_ = .001, this.minDelayMs_ = 50, this.slow_ = new Me(t), this.fast_ = new Me(r)
            }
            var t = e.prototype;
            return t.sample = function(e, t) {
              var r = (e = Math.max(e, this.minDelayMs_)) / 1e3,
                n = 8 * t / r;
              this.fast_.sample(r, n), this.slow_.sample(r, n)
            }, t.canEstimate = function() {
              var e = this.fast_;
              return e && e.getTotalWeight() >= this.minWeight_
            }, t.getEstimate = function() {
              return this.canEstimate() ? Math.min(this.fast_.getEstimate(), this.slow_.getEstimate()) : this.defaultEstimate_
            }, t.destroy = function() {}, e
          }(),
          Ne = window.performance,
          Fe = function(e) {
            var t, r;

            function n(t) {
              var r;
              return (r = e.call(this, t, l.a.FRAG_LOADING, l.a.FRAG_LOADED, l.a.FRAG_BUFFERED, l.a.ERROR) || this).lastLoadedFragLevel = 0, r._nextAutoLevel = -1, r.hls = t, r.timer = null, r._bwEstimator = null, r.onCheck = r._abandonRulesCheck.bind(function(e) {
                if(void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
              }(r)), r
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i, a = n.prototype;
            return a.destroy = function() {
              this.clearTimer(), f.prototype.destroy.call(this)
            }, a.onFragLoading = function(e) {
              var t = e.frag;
              if("main" === t.type && (this.timer || (this.fragCurrent = t, this.timer = setInterval(this.onCheck, 100)), !this._bwEstimator)) {
                var r, n, i = this.hls,
                  a = i.config,
                  o = t.level;
                i.levels[o].details.live ? (r = a.abrEwmaFastLive, n = a.abrEwmaSlowLive) : (r = a.abrEwmaFastVoD, n = a.abrEwmaSlowVoD), this._bwEstimator = new Pe(i, n, r, a.abrEwmaDefaultEstimate)
              }
            }, a._abandonRulesCheck = function() {
              var e = this.hls,
                t = e.media,
                r = this.fragCurrent;
              if(r) {
                var n = r.loader;
                if(!n || n.stats && n.stats.aborted) return c.b.warn("frag loader destroy or aborted, disarm abandonRules"), this.clearTimer(), void(this._nextAutoLevel = -1);
                var i = n.stats;
                if(t && i && (!t.paused && 0 !== t.playbackRate || !t.readyState) && r.autoLevel && r.level) {
                  var a = Ne.now() - i.trequest,
                    o = Math.abs(t.playbackRate);
                  if(a > 500 * r.duration / o) {
                    var s = e.levels,
                      u = Math.max(1, i.bw ? i.bw / 8 : 1e3 * i.loaded / a),
                      d = s[r.level];
                    if(!d) return;
                    var f = d.realBitrate ? Math.max(d.realBitrate, d.bitrate) : d.bitrate,
                      h = i.total ? i.total : Math.max(i.loaded, Math.round(r.duration * f / 8)),
                      p = t.currentTime,
                      v = (h - i.loaded) / u,
                      g = (j.bufferInfo(t, p, e.config.maxBufferHole).end - p) / o;
                    if(g < 2 * r.duration / o && v > g) {
                      var m, y = e.minAutoLevel;
                      for(m = r.level - 1; m > y; m--) {
                        var _ = s[m].realBitrate ? Math.max(s[m].realBitrate, s[m].bitrate) : s[m].bitrate;
                        if(r.duration * _ / (6.4 * u) < g) break
                      }
                      void 0 < v && (c.b.warn("loading too slow, abort fragment loading and switch to level " + m + ":fragLoadedDelay[" + m + "]<fragLoadedDelay[" + (r.level - 1) + "];bufferStarvationDelay:" + (void 0).toFixed(1) + "<" + v.toFixed(1) + ":" + g.toFixed(1)), e.nextLoadLevel = m, this._bwEstimator.sample(a, i.loaded), n.abort(), this.clearTimer(), e.trigger(l.a.FRAG_LOAD_EMERGENCY_ABORTED, {
                        frag: r,
                        stats: i
                      }))
                    }
                  }
                }
              }
            }, a.onFragLoaded = function(e) {
              var t = e.frag;
              if("main" === t.type && Object(u.a)(t.sn)) {
                if(this.clearTimer(), this.lastLoadedFragLevel = t.level, this._nextAutoLevel = -1, this.hls.config.abrMaxWithRealBitrate) {
                  var r = this.hls.levels[t.level],
                    n = (r.loaded ? r.loaded.bytes : 0) + e.stats.loaded,
                    i = (r.loaded ? r.loaded.duration : 0) + e.frag.duration;
                  r.loaded = {
                    bytes: n,
                    duration: i
                  }, r.realBitrate = Math.round(8 * n / i)
                }
                if(e.frag.bitrateTest) {
                  var a = e.stats;
                  a.tparsed = a.tbuffered = a.tload, this.onFragBuffered(e)
                }
              }
            }, a.onFragBuffered = function(e) {
              var t = e.stats,
                r = e.frag;
              if(!0 !== t.aborted && "main" === r.type && Object(u.a)(r.sn) && (!r.bitrateTest || t.tload === t.tbuffered)) {
                var n = t.tparsed - t.trequest;
                c.b.log("latency/loading/parsing/append/kbps:" + Math.round(t.tfirst - t.trequest) + "/" + Math.round(t.tload - t.tfirst) + "/" + Math.round(t.tparsed - t.tload) + "/" + Math.round(t.tbuffered - t.tparsed) + "/" + Math.round(8 * t.loaded / (t.tbuffered - t.trequest))), this._bwEstimator.sample(n, t.loaded), t.bwEstimate = this._bwEstimator.getEstimate(), r.bitrateTest ? this.bitrateTestDelay = n / 1e3 : this.bitrateTestDelay = 0
              }
            }, a.onError = function(e) {
              switch(e.details) {
                case s.a.FRAG_LOAD_ERROR:
                case s.a.FRAG_LOAD_TIMEOUT:
                  this.clearTimer()
              }
            }, a.clearTimer = function() {
              clearInterval(this.timer), this.timer = null
            }, a._findBestLevel = function(e, t, r, n, i, a, o, s, u) {
              for(var l = i; l >= n; l--) {
                var d = u[l];
                if(d) {
                  var f, h = d.details,
                    p = h ? h.totalduration / h.fragments.length : t,
                    v = !!h && h.live;
                  f = l <= e ? o * r : s * r;
                  var g = u[l].realBitrate ? Math.max(u[l].realBitrate, u[l].bitrate) : u[l].bitrate,
                    m = g * p / f;
                  if(c.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: " + l + "/" + Math.round(f) + "/" + g + "/" + p + "/" + a + "/" + m), f > g && (!m || v && !this.bitrateTestDelay || m < a)) return l
                }
              }
              return -1
            }, (i = [{
              key: "nextAutoLevel",
              get: function() {
                var e = this._nextAutoLevel,
                  t = this._bwEstimator;
                if(!(-1 === e || t && t.canEstimate())) return e;
                var r = this._nextABRAutoLevel;
                return -1 !== e && (r = Math.min(e, r)), r
              },
              set: function(e) {
                this._nextAutoLevel = e
              }
            }, {
              key: "_nextABRAutoLevel",
              get: function() {
                var e = this.hls,
                  t = e.maxAutoLevel,
                  r = e.levels,
                  n = e.config,
                  i = e.minAutoLevel,
                  a = e.media,
                  o = this.lastLoadedFragLevel,
                  s = this.fragCurrent ? this.fragCurrent.duration : 0,
                  u = a ? a.currentTime : 0,
                  l = a && 0 !== a.playbackRate ? Math.abs(a.playbackRate) : 1,
                  d = this._bwEstimator ? this._bwEstimator.getEstimate() : n.abrEwmaDefaultEstimate,
                  f = (j.bufferInfo(a, u, n.maxBufferHole).end - u) / l,
                  h = this._findBestLevel(o, s, d, i, t, f, n.abrBandWidthFactor, n.abrBandWidthUpFactor, r);
                if(h >= 0) return h;
                c.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");
                var p = s ? Math.min(s, n.maxStarvationDelay) : n.maxStarvationDelay,
                  v = n.abrBandWidthFactor,
                  g = n.abrBandWidthUpFactor;
                if(0 === f) {
                  var m = this.bitrateTestDelay;
                  m && (p = (s ? Math.min(s, n.maxLoadingDelay) : n.maxLoadingDelay) - m, c.b.trace("bitrate test took " + Math.round(1e3 * m) + "ms, set first fragment max fetchDuration to " + Math.round(1e3 * p) + " ms"), v = g = 1)
                }
                return h = this._findBestLevel(o, s, d, i, t, f + p, v, g, r), Math.max(h, 0)
              }
            }]) && function(e, t) {
              for(var r = 0; r < t.length; r++) {
                var n = t[r];
                n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
              }
            }(n.prototype, i), n
          }(f),
          Ue = V(),
          Be = function(e) {
            var t, r;

            function n(t) {
              var r;
              return (r = e.call(this, t, l.a.MEDIA_ATTACHING, l.a.MEDIA_DETACHING, l.a.MANIFEST_PARSED, l.a.BUFFER_RESET, l.a.BUFFER_APPENDING, l.a.BUFFER_CODECS, l.a.BUFFER_EOS, l.a.BUFFER_FLUSHING, l.a.LEVEL_PTS_UPDATED, l.a.LEVEL_UPDATED) || this)._msDuration = null, r._levelDuration = null, r._levelTargetDuration = 10, r._live = null, r._objectUrl = null, r._needsFlush = !1, r._needsEos = !1, r.config = void 0, r.audioTimestampOffset = void 0, r.bufferCodecEventsExpected = 0, r._bufferCodecEventsTotal = 0, r.media = null, r.mediaSource = null, r.segments = [], r.parent = void 0, r.appending = !1, r.appended = 0, r.appendError = 0, r.flushBufferCounter = 0, r.tracks = {}, r.pendingTracks = {}, r.sourceBuffer = {}, r.flushRange = [], r._onMediaSourceOpen = function() {
                c.b.log("media source opened"), r.hls.trigger(l.a.MEDIA_ATTACHED, {
                  media: r.media
                });
                var e = r.mediaSource;
                e && e.removeEventListener("sourceopen", r._onMediaSourceOpen), r.checkPendingTracks()
              }, r._onMediaSourceClose = function() {
                c.b.log("media source closed")
              }, r._onMediaSourceEnded = function() {
                c.b.log("media source ended")
              }, r._onSBUpdateEnd = function() {
                if(r.audioTimestampOffset && r.sourceBuffer.audio) {
                  var e = r.sourceBuffer.audio;
                  c.b.warn("change mpeg audio timestamp offset from " + e.timestampOffset + " to " + r.audioTimestampOffset), e.timestampOffset = r.audioTimestampOffset, delete r.audioTimestampOffset
                }
                r._needsFlush && r.doFlush(), r._needsEos && r.checkEos(), r.appending = !1;
                var t = r.parent,
                  n = r.segments.reduce((function(e, r) {
                    return r.parent === t ? e + 1 : e
                  }), 0),
                  i = {},
                  a = r.sourceBuffer;
                for(var o in a) {
                  var s = a[o];
                  if(!s) throw Error("handling source buffer update end error: source buffer for " + o + " uninitilized and unable to update buffered TimeRanges.");
                  i[o] = s.buffered
                }
                r.hls.trigger(l.a.BUFFER_APPENDED, {
                  parent: t,
                  pending: n,
                  timeRanges: i
                }), r._needsFlush || r.doAppending(), r.updateMediaElementDuration(), 0 === n && r.flushLiveBackBuffer()
              }, r._onSBUpdateError = function(e) {
                c.b.error("sourceBuffer error:", e), r.hls.trigger(l.a.ERROR, {
                  type: s.b.MEDIA_ERROR,
                  details: s.a.BUFFER_APPENDING_ERROR,
                  fatal: !1
                })
              }, r.config = t.config, r
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i = n.prototype;
            return i.destroy = function() {
              f.prototype.destroy.call(this)
            }, i.onLevelPtsUpdated = function(e) {
              var t = e.type,
                r = this.tracks.audio;
              if("audio" === t && r && "audio/mpeg" === r.container) {
                var n = this.sourceBuffer.audio;
                if(!n) throw Error("Level PTS Updated and source buffer for audio uninitalized");
                if(Math.abs(n.timestampOffset - e.start) > .1) {
                  var i = n.updating;
                  try {
                    n.abort()
                  }
                  catch (e) {
                    c.b.warn("can not abort audio buffer: " + e)
                  }
                  i ? this.audioTimestampOffset = e.start : (c.b.warn("change mpeg audio timestamp offset from " + n.timestampOffset + " to " + e.start), n.timestampOffset = e.start)
                }
              }
            }, i.onManifestParsed = function(e) {
              var t = 2;
              (e.audio && !e.video || !e.altAudio) && (t = 1), this.bufferCodecEventsExpected = this._bufferCodecEventsTotal = t, c.b.log(this.bufferCodecEventsExpected + " bufferCodec event(s) expected")
            }, i.onMediaAttaching = function(e) {
              var t = this.media = e.media;
              if(t && Ue) {
                var r = this.mediaSource = new Ue;
                r.addEventListener("sourceopen", this._onMediaSourceOpen), r.addEventListener("sourceended", this._onMediaSourceEnded), r.addEventListener("sourceclose", this._onMediaSourceClose), t.src = window.URL.createObjectURL(r), this._objectUrl = t.src
              }
            }, i.onMediaDetaching = function() {
              c.b.log("media source detaching");
              var e = this.mediaSource;
              if(e) {
                if("open" === e.readyState) try {
                  e.endOfStream()
                }
                catch (e) {
                  c.b.warn("onMediaDetaching:" + e.message + " while calling endOfStream")
                }
                e.removeEventListener("sourceopen", this._onMediaSourceOpen), e.removeEventListener("sourceended", this._onMediaSourceEnded), e.removeEventListener("sourceclose", this._onMediaSourceClose), this.media && (this._objectUrl && window.URL.revokeObjectURL(this._objectUrl), this.media.src === this._objectUrl ? (this.media.removeAttribute("src"), this.media.load()) : c.b.warn("media.src was changed by a third party - skip cleanup")), this.mediaSource = null, this.media = null, this._objectUrl = null, this.bufferCodecEventsExpected = this._bufferCodecEventsTotal, this.pendingTracks = {}, this.tracks = {}, this.sourceBuffer = {}, this.flushRange = [], this.segments = [], this.appended = 0
              }
              this.hls.trigger(l.a.MEDIA_DETACHED)
            }, i.checkPendingTracks = function() {
              var e = this.bufferCodecEventsExpected,
                t = this.pendingTracks,
                r = Object.keys(t).length;
              (r && !e || 2 === r) && (this.createSourceBuffers(t), this.pendingTracks = {}, this.doAppending())
            }, i.onBufferReset = function() {
              var e = this.sourceBuffer;
              for(var t in e) {
                var r = e[t];
                try {
                  r && (this.mediaSource && this.mediaSource.removeSourceBuffer(r), r.removeEventListener("updateend", this._onSBUpdateEnd), r.removeEventListener("error", this._onSBUpdateError))
                }
                catch (e) {}
              }
              this.sourceBuffer = {}, this.flushRange = [], this.segments = [], this.appended = 0
            }, i.onBufferCodecs = function(e) {
              var t = this;
              Object.keys(this.sourceBuffer).length || (Object.keys(e).forEach((function(r) {
                t.pendingTracks[r] = e[r]
              })), this.bufferCodecEventsExpected = Math.max(this.bufferCodecEventsExpected - 1, 0), this.mediaSource && "open" === this.mediaSource.readyState && this.checkPendingTracks())
            }, i.createSourceBuffers = function(e) {
              var t = this.sourceBuffer,
                r = this.mediaSource;
              if(!r) throw Error("createSourceBuffers called when mediaSource was null");
              for(var n in e)
                if(!t[n]) {
                  var i = e[n];
                  if(!i) throw Error("source buffer exists for track " + n + ", however track does not");
                  var a = i.levelCodec || i.codec,
                    o = i.container + ";codecs=" + a;
                  c.b.log("creating sourceBuffer(" + o + ")");
                  try {
                    var u = t[n] = r.addSourceBuffer(o);
                    u.addEventListener("updateend", this._onSBUpdateEnd), u.addEventListener("error", this._onSBUpdateError), this.tracks[n] = {
                      buffer: u,
                      codec: a,
                      id: i.id,
                      container: i.container,
                      levelCodec: i.levelCodec
                    }
                  }
                  catch (e) {
                    c.b.error("error while trying to add sourceBuffer:" + e.message), this.hls.trigger(l.a.ERROR, {
                      type: s.b.MEDIA_ERROR,
                      details: s.a.BUFFER_ADD_CODEC_ERROR,
                      fatal: !1,
                      err: e,
                      mimeType: o
                    })
                  }
                } this.hls.trigger(l.a.BUFFER_CREATED, {
                tracks: this.tracks
              })
            }, i.onBufferAppending = function(e) {
              this._needsFlush || (this.segments ? this.segments.push(e) : this.segments = [e], this.doAppending())
            }, i.onBufferEos = function(e) {
              for(var t in this.sourceBuffer)
                if(!e.type || e.type === t) {
                  var r = this.sourceBuffer[t];
                  r && !r.ended && (r.ended = !0, c.b.log(t + " sourceBuffer now EOS"))
                } this.checkEos()
            }, i.checkEos = function() {
              var e = this.sourceBuffer,
                t = this.mediaSource;
              if(t && "open" === t.readyState) {
                for(var r in e) {
                  var n = e[r];
                  if(n) {
                    if(!n.ended) return;
                    if(n.updating) return void(this._needsEos = !0)
                  }
                }
                c.b.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");
                try {
                  t.endOfStream()
                }
                catch (e) {
                  c.b.warn("exception while calling mediaSource.endOfStream()")
                }
                this._needsEos = !1
              }
              else this._needsEos = !1
            }, i.onBufferFlushing = function(e) {
              e.type ? this.flushRange.push({
                start: e.startOffset,
                end: e.endOffset,
                type: e.type
              }) : (this.flushRange.push({
                start: e.startOffset,
                end: e.endOffset,
                type: "video"
              }), this.flushRange.push({
                start: e.startOffset,
                end: e.endOffset,
                type: "audio"
              })), this.flushBufferCounter = 0, this.doFlush()
            }, i.flushLiveBackBuffer = function() {
              if(this._live) {
                var e = this.config.liveBackBufferLength;
                if(isFinite(e) && !(e < 0))
                  if(this.media)
                    for(var t = this.media.currentTime, r = this.sourceBuffer, n = Object.keys(r), i = t - Math.max(e, this._levelTargetDuration), a = n.length - 1; a >= 0; a--) {
                      var o = n[a],
                        s = r[o];
                      if(s) {
                        var u = s.buffered;
                        u.length > 0 && i > u.start(0) && this.removeBufferRange(o, s, 0, i) && this.hls.trigger(l.a.LIVE_BACK_BUFFER_REACHED, {
                          bufferEnd: i
                        })
                      }
                    }
                else c.b.error("flushLiveBackBuffer called without attaching media")
              }
            }, i.onLevelUpdated = function(e) {
              var t = e.details;
              t.fragments.length > 0 && (this._levelDuration = t.totalduration + t.fragments[0].start, this._levelTargetDuration = t.averagetargetduration || t.targetduration || 10, this._live = t.live, this.updateMediaElementDuration())
            }, i.updateMediaElementDuration = function() {
              var e, t = this.config;
              if(null !== this._levelDuration && this.media && this.mediaSource && this.sourceBuffer && 0 !== this.media.readyState && "open" === this.mediaSource.readyState) {
                for(var r in this.sourceBuffer) {
                  var n = this.sourceBuffer[r];
                  if(n && !0 === n.updating) return
                }
                e = this.media.duration, null === this._msDuration && (this._msDuration = this.mediaSource.duration), !0 === this._live && !0 === t.liveDurationInfinity ? (c.b.log("Media Source duration is set to Infinity"), this._msDuration = this.mediaSource.duration = 1 / 0) : (this._levelDuration > this._msDuration && this._levelDuration > e || !Object(u.a)(e)) && (c.b.log("Updating Media Source duration to " + this._levelDuration.toFixed(3)), this._msDuration = this.mediaSource.duration = this._levelDuration)
              }
            }, i.doFlush = function() {
              for(; this.flushRange.length;) {
                var e = this.flushRange[0];
                if(!this.flushBuffer(e.start, e.end, e.type)) return void(this._needsFlush = !0);
                this.flushRange.shift(), this.flushBufferCounter = 0
              }
              if(0 === this.flushRange.length) {
                this._needsFlush = !1;
                var t = 0,
                  r = this.sourceBuffer;
                try {
                  for(var n in r) {
                    var i = r[n];
                    i && (t += i.buffered.length)
                  }
                }
                catch (e) {
                  c.b.error("error while accessing sourceBuffer.buffered")
                }
                this.appended = t, this.hls.trigger(l.a.BUFFER_FLUSHED)
              }
            }, i.doAppending = function() {
              var e = this.config,
                t = this.hls,
                r = this.segments,
                n = this.sourceBuffer;
              if(Object.keys(n).length) {
                if(!this.media || this.media.error) return this.segments = [], void c.b.error("trying to append although a media error occured, flush segment and abort");
                if(!this.appending) {
                  var i = r.shift();
                  if(i) try {
                    var a = n[i.type];
                    if(!a) return void this._onSBUpdateEnd();
                    if(a.updating) return void r.unshift(i);
                    a.ended = !1, this.parent = i.parent, a.appendBuffer(i.data), this.appendError = 0, this.appended++, this.appending = !0
                  }
                  catch (n) {
                    c.b.error("error while trying to append buffer:" + n.message), r.unshift(i);
                    var o = {
                      type: s.b.MEDIA_ERROR,
                      parent: i.parent,
                      details: "",
                      fatal: !1
                    };
                    22 === n.code ? (this.segments = [], o.details = s.a.BUFFER_FULL_ERROR) : (this.appendError++, o.details = s.a.BUFFER_APPEND_ERROR, this.appendError > e.appendErrorMaxRetry && (c.b.log("fail " + e.appendErrorMaxRetry + " times to append segment in sourceBuffer"), this.segments = [], o.fatal = !0)), t.trigger(l.a.ERROR, o)
                  }
                }
              }
            }, i.flushBuffer = function(e, t, r) {
              var n = this.sourceBuffer;
              if(!Object.keys(n).length) return !0;
              var i = "null";
              if(this.media && (i = this.media.currentTime.toFixed(3)), c.b.log("flushBuffer,pos/start/end: " + i + "/" + e + "/" + t), this.flushBufferCounter >= this.appended) return c.b.warn("abort flushing too many retries"), !0;
              var a = n[r];
              if(a) {
                if(a.ended = !1, a.updating) return c.b.warn("cannot flush, sb updating in progress"), !1;
                if(this.removeBufferRange(r, a, e, t)) return this.flushBufferCounter++, !1
              }
              return c.b.log("buffer flushed"), !0
            }, i.removeBufferRange = function(e, t, r, n) {
              try {
                for(var i = 0; i < t.buffered.length; i++) {
                  var a = t.buffered.start(i),
                    o = t.buffered.end(i),
                    s = Math.max(a, r),
                    u = Math.min(o, n);
                  if(Math.min(u, o) - s > .5) {
                    var l = "null";
                    return this.media && (l = this.media.currentTime.toString()), c.b.log("sb remove " + e + " [" + s + "," + u + "], of [" + a + "," + o + "], pos:" + l), t.remove(s, u), !0
                  }
                }
              }
              catch (e) {
                c.b.warn("removeBufferRange failed", e)
              }
              return !1
            }, n
          }(f);

        function je(e, t) {
          for(var r = 0; r < t.length; r++) {
            var n = t[r];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
          }
        }
        var Ge = function(e) {
            var t, r;

            function n(t) {
              var r;
              return (r = e.call(this, t, l.a.FPS_DROP_LEVEL_CAPPING, l.a.MEDIA_ATTACHING, l.a.MANIFEST_PARSED, l.a.LEVELS_UPDATED, l.a.BUFFER_CODECS, l.a.MEDIA_DETACHING) || this).autoLevelCapping = Number.POSITIVE_INFINITY, r.firstLevel = null, r.levels = [], r.media = null, r.restrictedLevels = [], r.timer = null, r.clientRect = null, r
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i, a, o, s = n.prototype;
            return s.destroy = function() {
              this.hls.config.capLevelToPlayerSize && (this.media = null, this.clientRect = null, this.stopCapping())
            }, s.onFpsDropLevelCapping = function(e) {
              n.isLevelAllowed(e.droppedLevel, this.restrictedLevels) && this.restrictedLevels.push(e.droppedLevel)
            }, s.onMediaAttaching = function(e) {
              this.media = e.media instanceof window.HTMLVideoElement ? e.media : null
            }, s.onManifestParsed = function(e) {
              var t = this.hls;
              this.restrictedLevels = [], this.levels = e.levels, this.firstLevel = e.firstLevel, t.config.capLevelToPlayerSize && e.video && this.startCapping()
            }, s.onBufferCodecs = function(e) {
              this.hls.config.capLevelToPlayerSize && e.video && this.startCapping()
            }, s.onLevelsUpdated = function(e) {
              this.levels = e.levels
            }, s.onMediaDetaching = function() {
              this.stopCapping()
            }, s.detectPlayerSize = function() {
              if(this.media) {
                var e = this.levels ? this.levels.length : 0;
                if(e) {
                  var t = this.hls;
                  t.autoLevelCapping = this.getMaxLevel(e - 1), t.autoLevelCapping > this.autoLevelCapping && t.streamController.nextLevelSwitch(), this.autoLevelCapping = t.autoLevelCapping
                }
              }
            }, s.getMaxLevel = function(e) {
              var t = this;
              if(!this.levels) return -1;
              var r = this.levels.filter((function(r, i) {
                return n.isLevelAllowed(i, t.restrictedLevels) && i <= e
              }));
              return this.clientRect = null, n.getMaxLevelByMediaSize(r, this.mediaWidth, this.mediaHeight)
            }, s.startCapping = function() {
              this.timer || (this.autoLevelCapping = Number.POSITIVE_INFINITY, this.hls.firstLevel = this.getMaxLevel(this.firstLevel), clearInterval(this.timer), this.timer = setInterval(this.detectPlayerSize.bind(this), 1e3), this.detectPlayerSize())
            }, s.stopCapping = function() {
              this.restrictedLevels = [], this.firstLevel = null, this.autoLevelCapping = Number.POSITIVE_INFINITY, this.timer && (this.timer = clearInterval(this.timer), this.timer = null)
            }, s.getDimensions = function() {
              if(this.clientRect) return this.clientRect;
              var e = this.media,
                t = {
                  width: 0,
                  height: 0
                };
              if(e) {
                var r = e.getBoundingClientRect();
                t.width = r.width, t.height = r.height, t.width || t.height || (t.width = r.right - r.left || e.width || 0, t.height = r.bottom - r.top || e.height || 0)
              }
              return this.clientRect = t, t
            }, n.isLevelAllowed = function(e, t) {
              return void 0 === t && (t = []), -1 === t.indexOf(e)
            }, n.getMaxLevelByMediaSize = function(e, t, r) {
              if(!e || e && !e.length) return -1;
              for(var n, i, a = e.length - 1, o = 0; o < e.length; o += 1) {
                var s = e[o];
                if((s.width >= t || s.height >= r) && (n = s, !(i = e[o + 1]) || n.width !== i.width || n.height !== i.height)) {
                  a = o;
                  break
                }
              }
              return a
            }, i = n, o = [{
              key: "contentScaleFactor",
              get: function() {
                var e = 1;
                try {
                  e = window.devicePixelRatio
                }
                catch (e) {}
                return e
              }
            }], (a = [{
              key: "mediaWidth",
              get: function() {
                return this.getDimensions().width * n.contentScaleFactor
              }
            }, {
              key: "mediaHeight",
              get: function() {
                return this.getDimensions().height * n.contentScaleFactor
              }
            }]) && je(i.prototype, a), o && je(i, o), n
          }(f),
          He = window.performance,
          Ke = function(e) {
            var t, r;

            function n(t) {
              return e.call(this, t, l.a.MEDIA_ATTACHING) || this
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i = n.prototype;
            return i.destroy = function() {
              this.timer && clearInterval(this.timer), this.isVideoPlaybackQualityAvailable = !1
            }, i.onMediaAttaching = function(e) {
              var t = this.hls.config;
              t.capLevelOnFPSDrop && ("function" == typeof(this.video = e.media instanceof window.HTMLVideoElement ? e.media : null).getVideoPlaybackQuality && (this.isVideoPlaybackQualityAvailable = !0), clearInterval(this.timer), this.timer = setInterval(this.checkFPSInterval.bind(this), t.fpsDroppedMonitoringPeriod))
            }, i.checkFPS = function(e, t, r) {
              var n = He.now();
              if(t) {
                if(this.lastTime) {
                  var i = n - this.lastTime,
                    a = r - this.lastDroppedFrames,
                    o = t - this.lastDecodedFrames,
                    s = 1e3 * a / i,
                    u = this.hls;
                  if(u.trigger(l.a.FPS_DROP, {
                      currentDropped: a,
                      currentDecoded: o,
                      totalDroppedFrames: r
                    }), s > 0 && a > u.config.fpsDroppedMonitoringThreshold * o) {
                    var d = u.currentLevel;
                    c.b.warn("drop FPS ratio greater than max allowed value for currentLevel: " + d), d > 0 && (-1 === u.autoLevelCapping || u.autoLevelCapping >= d) && (d -= 1, u.trigger(l.a.FPS_DROP_LEVEL_CAPPING, {
                      level: d,
                      droppedLevel: u.currentLevel
                    }), u.autoLevelCapping = d, u.streamController.nextLevelSwitch())
                  }
                }
                this.lastTime = n, this.lastDroppedFrames = r, this.lastDecodedFrames = t
              }
            }, i.checkFPSInterval = function() {
              var e = this.video;
              if(e)
                if(this.isVideoPlaybackQualityAvailable) {
                  var t = e.getVideoPlaybackQuality();
                  this.checkFPS(e, t.totalVideoFrames, t.droppedVideoFrames)
                }
              else this.checkFPS(e, e.webkitDecodedFrameCount, e.webkitDroppedFrameCount)
            }, n
          }(f),
          Ve = function() {
            function e(e) {
              e && e.xhrSetup && (this.xhrSetup = e.xhrSetup)
            }
            var t = e.prototype;
            return t.destroy = function() {
              this.abort(), this.loader = null
            }, t.abort = function() {
              var e = this.loader;
              e && 4 !== e.readyState && (this.stats.aborted = !0, e.abort()), window.clearTimeout(this.requestTimeout), this.requestTimeout = null, window.clearTimeout(this.retryTimeout), this.retryTimeout = null
            }, t.load = function(e, t, r) {
              this.context = e, this.config = t, this.callbacks = r, this.stats = {
                trequest: window.performance.now(),
                retry: 0
              }, this.retryDelay = t.retryDelay, this.loadInternal()
            }, t.loadInternal = function() {
              var e, t = this.context;
              e = this.loader = new window.XMLHttpRequest;
              var r = this.stats;
              r.tfirst = 0, r.loaded = 0;
              var n = this.xhrSetup;
              try {
                if(n) try {
                  n(e, t.url)
                }
                catch (r) {
                  e.open("GET", t.url, !0), n(e, t.url)
                }
                e.readyState || e.open("GET", t.url, !0)
              }
              catch (r) {
                return void this.callbacks.onError({
                  code: e.status,
                  text: r.message
                }, t, e)
              }
              t.rangeEnd && e.setRequestHeader("Range", "bytes=" + t.rangeStart + "-" + (t.rangeEnd - 1)), e.onreadystatechange = this.readystatechange.bind(this), e.onprogress = this.loadprogress.bind(this), e.responseType = t.responseType, this.requestTimeout = window.setTimeout(this.loadtimeout.bind(this), this.config.timeout), e.send()
            }, t.readystatechange = function(e) {
              var t = e.currentTarget,
                r = t.readyState,
                n = this.stats,
                i = this.context,
                a = this.config;
              if(!n.aborted && r >= 2)
                if(window.clearTimeout(this.requestTimeout), 0 === n.tfirst && (n.tfirst = Math.max(window.performance.now(), n.trequest)), 4 === r) {
                  var o = t.status;
                  if(o >= 200 && o < 300) {
                    var s, u;
                    n.tload = Math.max(n.tfirst, window.performance.now()), u = "arraybuffer" === i.responseType ? (s = t.response).byteLength : (s = t.responseText).length, n.loaded = n.total = u;
                    var l = {
                      url: t.responseURL,
                      data: s
                    };
                    this.callbacks.onSuccess(l, n, i, t)
                  }
                  else n.retry >= a.maxRetry || o >= 400 && o < 499 ? (c.b.error(o + " while loading " + i.url), this.callbacks.onError({
                    code: o,
                    text: t.statusText
                  }, i, t)) : (c.b.warn(o + " while loading " + i.url + ", retrying in " + this.retryDelay + "..."), this.destroy(), this.retryTimeout = window.setTimeout(this.loadInternal.bind(this), this.retryDelay), this.retryDelay = Math.min(2 * this.retryDelay, a.maxRetryDelay), n.retry++)
                }
              else this.requestTimeout = window.setTimeout(this.loadtimeout.bind(this), a.timeout)
            }, t.loadtimeout = function() {
              c.b.warn("timeout while loading " + this.context.url), this.callbacks.onTimeout(this.stats, this.context, null)
            }, t.loadprogress = function(e) {
              var t = e.currentTarget,
                r = this.stats;
              r.loaded = e.loaded, e.lengthComputable && (r.total = e.total);
              var n = this.callbacks.onProgress;
              n && n(r, this.context, null, t)
            }, e
          }(),
          qe = function(e) {
            var t, r;

            function n(t) {
              var r;
              return (r = e.call(this, t, l.a.MANIFEST_LOADING, l.a.MANIFEST_PARSED, l.a.AUDIO_TRACK_LOADED, l.a.AUDIO_TRACK_SWITCHED, l.a.LEVEL_LOADED, l.a.ERROR) || this)._trackId = -1, r._selectDefaultTrack = !0, r.tracks = [], r.trackIdBlacklist = Object.create(null), r.audioGroupId = null, r
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i, a = n.prototype;
            return a.onManifestLoading = function() {
              this.tracks = [], this._trackId = -1, this._selectDefaultTrack = !0
            }, a.onManifestParsed = function(e) {
              var t = this.tracks = e.audioTracks || [];
              this.hls.trigger(l.a.AUDIO_TRACKS_UPDATED, {
                audioTracks: t
              }), this._selectAudioGroup(this.hls.nextLoadLevel)
            }, a.onAudioTrackLoaded = function(e) {
              if(e.id >= this.tracks.length) c.b.warn("Invalid audio track id:", e.id);
              else {
                if(c.b.log("audioTrack " + e.id + " loaded"), this.tracks[e.id].details = e.details, e.details.live && !this.hasInterval()) {
                  var t = 1e3 * e.details.targetduration;
                  this.setInterval(t)
                }!e.details.live && this.hasInterval() && this.clearInterval()
              }
            }, a.onAudioTrackSwitched = function(e) {
              var t = this.tracks[e.id].groupId;
              t && this.audioGroupId !== t && (this.audioGroupId = t)
            }, a.onLevelLoaded = function(e) {
              this._selectAudioGroup(e.level)
            }, a.onError = function(e) {
              e.type === s.b.NETWORK_ERROR && (e.fatal && this.clearInterval(), e.details === s.a.AUDIO_TRACK_LOAD_ERROR && (c.b.warn("Network failure on audio-track id:", e.context.id), this._handleLoadError()))
            }, a._setAudioTrack = function(e) {
              if(this._trackId === e && this.tracks[this._trackId].details) c.b.debug("Same id as current audio-track passed, and track details available -> no-op");
              else if(e < 0 || e >= this.tracks.length) c.b.warn("Invalid id passed to audio-track controller");
              else {
                var t = this.tracks[e];
                c.b.log("Now switching to audio-track index " + e), this.clearInterval(), this._trackId = e;
                var r = t.url,
                  n = t.type,
                  i = t.id;
                this.hls.trigger(l.a.AUDIO_TRACK_SWITCHING, {
                  id: i,
                  type: n,
                  url: r
                }), this._loadTrackDetailsIfNeeded(t)
              }
            }, a.doTick = function() {
              this._updateTrack(this._trackId)
            }, a._selectAudioGroup = function(e) {
              var t = this.hls.levels[e];
              if(t && t.audioGroupIds) {
                var r = t.audioGroupIds[t.urlId];
                this.audioGroupId !== r && (this.audioGroupId = r, this._selectInitialAudioTrack())
              }
            }, a._selectInitialAudioTrack = function() {
              var e = this,
                t = this.tracks;
              if(t.length) {
                var r = this.tracks[this._trackId],
                  n = null;
                if(r && (n = r.name), this._selectDefaultTrack) {
                  var i = t.filter((function(e) {
                    return e.default
                  }));
                  i.length ? t = i : c.b.warn("No default audio tracks defined")
                }
                var a = !1,
                  o = function() {
                    t.forEach((function(t) {
                      a || e.audioGroupId && t.groupId !== e.audioGroupId || n && n !== t.name || (e._setAudioTrack(t.id), a = !0)
                    }))
                  };
                o(), a || (n = null, o()), a || (c.b.error("No track found for running audio group-ID: " + this.audioGroupId), this.hls.trigger(l.a.ERROR, {
                  type: s.b.MEDIA_ERROR,
                  details: s.a.AUDIO_TRACK_LOAD_ERROR,
                  fatal: !0
                }))
              }
            }, a._needsTrackLoading = function(e) {
              var t = e.details,
                r = e.url;
              return !(t && !t.live || !r)
            }, a._loadTrackDetailsIfNeeded = function(e) {
              if(this._needsTrackLoading(e)) {
                var t = e.url,
                  r = e.id;
                c.b.log("loading audio-track playlist for id: " + r), this.hls.trigger(l.a.AUDIO_TRACK_LOADING, {
                  url: t,
                  id: r
                })
              }
            }, a._updateTrack = function(e) {
              if(!(e < 0 || e >= this.tracks.length)) {
                this.clearInterval(), this._trackId = e, c.b.log("trying to update audio-track " + e);
                var t = this.tracks[e];
                this._loadTrackDetailsIfNeeded(t)
              }
            }, a._handleLoadError = function() {
              this.trackIdBlacklist[this._trackId] = !0;
              var e = this._trackId,
                t = this.tracks[e],
                r = t.name,
                n = t.language,
                i = t.groupId;
              c.b.warn("Loading failed on audio track id: " + e + ", group-id: " + i + ', name/language: "' + r + '" / "' + n + '"');
              for(var a = e, o = 0; o < this.tracks.length; o++)
                if(!this.trackIdBlacklist[o] && this.tracks[o].name === r) {
                  a = o;
                  break
                } a !== e ? (c.b.log("Attempting audio-track fallback id:", a, "group-id:", this.tracks[a].groupId), this._setAudioTrack(a)) : c.b.warn('No fallback audio-track found for name/language: "' + r + '" / "' + n + '"')
            }, (i = [{
              key: "audioTracks",
              get: function() {
                return this.tracks
              }
            }, {
              key: "audioTrack",
              get: function() {
                return this._trackId
              },
              set: function(e) {
                this._setAudioTrack(e), this._selectDefaultTrack = !1
              }
            }]) && function(e, t) {
              for(var r = 0; r < t.length; r++) {
                var n = t[r];
                n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
              }
            }(n.prototype, i), n
          }(fe),
          We = window.performance,
          ze = function(e) {
            var t, r;

            function n(t, r) {
              var n;
              return (n = e.call(this, t, l.a.MEDIA_ATTACHED, l.a.MEDIA_DETACHING, l.a.AUDIO_TRACKS_UPDATED, l.a.AUDIO_TRACK_SWITCHING, l.a.AUDIO_TRACK_LOADED, l.a.KEY_LOADED, l.a.FRAG_LOADED, l.a.FRAG_PARSING_INIT_SEGMENT, l.a.FRAG_PARSING_DATA, l.a.FRAG_PARSED, l.a.ERROR, l.a.BUFFER_RESET, l.a.BUFFER_CREATED, l.a.BUFFER_APPENDED, l.a.BUFFER_FLUSHED, l.a.INIT_PTS_FOUND) || this).fragmentTracker = r, n.config = t.config, n.audioCodecSwap = !1, n._state = he, n.initPTS = [], n.waitingFragment = null, n.videoTrackCC = null, n.waitingVideoCC = null, n
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i, a = n.prototype;
            return a.onInitPtsFound = function(e) {
              var t = e.id,
                r = e.frag.cc,
                n = e.initPTS;
              "main" === t && (this.initPTS[r] = n, this.videoTrackCC = r, c.b.log("InitPTS for cc: " + r + " found from main: " + n), this.state === Se && this.tick())
            }, a.startLoad = function(e) {
              if(this.tracks) {
                var t = this.lastCurrentTime;
                this.stopLoad(), this.setInterval(100), this.fragLoadError = 0, t > 0 && -1 === e ? (c.b.log("audio:override startPosition with lastCurrentTime @" + t.toFixed(3)), this.state = ve) : (this.lastCurrentTime = this.startPosition ? this.startPosition : e, this.state = pe), this.nextLoadPosition = this.startPosition = this.lastCurrentTime, this.tick()
              }
              else this.startPosition = e, this.state = he
            }, a.doTick = function() {
              var e, t, r, n = this.hls,
                i = n.config;
              switch(this.state) {
                case we:
                case "PAUSED":
                case Ae:
                  break;
                case pe:
                  this.state = _e, this.loadedmetadata = !1;
                  break;
                case ve:
                  var a = this.tracks;
                  if(!a) break;
                  if(!this.media && (this.startFragRequested || !i.startFragPrefetch)) break;
                  if(this.loadedmetadata) e = this.media.currentTime;
                  else if(void 0 === (e = this.nextLoadPosition)) break;
                  var o = this.mediaBuffer ? this.mediaBuffer : this.media,
                    s = this.videoBuffer ? this.videoBuffer : this.media,
                    d = e < i.maxBufferHole ? Math.max(2, i.maxBufferHole) : i.maxBufferHole,
                    f = j.bufferInfo(o, e, d),
                    h = j.bufferInfo(s, e, d),
                    p = f.len,
                    v = f.end,
                    g = this.fragPrevious,
                    m = Math.min(i.maxBufferLength, i.maxMaxBufferLength),
                    y = Math.max(m, h.len),
                    _ = this.audioSwitch,
                    b = this.trackId;
                  if((p < y || _) && b < a.length) {
                    if(void 0 === (r = a[b].details)) {
                      this.state = _e;
                      break
                    }
                    if(!_ && this._streamEnded(f, r)) return this.hls.trigger(l.a.BUFFER_EOS, {
                      type: "audio"
                    }), void(this.state = Te);
                    var E, A = r.fragments,
                      T = A.length,
                      w = A[0].start,
                      S = A[T - 1].start + A[T - 1].duration;
                    if(_)
                      if(r.live && !r.PTSKnown) c.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"), v = 0;
                      else if(v = e, r.PTSKnown && e < w) {
                      if(!(f.end > w || f.nextStart)) return;
                      c.b.log("alt audio track ahead of main track, seek to start of alt audio track"), this.media.currentTime = w + .05
                    }
                    if(r.initSegment && !r.initSegment.data) E = r.initSegment;
                    else if(v <= w) {
                      if(E = A[0], null !== this.videoTrackCC && E.cc !== this.videoTrackCC && (E = function(e, t) {
                          return B(e, (function(e) {
                            return e.cc < t ? 1 : e.cc > t ? -1 : 0
                          }))
                        }(A, this.videoTrackCC)), r.live && E.loadIdx && E.loadIdx === this.fragLoadIdx) {
                        var k = f.nextStart ? f.nextStart : w;
                        return c.b.log("no alt audio available @currentTime:" + this.media.currentTime + ", seeking @" + (k + .05)), void(this.media.currentTime = k + .05)
                      }
                    }
                    else {
                      var R, L = i.maxFragLookUpTolerance,
                        O = g ? A[g.sn - A[0].sn + 1] : void 0;
                      v < S ? (v > S - L && (L = 0), R = O && !se(v, L, O) ? O : B(A, (function(e) {
                        return se(v, L, e)
                      }))) : R = A[T - 1], R && (E = R, w = R.start, g && E.level === g.level && E.sn === g.sn && (E.sn < r.endSN ? (E = A[E.sn + 1 - r.startSN], this.fragmentTracker.getState(E) !== F && c.b.log("SN just loaded, load next one: " + E.sn)) : E = null))
                    }
                    E && (E.encrypted ? (c.b.log("Loading key for " + E.sn + " of [" + r.startSN + " ," + r.endSN + "],track " + b), this.state = ge, n.trigger(l.a.KEY_LOADING, {
                      frag: E
                    })) : (this.fragCurrent = E, (_ || this.fragmentTracker.getState(E) === M) && (c.b.log("Loading " + E.sn + ", cc: " + E.cc + " of [" + r.startSN + " ," + r.endSN + "],track " + b + ", " + (this.loadedmetadata ? "currentTime" : "nextLoadPosition") + ": " + e + ", bufferEnd: " + v.toFixed(3)), "initSegment" !== E.sn && (this.startFragRequested = !0), Object(u.a)(E.sn) && (this.nextLoadPosition = E.start + E.duration), n.trigger(l.a.FRAG_LOADING, {
                      frag: E
                    }), this.state = me)))
                  }
                  break;
                case _e:
                  (t = this.tracks[this.trackId]) && t.details && (this.state = ve);
                  break;
                case ye:
                  var C = We.now(),
                    D = this.retryDate,
                    x = (o = this.media) && o.seeking;
                  (!D || C >= D || x) && (c.b.log("audioStreamController: retryDate reached, switch back to IDLE state"), this.state = ve);
                  break;
                case Se:
                  var I = this.waitingFragment;
                  if(I) {
                    var P = I.frag.cc;
                    if(void 0 !== this.initPTS[P]) this.waitingFragment = null, this.state = me, this.onFragLoaded(I);
                    else if(this.videoTrackCC !== this.waitingVideoCC) c.b.log("Waiting fragment cc (" + P + ") cancelled because video is at cc " + this.videoTrackCC), this.clearWaitingFragment();
                    else {
                      var N = j.bufferInfo(this.mediaBuffer, this.media.currentTime, i.maxBufferHole);
                      se(N.end, i.maxFragLookUpTolerance, I.frag) < 0 && (c.b.log("Waiting fragment cc (" + P + ") @ " + I.frag.start + " cancelled because another fragment at " + N.end + " is needed"), this.clearWaitingFragment())
                    }
                  }
                  else this.state = ve
              }
            }, a.clearWaitingFragment = function() {
              var e = this.waitingFragment;
              e && (this.fragmentTracker.removeFragment(e.frag), this.waitingFragment = null, this.waitingVideoCC = null, this.state = ve)
            }, a.onMediaAttached = function(e) {
              var t = this.media = this.mediaBuffer = e.media;
              this.onvseeking = this.onMediaSeeking.bind(this), this.onvended = this.onMediaEnded.bind(this), t.addEventListener("seeking", this.onvseeking), t.addEventListener("ended", this.onvended);
              var r = this.config;
              this.tracks && r.autoStartLoad && this.startLoad(r.startPosition)
            }, a.onMediaDetaching = function() {
              var e = this.media;
              e && e.ended && (c.b.log("MSE detaching and video ended, reset startPosition"), this.startPosition = this.lastCurrentTime = 0), e && (e.removeEventListener("seeking", this.onvseeking), e.removeEventListener("ended", this.onvended), this.onvseeking = this.onvseeked = this.onvended = null), this.media = this.mediaBuffer = this.videoBuffer = null, this.loadedmetadata = !1, this.fragmentTracker.removeAllFragments(), this.stopLoad()
            }, a.onAudioTracksUpdated = function(e) {
              c.b.log("audio tracks updated"), this.tracks = e.audioTracks
            }, a.onAudioTrackSwitching = function(e) {
              var t = !!e.url;
              this.trackId = e.id, this.fragCurrent = null, this.clearWaitingFragment(), this.state = "PAUSED", t ? this.setInterval(100) : this.demuxer && (this.demuxer.destroy(), this.demuxer = null), t && (this.audioSwitch = !0, this.state = ve), this.tick()
            }, a.onAudioTrackLoaded = function(e) {
              var t = e.details,
                r = e.id,
                n = this.tracks[r],
                i = t.totalduration,
                a = 0;
              if(c.b.log("track " + r + " loaded [" + t.startSN + "," + t.endSN + "],duration:" + i), t.live) {
                var o = n.details;
                o && t.fragments.length > 0 ? ($(o, t), a = t.fragments[0].start, t.PTSKnown ? c.b.log("live audio playlist sliding:" + a.toFixed(3)) : c.b.log("live audio playlist - outdated PTS, unknown sliding")) : (t.PTSKnown = !1, c.b.log("live audio playlist - first load, unknown sliding"))
              }
              else t.PTSKnown = !1;
              if(n.details = t, !this.startFragRequested) {
                if(-1 === this.startPosition) {
                  var s = t.startTimeOffset;
                  Object(u.a)(s) ? (c.b.log("start time offset found in playlist, adjust startPosition to " + s), this.startPosition = s) : t.live ? (this.startPosition = this.computeLivePosition(a, t), c.b.log("compute startPosition for audio-track to " + this.startPosition)) : this.startPosition = 0
                }
                this.nextLoadPosition = this.startPosition
              }
              this.state === _e && (this.state = ve), this.tick()
            }, a.onKeyLoaded = function() {
              this.state === ge && (this.state = ve, this.tick())
            }, a.onFragLoaded = function(e) {
              var t = this.fragCurrent,
                r = e.frag;
              if(this.state === me && t && "audio" === r.type && r.level === t.level && r.sn === t.sn) {
                var n = this.tracks[this.trackId],
                  i = n.details,
                  a = i.totalduration,
                  o = t.level,
                  s = t.sn,
                  u = t.cc,
                  d = this.config.defaultAudioCodec || n.audioCodec || "mp4a.40.2",
                  f = this.stats = e.stats;
                if("initSegment" === s) this.state = ve, f.tparsed = f.tbuffered = We.now(), i.initSegment.data = e.payload, this.hls.trigger(l.a.FRAG_BUFFERED, {
                  stats: f,
                  frag: t,
                  id: "audio"
                }), this.tick();
                else {
                  this.state = be, this.appended = !1, this.demuxer || (this.demuxer = new X(this.hls, "audio"));
                  var h = this.initPTS[u],
                    p = i.initSegment ? i.initSegment.data : [];
                  void 0 !== h ? (this.pendingBuffering = !0, c.b.log("Demuxing " + s + " of [" + i.startSN + " ," + i.endSN + "],track " + o), this.demuxer.push(e.payload, p, d, null, t, a, !1, h)) : (c.b.log("Unknown video PTS for cc " + u + ", waiting for video PTS before demuxing audio frag " + s + " of [" + i.startSN + " ," + i.endSN + "],track " + o), this.waitingFragment = e, this.waitingVideoCC = this.videoTrackCC, this.state = Se)
                }
              }
              this.fragLoadError = 0
            }, a.onFragParsingInitSegment = function(e) {
              var t = this.fragCurrent,
                r = e.frag;
              if(t && "audio" === e.id && r.sn === t.sn && r.level === t.level && this.state === be) {
                var n, i = e.tracks;
                if(i.video && delete i.video, n = i.audio) {
                  n.levelCodec = n.codec, n.id = e.id, this.hls.trigger(l.a.BUFFER_CODECS, i), c.b.log("audio track:audio,container:" + n.container + ",codecs[level/parsed]=[" + n.levelCodec + "/" + n.codec + "]");
                  var a = n.initSegment;
                  if(a) {
                    var o = {
                      type: "audio",
                      data: a,
                      parent: "audio",
                      content: "initSegment"
                    };
                    this.audioSwitch ? this.pendingData = [o] : (this.appended = !0, this.pendingBuffering = !0, this.hls.trigger(l.a.BUFFER_APPENDING, o))
                  }
                  this.tick()
                }
              }
            }, a.onFragParsingData = function(e) {
              var t = this,
                r = this.fragCurrent,
                n = e.frag;
              if(r && "audio" === e.id && "audio" === e.type && n.sn === r.sn && n.level === r.level && this.state === be) {
                var i = this.trackId,
                  a = this.tracks[i],
                  o = this.hls;
                Object(u.a)(e.endPTS) || (e.endPTS = e.startPTS + r.duration, e.endDTS = e.startDTS + r.duration), r.addElementaryStream(h.AUDIO), c.b.log("parsed " + e.type + ",PTS:[" + e.startPTS.toFixed(3) + "," + e.endPTS.toFixed(3) + "],DTS:[" + e.startDTS.toFixed(3) + "/" + e.endDTS.toFixed(3) + "],nb:" + e.nb), Z(a.details, r, e.startPTS, e.endPTS);
                var d = this.media,
                  f = !1;
                if(this.audioSwitch)
                  if(d && d.readyState) {
                    var p = d.currentTime;
                    c.b.log("switching audio track : currentTime:" + p), p >= e.startPTS && (c.b.log("switching audio track : flushing all audio"), this.state = Ae, o.trigger(l.a.BUFFER_FLUSHING, {
                      startOffset: 0,
                      endOffset: Number.POSITIVE_INFINITY,
                      type: "audio"
                    }), f = !0, this.audioSwitch = !1, o.trigger(l.a.AUDIO_TRACK_SWITCHED, {
                      id: i
                    }))
                  }
                else this.audioSwitch = !1, o.trigger(l.a.AUDIO_TRACK_SWITCHED, {
                  id: i
                });
                var v = this.pendingData;
                if(!v) return c.b.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"), void o.trigger(l.a.ERROR, {
                  type: s.b.MEDIA_ERROR,
                  details: null,
                  fatal: !0
                });
                this.audioSwitch || ([e.data1, e.data2].forEach((function(t) {
                  t && t.length && v.push({
                    type: e.type,
                    data: t,
                    parent: "audio",
                    content: "data"
                  })
                })), !f && v.length && (v.forEach((function(e) {
                  t.state === be && (t.pendingBuffering = !0, t.hls.trigger(l.a.BUFFER_APPENDING, e))
                })), this.pendingData = [], this.appended = !0)), this.tick()
              }
            }, a.onFragParsed = function(e) {
              var t = this.fragCurrent,
                r = e.frag;
              t && "audio" === e.id && r.sn === t.sn && r.level === t.level && this.state === be && (this.stats.tparsed = We.now(), this.state = Ee, this._checkAppendedParsed())
            }, a.onBufferReset = function() {
              this.mediaBuffer = this.videoBuffer = null, this.loadedmetadata = !1
            }, a.onBufferCreated = function(e) {
              var t = e.tracks.audio;
              t && (this.mediaBuffer = t.buffer, this.loadedmetadata = !0), e.tracks.video && (this.videoBuffer = e.tracks.video.buffer)
            }, a.onBufferAppended = function(e) {
              if("audio" === e.parent) {
                var t = this.state;
                t !== be && t !== Ee || (this.pendingBuffering = e.pending > 0, this._checkAppendedParsed())
              }
            }, a._checkAppendedParsed = function() {
              if(!(this.state !== Ee || this.appended && this.pendingBuffering)) {
                var e = this.fragCurrent,
                  t = this.stats,
                  r = this.hls;
                if(e) {
                  this.fragPrevious = e, t.tbuffered = We.now(), r.trigger(l.a.FRAG_BUFFERED, {
                    stats: t,
                    frag: e,
                    id: "audio"
                  });
                  var n = this.mediaBuffer ? this.mediaBuffer : this.media;
                  n && c.b.log("audio buffered : " + re(n.buffered)), this.audioSwitch && this.appended && (this.audioSwitch = !1, r.trigger(l.a.AUDIO_TRACK_SWITCHED, {
                    id: this.trackId
                  })), this.state = ve
                }
                this.tick()
              }
            }, a.onError = function(e) {
              var t = e.frag;
              if(!t || "audio" === t.type) switch(e.details) {
                case s.a.FRAG_LOAD_ERROR:
                case s.a.FRAG_LOAD_TIMEOUT:
                  var r = e.frag;
                  if(r && "audio" !== r.type) break;
                  if(!e.fatal) {
                    var n = this.fragLoadError;
                    n ? n++ : n = 1;
                    var i = this.config;
                    if(n <= i.fragLoadingMaxRetry) {
                      this.fragLoadError = n;
                      var a = Math.min(Math.pow(2, n - 1) * i.fragLoadingRetryDelay, i.fragLoadingMaxRetryTimeout);
                      c.b.warn("AudioStreamController: frag loading failed, retry in " + a + " ms"), this.retryDate = We.now() + a, this.state = ye
                    }
                    else c.b.error("AudioStreamController: " + e.details + " reaches max retry, redispatch as fatal ..."), e.fatal = !0, this.state = we
                  }
                  break;
                case s.a.AUDIO_TRACK_LOAD_ERROR:
                case s.a.AUDIO_TRACK_LOAD_TIMEOUT:
                case s.a.KEY_LOAD_ERROR:
                case s.a.KEY_LOAD_TIMEOUT:
                  this.state !== we && (this.state = e.fatal ? we : ve, c.b.warn("AudioStreamController: " + e.details + " while loading frag, now switching to " + this.state + " state ..."));
                  break;
                case s.a.BUFFER_FULL_ERROR:
                  if("audio" === e.parent && (this.state === be || this.state === Ee)) {
                    var o = this.mediaBuffer,
                      u = this.media.currentTime;
                    if(o && j.isBuffered(o, u) && j.isBuffered(o, u + .5)) {
                      var d = this.config;
                      d.maxMaxBufferLength >= d.maxBufferLength && (d.maxMaxBufferLength /= 2, c.b.warn("AudioStreamController: reduce max buffer length to " + d.maxMaxBufferLength + "s")), this.state = ve
                    }
                    else c.b.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"), this.fragCurrent = null, this.state = Ae, this.hls.trigger(l.a.BUFFER_FLUSHING, {
                      startOffset: 0,
                      endOffset: Number.POSITIVE_INFINITY,
                      type: "audio"
                    })
                  }
              }
            }, a.onBufferFlushed = function() {
              var e = this,
                t = this.pendingData;
              t && t.length ? (c.b.log("AudioStreamController: appending pending audio data after buffer flushed"), t.forEach((function(t) {
                e.hls.trigger(l.a.BUFFER_APPENDING, t)
              })), this.appended = !0, this.pendingData = [], this.state = Ee) : (this.state = ve, this.fragPrevious = null, this.tick())
            }, (i = [{
              key: "state",
              set: function(e) {
                if(this.state !== e) {
                  var t = this.state;
                  this._state = e, c.b.log("audio stream:" + t + "->" + e)
                }
              },
              get: function() {
                return this._state
              }
            }]) && function(e, t) {
              for(var r = 0; r < t.length; r++) {
                var n = t[r];
                n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
              }
            }(n.prototype, i), n
          }(Re),
          Ye = function() {
            if("undefined" != typeof window && window.VTTCue) return window.VTTCue;
            var e = {
                "": !0,
                lr: !0,
                rl: !0
              },
              t = {
                start: !0,
                middle: !0,
                end: !0,
                left: !0,
                right: !0
              };

            function r(e) {
              return "string" == typeof e && !!t[e.toLowerCase()] && e.toLowerCase()
            }

            function n(e) {
              for(var t = 1; t < arguments.length; t++) {
                var r = arguments[t];
                for(var n in r) e[n] = r[n]
              }
              return e
            }

            function i(t, i, a) {
              var o = this,
                s = {
                  enumerable: !0
                };
              o.hasBeenReset = !1;
              var u = "",
                l = !1,
                c = t,
                d = i,
                f = a,
                h = null,
                p = "",
                v = !0,
                g = "auto",
                m = "start",
                y = 50,
                _ = "middle",
                b = 50,
                E = "middle";
              Object.defineProperty(o, "id", n({}, s, {
                get: function() {
                  return u
                },
                set: function(e) {
                  u = "" + e
                }
              })), Object.defineProperty(o, "pauseOnExit", n({}, s, {
                get: function() {
                  return l
                },
                set: function(e) {
                  l = !!e
                }
              })), Object.defineProperty(o, "startTime", n({}, s, {
                get: function() {
                  return c
                },
                set: function(e) {
                  if("number" != typeof e) throw new TypeError("Start time must be set to a number.");
                  c = e, this.hasBeenReset = !0
                }
              })), Object.defineProperty(o, "endTime", n({}, s, {
                get: function() {
                  return d
                },
                set: function(e) {
                  if("number" != typeof e) throw new TypeError("End time must be set to a number.");
                  d = e, this.hasBeenReset = !0
                }
              })), Object.defineProperty(o, "text", n({}, s, {
                get: function() {
                  return f
                },
                set: function(e) {
                  f = "" + e, this.hasBeenReset = !0
                }
              })), Object.defineProperty(o, "region", n({}, s, {
                get: function() {
                  return h
                },
                set: function(e) {
                  h = e, this.hasBeenReset = !0
                }
              })), Object.defineProperty(o, "vertical", n({}, s, {
                get: function() {
                  return p
                },
                set: function(t) {
                  var r = function(t) {
                    return "string" == typeof t && !!e[t.toLowerCase()] && t.toLowerCase()
                  }(t);
                  if(!1 === r) throw new SyntaxError("An invalid or illegal string was specified.");
                  p = r, this.hasBeenReset = !0
                }
              })), Object.defineProperty(o, "snapToLines", n({}, s, {
                get: function() {
                  return v
                },
                set: function(e) {
                  v = !!e, this.hasBeenReset = !0
                }
              })), Object.defineProperty(o, "line", n({}, s, {
                get: function() {
                  return g
                },
                set: function(e) {
                  if("number" != typeof e && "auto" !== e) throw new SyntaxError("An invalid number or illegal string was specified.");
                  g = e, this.hasBeenReset = !0
                }
              })), Object.defineProperty(o, "lineAlign", n({}, s, {
                get: function() {
                  return m
                },
                set: function(e) {
                  var t = r(e);
                  if(!t) throw new SyntaxError("An invalid or illegal string was specified.");
                  m = t, this.hasBeenReset = !0
                }
              })), Object.defineProperty(o, "position", n({}, s, {
                get: function() {
                  return y
                },
                set: function(e) {
                  if(e < 0 || e > 100) throw new Error("Position must be between 0 and 100.");
                  y = e, this.hasBeenReset = !0
                }
              })), Object.defineProperty(o, "positionAlign", n({}, s, {
                get: function() {
                  return _
                },
                set: function(e) {
                  var t = r(e);
                  if(!t) throw new SyntaxError("An invalid or illegal string was specified.");
                  _ = t, this.hasBeenReset = !0
                }
              })), Object.defineProperty(o, "size", n({}, s, {
                get: function() {
                  return b
                },
                set: function(e) {
                  if(e < 0 || e > 100) throw new Error("Size must be between 0 and 100.");
                  b = e, this.hasBeenReset = !0
                }
              })), Object.defineProperty(o, "align", n({}, s, {
                get: function() {
                  return E
                },
                set: function(e) {
                  var t = r(e);
                  if(!t) throw new SyntaxError("An invalid or illegal string was specified.");
                  E = t, this.hasBeenReset = !0
                }
              })), o.displayState = void 0
            }
            return i.prototype.getCueAsHTML = function() {
              return window.WebVTT.convertCueToDOMTree(window, this.text)
            }, i
          }(),
          Xe = function() {
            return {
              decode: function(e) {
                if(!e) return "";
                if("string" != typeof e) throw new Error("Error - expected string data.");
                return decodeURIComponent(encodeURIComponent(e))
              }
            }
          };

        function Qe() {
          this.window = window, this.state = "INITIAL", this.buffer = "", this.decoder = new Xe, this.regionList = []
        }

        function Je() {
          this.values = Object.create(null)
        }

        function Ze(e, t, r, n) {
          var i = n ? e.split(n) : [e];
          for(var a in i)
            if("string" == typeof i[a]) {
              var o = i[a].split(r);
              2 === o.length && t(o[0], o[1])
            }
        }
        Je.prototype = {
          set: function(e, t) {
            this.get(e) || "" === t || (this.values[e] = t)
          },
          get: function(e, t, r) {
            return r ? this.has(e) ? this.values[e] : t[r] : this.has(e) ? this.values[e] : t
          },
          has: function(e) {
            return e in this.values
          },
          alt: function(e, t, r) {
            for(var n = 0; n < r.length; ++n)
              if(t === r[n]) {
                this.set(e, t);
                break
              }
          },
          integer: function(e, t) {
            /^-?\d+$/.test(t) && this.set(e, parseInt(t, 10))
          },
          percent: function(e, t) {
            return !!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/) && (t = parseFloat(t)) >= 0 && t <= 100) && (this.set(e, t), !0)
          }
        };
        var $e = new Ye(0, 0, 0),
          et = "middle" === $e.align ? "middle" : "center";

        function tt(e, t, r) {
          var n = e;

          function i() {
            var t = function(e) {
              function t(e, t, r, n) {
                return 3600 * (0 | e) + 60 * (0 | t) + (0 | r) + (0 | n) / 1e3
              }
              var r = e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);
              return r ? r[3] ? t(r[1], r[2], r[3].replace(":", ""), r[4]) : r[1] > 59 ? t(r[1], r[2], 0, r[4]) : t(0, r[1], r[2], r[4]) : null
            }(e);
            if(null === t) throw new Error("Malformed timestamp: " + n);
            return e = e.replace(/^[^\sa-zA-Z-]+/, ""), t
          }

          function a() {
            e = e.replace(/^\s+/, "")
          }
          if(a(), t.startTime = i(), a(), "--\x3e" !== e.substr(0, 3)) throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): " + n);
          e = e.substr(3), a(), t.endTime = i(), a(),
            function(e, t) {
              var n = new Je;
              Ze(e, (function(e, t) {
                switch(e) {
                  case "region":
                    for(var i = r.length - 1; i >= 0; i--)
                      if(r[i].id === t) {
                        n.set(e, r[i].region);
                        break
                      } break;
                  case "vertical":
                    n.alt(e, t, ["rl", "lr"]);
                    break;
                  case "line":
                    var a = t.split(","),
                      o = a[0];
                    n.integer(e, o), n.percent(e, o) && n.set("snapToLines", !1), n.alt(e, o, ["auto"]), 2 === a.length && n.alt("lineAlign", a[1], ["start", et, "end"]);
                    break;
                  case "position":
                    a = t.split(","), n.percent(e, a[0]), 2 === a.length && n.alt("positionAlign", a[1], ["start", et, "end", "line-left", "line-right", "auto"]);
                    break;
                  case "size":
                    n.percent(e, t);
                    break;
                  case "align":
                    n.alt(e, t, ["start", et, "end", "left", "right"])
                }
              }), /:/, /\s/), t.region = n.get("region", null), t.vertical = n.get("vertical", "");
              var i = n.get("line", "auto");
              "auto" === i && -1 === $e.line && (i = -1), t.line = i, t.lineAlign = n.get("lineAlign", "start"), t.snapToLines = n.get("snapToLines", !0), t.size = n.get("size", 100), t.align = n.get("align", et);
              var a = n.get("position", "auto");
              "auto" === a && 50 === $e.position && (a = "start" === t.align || "left" === t.align ? 0 : "end" === t.align || "right" === t.align ? 100 : 50), t.position = a
            }(e, t)
        }

        function rt(e) {
          return e.replace(/<br(?: \/)?>/gi, "\n")
        }
        Qe.prototype = {
          parse: function(e) {
            var t = this;

            function r() {
              var e = t.buffer,
                r = 0;
              for(e = rt(e); r < e.length && "\r" !== e[r] && "\n" !== e[r];) ++r;
              var n = e.substr(0, r);
              return "\r" === e[r] && ++r, "\n" === e[r] && ++r, t.buffer = e.substr(r), n
            }
            e && (t.buffer += t.decoder.decode(e, {
              stream: !0
            }));
            try {
              var n;
              if("INITIAL" === t.state) {
                if(!/\r\n|\n/.test(t.buffer)) return this;
                var i = (n = r()).match(/^()?WEBVTT([ \t].*)?$/);
                if(!i || !i[0]) throw new Error("Malformed WebVTT signature.");
                t.state = "HEADER"
              }
              for(var a = !1; t.buffer;) {
                if(!/\r\n|\n/.test(t.buffer)) return this;
                switch(a ? a = !1 : n = r(), t.state) {
                  case "HEADER":
                    /:/.test(n) ? Ze(n, (function(e, t) {}), /:/) : n || (t.state = "ID");
                    continue;
                  case "NOTE":
                    n || (t.state = "ID");
                    continue;
                  case "ID":
                    if(/^NOTE($|[ \t])/.test(n)) {
                      t.state = "NOTE";
                      break
                    }
                    if(!n) continue;
                    if(t.cue = new Ye(0, 0, ""), t.state = "CUE", -1 === n.indexOf("--\x3e")) {
                      t.cue.id = n;
                      continue
                    }
                    case "CUE":
                      try {
                        tt(n, t.cue, t.regionList)
                      }
                      catch (e) {
                        t.cue = null, t.state = "BADCUE";
                        continue
                      }
                      t.state = "CUETEXT";
                      continue;
                    case "CUETEXT":
                      var o = -1 !== n.indexOf("--\x3e");
                      if(!n || o && (a = !0)) {
                        t.oncue && t.oncue(t.cue), t.cue = null, t.state = "ID";
                        continue
                      }
                      t.cue.text && (t.cue.text += "\n"), t.cue.text += n;
                      continue;
                    case "BADCUE":
                      n || (t.state = "ID");
                      continue
                }
              }
            }
            catch (e) {
              "CUETEXT" === t.state && t.cue && t.oncue && t.oncue(t.cue), t.cue = null, t.state = "INITIAL" === t.state ? "BADWEBVTT" : "BADCUE"
            }
            return this
          },
          flush: function() {
            try {
              if(this.buffer += this.decoder.decode(), (this.cue || "HEADER" === this.state) && (this.buffer += "\n\n", this.parse()), "INITIAL" === this.state) throw new Error("Malformed WebVTT signature.")
            }
            catch (e) {
              throw e
            }
            return this.onflush && this.onflush(), this
          }
        };
        var nt = Qe;

        function it(e, t, r, n) {
          for(var i, a, o, s, u, l = [], c = window.VTTCue || TextTrackCue, d = 0; d < n.rows.length; d++)
            if(o = !0, s = 0, u = "", !(i = n.rows[d]).isEmpty()) {
              for(var f = 0; f < i.chars.length; f++) i.chars[f].uchar.match(/\s/) && o ? s++ : (u += i.chars[f].uchar, o = !1);
              i.cueStartTime = t, t === r && (r += 1e-4), a = new c(t, r, rt(u.trim())), s >= 16 ? s-- : s++, navigator.userAgent.match(/Firefox\//) ? a.line = d + 1 : a.line = d > 7 ? d - 2 : d + 1, a.align = "left", a.position = Math.max(0, Math.min(100, s / 32 * 100)), l.push(a), e && e.addCue(a)
            } return l
        }
        var at, ot = {
            42: 225,
            92: 233,
            94: 237,
            95: 243,
            96: 250,
            123: 231,
            124: 247,
            125: 209,
            126: 241,
            127: 9608,
            128: 174,
            129: 176,
            130: 189,
            131: 191,
            132: 8482,
            133: 162,
            134: 163,
            135: 9834,
            136: 224,
            137: 32,
            138: 232,
            139: 226,
            140: 234,
            141: 238,
            142: 244,
            143: 251,
            144: 193,
            145: 201,
            146: 211,
            147: 218,
            148: 220,
            149: 252,
            150: 8216,
            151: 161,
            152: 42,
            153: 8217,
            154: 9473,
            155: 169,
            156: 8480,
            157: 8226,
            158: 8220,
            159: 8221,
            160: 192,
            161: 194,
            162: 199,
            163: 200,
            164: 202,
            165: 203,
            166: 235,
            167: 206,
            168: 207,
            169: 239,
            170: 212,
            171: 217,
            172: 249,
            173: 219,
            174: 171,
            175: 187,
            176: 195,
            177: 227,
            178: 205,
            179: 204,
            180: 236,
            181: 210,
            182: 242,
            183: 213,
            184: 245,
            185: 123,
            186: 125,
            187: 92,
            188: 94,
            189: 95,
            190: 124,
            191: 8764,
            192: 196,
            193: 228,
            194: 214,
            195: 246,
            196: 223,
            197: 165,
            198: 164,
            199: 9475,
            200: 197,
            201: 229,
            202: 216,
            203: 248,
            204: 9487,
            205: 9491,
            206: 9495,
            207: 9499
          },
          st = function(e) {
            var t = e;
            return ot.hasOwnProperty(e) && (t = ot[e]), String.fromCharCode(t)
          },
          ut = {
            17: 1,
            18: 3,
            21: 5,
            22: 7,
            23: 9,
            16: 11,
            19: 12,
            20: 14
          },
          lt = {
            17: 2,
            18: 4,
            21: 6,
            22: 8,
            23: 10,
            19: 13,
            20: 15
          },
          ct = {
            25: 1,
            26: 3,
            29: 5,
            30: 7,
            31: 9,
            24: 11,
            27: 12,
            28: 14
          },
          dt = {
            25: 2,
            26: 4,
            29: 6,
            30: 8,
            31: 10,
            27: 13,
            28: 15
          },
          ft = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "black", "transparent"];
        ! function(e) {
          e[e.ERROR = 0] = "ERROR", e[e.TEXT = 1] = "TEXT", e[e.WARNING = 2] = "WARNING", e[e.INFO = 2] = "INFO", e[e.DEBUG = 3] = "DEBUG", e[e.DATA = 3] = "DATA"
        }(at || (at = {}));
        var ht = function() {
            function e() {
              this.time = null, this.verboseLevel = at.ERROR
            }
            return e.prototype.log = function(e, t) {
              this.verboseLevel >= e && c.b.log(this.time + " [" + e + "] " + t)
            }, e
          }(),
          pt = function(e) {
            for(var t = [], r = 0; r < e.length; r++) t.push(e[r].toString(16));
            return t
          },
          vt = function() {
            function e(e, t, r, n, i) {
              this.foreground = void 0, this.underline = void 0, this.italics = void 0, this.background = void 0, this.flash = void 0, this.foreground = e || "white", this.underline = t || !1, this.italics = r || !1, this.background = n || "black", this.flash = i || !1
            }
            var t = e.prototype;
            return t.reset = function() {
              this.foreground = "white", this.underline = !1, this.italics = !1, this.background = "black", this.flash = !1
            }, t.setStyles = function(e) {
              for(var t = ["foreground", "underline", "italics", "background", "flash"], r = 0; r < t.length; r++) {
                var n = t[r];
                e.hasOwnProperty(n) && (this[n] = e[n])
              }
            }, t.isDefault = function() {
              return "white" === this.foreground && !this.underline && !this.italics && "black" === this.background && !this.flash
            }, t.equals = function(e) {
              return this.foreground === e.foreground && this.underline === e.underline && this.italics === e.italics && this.background === e.background && this.flash === e.flash
            }, t.copy = function(e) {
              this.foreground = e.foreground, this.underline = e.underline, this.italics = e.italics, this.background = e.background, this.flash = e.flash
            }, t.toString = function() {
              return "color=" + this.foreground + ", underline=" + this.underline + ", italics=" + this.italics + ", background=" + this.background + ", flash=" + this.flash
            }, e
          }(),
          gt = function() {
            function e(e, t, r, n, i, a) {
              this.uchar = void 0, this.penState = void 0, this.uchar = e || " ", this.penState = new vt(t, r, n, i, a)
            }
            var t = e.prototype;
            return t.reset = function() {
              this.uchar = " ", this.penState.reset()
            }, t.setChar = function(e, t) {
              this.uchar = e, this.penState.copy(t)
            }, t.setPenState = function(e) {
              this.penState.copy(e)
            }, t.equals = function(e) {
              return this.uchar === e.uchar && this.penState.equals(e.penState)
            }, t.copy = function(e) {
              this.uchar = e.uchar, this.penState.copy(e.penState)
            }, t.isEmpty = function() {
              return " " === this.uchar && this.penState.isDefault()
            }, e
          }(),
          mt = function() {
            function e(e) {
              this.chars = void 0, this.pos = void 0, this.currPenState = void 0, this.cueStartTime = void 0, this.logger = void 0, this.chars = [];
              for(var t = 0; t < 100; t++) this.chars.push(new gt);
              this.logger = e, this.pos = 0, this.currPenState = new vt
            }
            var t = e.prototype;
            return t.equals = function(e) {
              for(var t = !0, r = 0; r < 100; r++)
                if(!this.chars[r].equals(e.chars[r])) {
                  t = !1;
                  break
                } return t
            }, t.copy = function(e) {
              for(var t = 0; t < 100; t++) this.chars[t].copy(e.chars[t])
            }, t.isEmpty = function() {
              for(var e = !0, t = 0; t < 100; t++)
                if(!this.chars[t].isEmpty()) {
                  e = !1;
                  break
                } return e
            }, t.setCursor = function(e) {
              this.pos !== e && (this.pos = e), this.pos < 0 ? (this.logger.log(at.DEBUG, "Negative cursor position " + this.pos), this.pos = 0) : this.pos > 100 && (this.logger.log(at.DEBUG, "Too large cursor position " + this.pos), this.pos = 100)
            }, t.moveCursor = function(e) {
              var t = this.pos + e;
              if(e > 1)
                for(var r = this.pos + 1; r < t + 1; r++) this.chars[r].setPenState(this.currPenState);
              this.setCursor(t)
            }, t.backSpace = function() {
              this.moveCursor(-1), this.chars[this.pos].setChar(" ", this.currPenState)
            }, t.insertChar = function(e) {
              e >= 144 && this.backSpace();
              var t = st(e);
              this.pos >= 100 ? this.logger.log(at.ERROR, "Cannot insert " + e.toString(16) + " (" + t + ") at position " + this.pos + ". Skipping it!") : (this.chars[this.pos].setChar(t, this.currPenState), this.moveCursor(1))
            }, t.clearFromPos = function(e) {
              var t;
              for(t = e; t < 100; t++) this.chars[t].reset()
            }, t.clear = function() {
              this.clearFromPos(0), this.pos = 0, this.currPenState.reset()
            }, t.clearToEndOfRow = function() {
              this.clearFromPos(this.pos)
            }, t.getTextString = function() {
              for(var e = [], t = !0, r = 0; r < 100; r++) {
                var n = this.chars[r].uchar;
                " " !== n && (t = !1), e.push(n)
              }
              return t ? "" : e.join("")
            }, t.setPenStyles = function(e) {
              this.currPenState.setStyles(e), this.chars[this.pos].setPenState(this.currPenState)
            }, e
          }(),
          yt = function() {
            function e(e) {
              this.rows = void 0, this.currRow = void 0, this.nrRollUpRows = void 0, this.lastOutputScreen = void 0, this.logger = void 0, this.rows = [];
              for(var t = 0; t < 15; t++) this.rows.push(new mt(e));
              this.logger = e, this.currRow = 14, this.nrRollUpRows = null, this.lastOutputScreen = null, this.reset()
            }
            var t = e.prototype;
            return t.reset = function() {
              for(var e = 0; e < 15; e++) this.rows[e].clear();
              this.currRow = 14
            }, t.equals = function(e) {
              for(var t = !0, r = 0; r < 15; r++)
                if(!this.rows[r].equals(e.rows[r])) {
                  t = !1;
                  break
                } return t
            }, t.copy = function(e) {
              for(var t = 0; t < 15; t++) this.rows[t].copy(e.rows[t])
            }, t.isEmpty = function() {
              for(var e = !0, t = 0; t < 15; t++)
                if(!this.rows[t].isEmpty()) {
                  e = !1;
                  break
                } return e
            }, t.backSpace = function() {
              this.rows[this.currRow].backSpace()
            }, t.clearToEndOfRow = function() {
              this.rows[this.currRow].clearToEndOfRow()
            }, t.insertChar = function(e) {
              this.rows[this.currRow].insertChar(e)
            }, t.setPen = function(e) {
              this.rows[this.currRow].setPenStyles(e)
            }, t.moveCursor = function(e) {
              this.rows[this.currRow].moveCursor(e)
            }, t.setCursor = function(e) {
              this.logger.log(at.INFO, "setCursor: " + e), this.rows[this.currRow].setCursor(e)
            }, t.setPAC = function(e) {
              this.logger.log(at.INFO, "pacData = " + JSON.stringify(e));
              var t = e.row - 1;
              if(this.nrRollUpRows && t < this.nrRollUpRows - 1 && (t = this.nrRollUpRows - 1), this.nrRollUpRows && this.currRow !== t) {
                for(var r = 0; r < 15; r++) this.rows[r].clear();
                var n = this.currRow + 1 - this.nrRollUpRows,
                  i = this.lastOutputScreen;
                if(i) {
                  var a = i.rows[n].cueStartTime,
                    o = this.logger.time;
                  if(a && null !== o && a < o)
                    for(var s = 0; s < this.nrRollUpRows; s++) this.rows[t - this.nrRollUpRows + s + 1].copy(i.rows[n + s])
                }
              }
              this.currRow = t;
              var u = this.rows[this.currRow];
              if(null !== e.indent) {
                var l = e.indent,
                  c = Math.max(l - 1, 0);
                u.setCursor(e.indent), e.color = u.chars[c].penState.foreground
              }
              var d = {
                foreground: e.color,
                underline: e.underline,
                italics: e.italics,
                background: "black",
                flash: !1
              };
              this.setPen(d)
            }, t.setBkgData = function(e) {
              this.logger.log(at.INFO, "bkgData = " + JSON.stringify(e)), this.backSpace(), this.setPen(e), this.insertChar(32)
            }, t.setRollUpRows = function(e) {
              this.nrRollUpRows = e
            }, t.rollUp = function() {
              if(null !== this.nrRollUpRows) {
                this.logger.log(at.TEXT, this.getDisplayText());
                var e = this.currRow + 1 - this.nrRollUpRows,
                  t = this.rows.splice(e, 1)[0];
                t.clear(), this.rows.splice(this.currRow, 0, t), this.logger.log(at.INFO, "Rolling up")
              }
              else this.logger.log(at.DEBUG, "roll_up but nrRollUpRows not set yet")
            }, t.getDisplayText = function(e) {
              e = e || !1;
              for(var t = [], r = "", n = -1, i = 0; i < 15; i++) {
                var a = this.rows[i].getTextString();
                a && (n = i + 1, e ? t.push("Row " + n + ": '" + a + "'") : t.push(a.trim()))
              }
              return t.length > 0 && (r = e ? "[" + t.join(" | ") + "]" : t.join("\n")), r
            }, t.getTextAndFormat = function() {
              return this.rows
            }, e
          }(),
          _t = function() {
            function e(e, t, r) {
              this.chNr = void 0, this.outputFilter = void 0, this.mode = void 0, this.verbose = void 0, this.displayedMemory = void 0, this.nonDisplayedMemory = void 0, this.lastOutputScreen = void 0, this.currRollUpRow = void 0, this.writeScreen = void 0, this.cueStartTime = void 0, this.logger = void 0, this.chNr = e, this.outputFilter = t, this.mode = null, this.verbose = 0, this.displayedMemory = new yt(r), this.nonDisplayedMemory = new yt(r), this.lastOutputScreen = new yt(r), this.currRollUpRow = this.displayedMemory.rows[14], this.writeScreen = this.displayedMemory, this.mode = null, this.cueStartTime = null, this.logger = r
            }
            var t = e.prototype;
            return t.reset = function() {
              this.mode = null, this.displayedMemory.reset(), this.nonDisplayedMemory.reset(), this.lastOutputScreen.reset(), this.outputFilter.reset(), this.currRollUpRow = this.displayedMemory.rows[14], this.writeScreen = this.displayedMemory, this.mode = null, this.cueStartTime = null
            }, t.getHandler = function() {
              return this.outputFilter
            }, t.setHandler = function(e) {
              this.outputFilter = e
            }, t.setPAC = function(e) {
              this.writeScreen.setPAC(e)
            }, t.setBkgData = function(e) {
              this.writeScreen.setBkgData(e)
            }, t.setMode = function(e) {
              e !== this.mode && (this.mode = e, this.logger.log(at.INFO, "MODE=" + e), "MODE_POP-ON" === this.mode ? this.writeScreen = this.nonDisplayedMemory : (this.writeScreen = this.displayedMemory, this.writeScreen.reset()), "MODE_ROLL-UP" !== this.mode && (this.displayedMemory.nrRollUpRows = null, this.nonDisplayedMemory.nrRollUpRows = null), this.mode = e)
            }, t.insertChars = function(e) {
              for(var t = 0; t < e.length; t++) this.writeScreen.insertChar(e[t]);
              var r = this.writeScreen === this.displayedMemory ? "DISP" : "NON_DISP";
              this.logger.log(at.INFO, r + ": " + this.writeScreen.getDisplayText(!0)), "MODE_PAINT-ON" !== this.mode && "MODE_ROLL-UP" !== this.mode || (this.logger.log(at.TEXT, "DISPLAYED: " + this.displayedMemory.getDisplayText(!0)), this.outputDataUpdate())
            }, t.ccRCL = function() {
              this.logger.log(at.INFO, "RCL - Resume Caption Loading"), this.setMode("MODE_POP-ON")
            }, t.ccBS = function() {
              this.logger.log(at.INFO, "BS - BackSpace"), "MODE_TEXT" !== this.mode && (this.writeScreen.backSpace(), this.writeScreen === this.displayedMemory && this.outputDataUpdate())
            }, t.ccAOF = function() {}, t.ccAON = function() {}, t.ccDER = function() {
              this.logger.log(at.INFO, "DER- Delete to End of Row"), this.writeScreen.clearToEndOfRow(), this.outputDataUpdate()
            }, t.ccRU = function(e) {
              this.logger.log(at.INFO, "RU(" + e + ") - Roll Up"), this.writeScreen = this.displayedMemory, this.setMode("MODE_ROLL-UP"), this.writeScreen.setRollUpRows(e)
            }, t.ccFON = function() {
              this.logger.log(at.INFO, "FON - Flash On"), this.writeScreen.setPen({
                flash: !0
              })
            }, t.ccRDC = function() {
              this.logger.log(at.INFO, "RDC - Resume Direct Captioning"), this.setMode("MODE_PAINT-ON")
            }, t.ccTR = function() {
              this.logger.log(at.INFO, "TR"), this.setMode("MODE_TEXT")
            }, t.ccRTD = function() {
              this.logger.log(at.INFO, "RTD"), this.setMode("MODE_TEXT")
            }, t.ccEDM = function() {
              this.logger.log(at.INFO, "EDM - Erase Displayed Memory"), this.displayedMemory.reset(), this.outputDataUpdate(!0)
            }, t.ccCR = function() {
              this.logger.log(at.INFO, "CR - Carriage Return"), this.writeScreen.rollUp(), this.outputDataUpdate(!0)
            }, t.ccENM = function() {
              this.logger.log(at.INFO, "ENM - Erase Non-displayed Memory"), this.nonDisplayedMemory.reset()
            }, t.ccEOC = function() {
              if(this.logger.log(at.INFO, "EOC - End Of Caption"), "MODE_POP-ON" === this.mode) {
                var e = this.displayedMemory;
                this.displayedMemory = this.nonDisplayedMemory, this.nonDisplayedMemory = e, this.writeScreen = this.nonDisplayedMemory, this.logger.log(at.TEXT, "DISP: " + this.displayedMemory.getDisplayText())
              }
              this.outputDataUpdate(!0)
            }, t.ccTO = function(e) {
              this.logger.log(at.INFO, "TO(" + e + ") - Tab Offset"), this.writeScreen.moveCursor(e)
            }, t.ccMIDROW = function(e) {
              var t = {
                flash: !1
              };
              if(t.underline = e % 2 == 1, t.italics = e >= 46, t.italics) t.foreground = "white";
              else {
                var r = Math.floor(e / 2) - 16;
                t.foreground = ["white", "green", "blue", "cyan", "red", "yellow", "magenta"][r]
              }
              this.logger.log(at.INFO, "MIDROW: " + JSON.stringify(t)), this.writeScreen.setPen(t)
            }, t.outputDataUpdate = function(e) {
              void 0 === e && (e = !1);
              var t = this.logger.time;
              null !== t && this.outputFilter && (null !== this.cueStartTime || this.displayedMemory.isEmpty() ? this.displayedMemory.equals(this.lastOutputScreen) || (this.outputFilter.newCue(this.cueStartTime, t, this.lastOutputScreen), e && this.outputFilter.dispatchCue && this.outputFilter.dispatchCue(), this.cueStartTime = this.displayedMemory.isEmpty() ? null : t) : this.cueStartTime = t, this.lastOutputScreen.copy(this.displayedMemory))
            }, t.cueSplitAtTime = function(e) {
              this.outputFilter && (this.displayedMemory.isEmpty() || (this.outputFilter.newCue && this.outputFilter.newCue(this.cueStartTime, e, this.displayedMemory), this.cueStartTime = e))
            }, e
          }();

        function bt(e, t, r) {
          r.a = e, r.b = t
        }

        function Et(e, t, r) {
          return r.a === e && r.b === t
        }
        var At = function() {
            function e(e, t, r) {
              this.channels = void 0, this.currentChannel = 0, this.cmdHistory = void 0, this.logger = void 0;
              var n = new ht;
              this.channels = [null, new _t(e, t, n), new _t(e + 1, r, n)], this.cmdHistory = {
                a: null,
                b: null
              }, this.logger = n
            }
            var t = e.prototype;
            return t.getHandler = function(e) {
              return this.channels[e].getHandler()
            }, t.setHandler = function(e, t) {
              this.channels[e].setHandler(t)
            }, t.addData = function(e, t) {
              var r, n, i, a = !1;
              this.logger.time = e;
              for(var o = 0; o < t.length; o += 2)
                if(n = 127 & t[o], i = 127 & t[o + 1], 0 !== n || 0 !== i) {
                  if(this.logger.log(at.DATA, "[" + pt([t[o], t[o + 1]]) + "] -> (" + pt([n, i]) + ")"), (r = this.parseCmd(n, i)) || (r = this.parseMidrow(n, i)), r || (r = this.parsePAC(n, i)), r || (r = this.parseBackgroundAttributes(n, i)), !r && (a = this.parseChars(n, i))) {
                    var s = this.currentChannel;
                    s && s > 0 ? this.channels[s].insertChars(a) : this.logger.log(at.WARNING, "No channel found yet. TEXT-MODE?")
                  }
                  r || a || this.logger.log(at.WARNING, "Couldn't parse cleaned data " + pt([n, i]) + " orig: " + pt([t[o], t[o + 1]]))
                }
            }, t.parseCmd = function(e, t) {
              var r = this.cmdHistory;
              if(!((20 === e || 28 === e || 21 === e || 29 === e) && t >= 32 && t <= 47 || (23 === e || 31 === e) && t >= 33 && t <= 35)) return !1;
              if(Et(e, t, r)) return bt(null, null, r), this.logger.log(at.DEBUG, "Repeated command (" + pt([e, t]) + ") is dropped"), !0;
              var n = 20 === e || 21 === e || 23 === e ? 1 : 2,
                i = this.channels[n];
              return 20 === e || 21 === e || 28 === e || 29 === e ? 32 === t ? i.ccRCL() : 33 === t ? i.ccBS() : 34 === t ? i.ccAOF() : 35 === t ? i.ccAON() : 36 === t ? i.ccDER() : 37 === t ? i.ccRU(2) : 38 === t ? i.ccRU(3) : 39 === t ? i.ccRU(4) : 40 === t ? i.ccFON() : 41 === t ? i.ccRDC() : 42 === t ? i.ccTR() : 43 === t ? i.ccRTD() : 44 === t ? i.ccEDM() : 45 === t ? i.ccCR() : 46 === t ? i.ccENM() : 47 === t && i.ccEOC() : i.ccTO(t - 32), bt(e, t, r), this.currentChannel = n, !0
            }, t.parseMidrow = function(e, t) {
              var r = 0;
              if((17 === e || 25 === e) && t >= 32 && t <= 47) {
                if((r = 17 === e ? 1 : 2) !== this.currentChannel) return this.logger.log(at.ERROR, "Mismatch channel in midrow parsing"), !1;
                var n = this.channels[r];
                return !!n && (n.ccMIDROW(t), this.logger.log(at.DEBUG, "MIDROW (" + pt([e, t]) + ")"), !0)
              }
              return !1
            }, t.parsePAC = function(e, t) {
              var r, n = this.cmdHistory;
              if(!((e >= 17 && e <= 23 || e >= 25 && e <= 31) && t >= 64 && t <= 127 || (16 === e || 24 === e) && t >= 64 && t <= 95)) return !1;
              if(Et(e, t, n)) return bt(null, null, n), !0;
              var i = e <= 23 ? 1 : 2;
              r = t >= 64 && t <= 95 ? 1 === i ? ut[e] : ct[e] : 1 === i ? lt[e] : dt[e];
              var a = this.channels[i];
              return !!a && (a.setPAC(this.interpretPAC(r, t)), bt(e, t, n), this.currentChannel = i, !0)
            }, t.interpretPAC = function(e, t) {
              var r, n = {
                color: null,
                italics: !1,
                indent: null,
                underline: !1,
                row: e
              };
              return r = t > 95 ? t - 96 : t - 64, n.underline = 1 == (1 & r), r <= 13 ? n.color = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "white"][Math.floor(r / 2)] : r <= 15 ? (n.italics = !0, n.color = "white") : n.indent = 4 * Math.floor((r - 16) / 2), n
            }, t.parseChars = function(e, t) {
              var r, n, i = null,
                a = null;
              if(e >= 25 ? (r = 2, a = e - 8) : (r = 1, a = e), a >= 17 && a <= 19 ? (n = 17 === a ? t + 80 : 18 === a ? t + 112 : t + 144, this.logger.log(at.INFO, "Special char '" + st(n) + "' in channel " + r), i = [n]) : e >= 32 && e <= 127 && (i = 0 === t ? [e] : [e, t]), i) {
                var o = pt(i);
                this.logger.log(at.DEBUG, "Char codes =  " + o.join(",")), bt(e, t, this.cmdHistory)
              }
              return i
            }, t.parseBackgroundAttributes = function(e, t) {
              var r;
              if(!((16 === e || 24 === e) && t >= 32 && t <= 47 || (23 === e || 31 === e) && t >= 45 && t <= 47)) return !1;
              var n = {};
              16 === e || 24 === e ? (r = Math.floor((t - 32) / 2), n.background = ft[r], t % 2 == 1 && (n.background = n.background + "_semi")) : 45 === t ? n.background = "transparent" : (n.foreground = "black", 47 === t && (n.underline = !0));
              var i = e <= 23 ? 1 : 2;
              return this.channels[i].setBkgData(n), bt(e, t, this.cmdHistory), !0
            }, t.reset = function() {
              for(var e = 0; e < Object.keys(this.channels).length; e++) {
                var t = this.channels[e];
                t && t.reset()
              }
              this.cmdHistory = {
                a: null,
                b: null
              }
            }, t.cueSplitAtTime = function(e) {
              for(var t = 0; t < this.channels.length; t++) {
                var r = this.channels[t];
                r && r.cueSplitAtTime(e)
              }
            }, e
          }(),
          Tt = function() {
            function e(e, t) {
              this.timelineController = void 0, this.cueRanges = [], this.trackName = void 0, this.startTime = null, this.endTime = null, this.screen = null, this.timelineController = e, this.trackName = t
            }
            var t = e.prototype;
            return t.dispatchCue = function() {
              null !== this.startTime && (this.timelineController.addCues(this.trackName, this.startTime, this.endTime, this.screen, this.cueRanges), this.startTime = null)
            }, t.newCue = function(e, t, r) {
              (null === this.startTime || this.startTime > e) && (this.startTime = e), this.endTime = t, this.screen = r, this.timelineController.createCaptionsTrack(this.trackName)
            }, t.reset = function() {
              this.cueRanges = []
            }, e
          }(),
          wt = function(e, t, r) {
            return e.substr(r || 0, t.length) === t
          },
          St = function(e) {
            for(var t = 5381, r = e.length; r;) t = 33 * t ^ e.charCodeAt(--r);
            return (t >>> 0).toString()
          },
          kt = function(e, t, r, n, i, a) {
            var o, s = Object(Ce.b)(new Uint8Array(e)).trim().replace(/\r\n|\n\r|\n|\r/g, "\n").split("\n"),
              l = "00:00.000",
              c = 0,
              d = 0,
              f = 0,
              h = [],
              p = !0,
              v = !1,
              g = new nt;
            g.oncue = function(e) {
              var t = r[n],
                i = r.ccOffset;
              t && t.new && (void 0 !== d ? i = r.ccOffset = t.start : function(e, t, r) {
                var n = e[t],
                  i = e[n.prevCC];
                if(!i || !i.new && n.new) return e.ccOffset = e.presentationOffset = n.start, void(n.new = !1);
                for(; i && i.new;) e.ccOffset += n.start - i.start, n.new = !1, i = e[(n = i).prevCC];
                e.presentationOffset = r
              }(r, n, f)), f && (i = f - r.presentationOffset), v && (e.startTime += i - d, e.endTime += i - d), e.id = St(e.startTime.toString()) + St(e.endTime.toString()) + St(e.text), e.text = decodeURIComponent(encodeURIComponent(e.text)), e.endTime > 0 && h.push(e)
            }, g.onparsingerror = function(e) {
              o = e
            }, g.onflush = function() {
              o && a ? a(o) : i(h)
            }, s.forEach((function(e) {
              if(p) {
                if(wt(e, "X-TIMESTAMP-MAP=")) {
                  p = !1, v = !0, e.substr(16).split(",").forEach((function(e) {
                    wt(e, "LOCAL:") ? l = e.substr(6) : wt(e, "MPEGTS:") && (c = parseInt(e.substr(7)))
                  }));
                  try {
                    t + (9e4 * r[n].start || 0) < 0 && (t += 8589934592), c -= t, d = function(e) {
                      var t = parseInt(e.substr(-3)),
                        r = parseInt(e.substr(-6, 2)),
                        n = parseInt(e.substr(-9, 2)),
                        i = e.length > 9 ? parseInt(e.substr(0, e.indexOf(":"))) : 0;
                      if(!(Object(u.a)(t) && Object(u.a)(r) && Object(u.a)(n) && Object(u.a)(i))) throw Error("Malformed X-TIMESTAMP-MAP: Local:" + e);
                      return t += 1e3 * r, (t += 6e4 * n) + 36e5 * i
                    }(l) / 1e3, f = c / 9e4
                  }
                  catch (e) {
                    v = !1, o = e
                  }
                  return
                }
                "" === e && (p = !1)
              }
              g.parse(e + "\n")
            })), g.flush()
          };

        function Rt(e) {
          if(void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          return e
        }

        function Lt(e, t) {
          return e && e.label === t.name && !(e.textTrack1 || e.textTrack2)
        }
        var Ot = function(e) {
          var t, r;

          function n(t) {
            var r;
            if((r = e.call(this, t, l.a.MEDIA_ATTACHING, l.a.MEDIA_DETACHING, l.a.FRAG_PARSING_USERDATA, l.a.FRAG_DECRYPTED, l.a.MANIFEST_LOADING, l.a.MANIFEST_LOADED, l.a.FRAG_LOADED, l.a.INIT_PTS_FOUND) || this).media = null, r.config = void 0, r.enabled = !0, r.Cues = void 0, r.textTracks = [], r.tracks = [], r.initPTS = [], r.unparsedVttFrags = [], r.captionsTracks = {}, r.nonNativeCaptionsTracks = {}, r.captionsProperties = void 0, r.cea608Parser1 = void 0, r.cea608Parser2 = void 0, r.lastSn = -1, r.prevCC = -1, r.vttCCs = {
                ccOffset: 0,
                presentationOffset: 0,
                0: {
                  start: 0,
                  prevCC: -1,
                  new: !1
                }
              }, r.hls = t, r.config = t.config, r.Cues = t.config.cueHandler, r.captionsProperties = {
                textTrack1: {
                  label: r.config.captionsTextTrack1Label,
                  languageCode: r.config.captionsTextTrack1LanguageCode
                },
                textTrack2: {
                  label: r.config.captionsTextTrack2Label,
                  languageCode: r.config.captionsTextTrack2LanguageCode
                },
                textTrack3: {
                  label: r.config.captionsTextTrack3Label,
                  languageCode: r.config.captionsTextTrack3LanguageCode
                },
                textTrack4: {
                  label: r.config.captionsTextTrack4Label,
                  languageCode: r.config.captionsTextTrack4LanguageCode
                }
              }, r.config.enableCEA708Captions) {
              var n = new Tt(Rt(r), "textTrack1"),
                i = new Tt(Rt(r), "textTrack2"),
                a = new Tt(Rt(r), "textTrack3"),
                o = new Tt(Rt(r), "textTrack4");
              r.cea608Parser1 = new At(1, n, i), r.cea608Parser2 = new At(3, a, o)
            }
            return r
          }
          r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
          var i = n.prototype;
          return i.addCues = function(e, t, r, n, i) {
            for(var a, o, s, u, c = !1, d = i.length; d--;) {
              var f = i[d],
                h = (a = f[0], o = f[1], s = t, u = r, Math.min(o, u) - Math.max(a, s));
              if(h >= 0 && (f[0] = Math.min(f[0], t), f[1] = Math.max(f[1], r), c = !0, h / (r - t) > .5)) return
            }
            if(c || i.push([t, r]), this.config.renderTextTracksNatively) this.Cues.newCue(this.captionsTracks[e], t, r, n);
            else {
              var p = this.Cues.newCue(null, t, r, n);
              this.hls.trigger(l.a.CUES_PARSED, {
                type: "captions",
                cues: p,
                track: e
              })
            }
          }, i.onInitPtsFound = function(e) {
            var t = this,
              r = e.frag,
              n = e.id,
              i = e.initPTS,
              a = this.unparsedVttFrags;
            "main" === n && (this.initPTS[r.cc] = i), a.length && (this.unparsedVttFrags = [], a.forEach((function(e) {
              t.onFragLoaded(e)
            })))
          }, i.getExistingTrack = function(e) {
            var t = this.media;
            if(t)
              for(var r = 0; r < t.textTracks.length; r++) {
                var n = t.textTracks[r];
                if(n[e]) return n
              }
            return null
          }, i.createCaptionsTrack = function(e) {
            this.config.renderTextTracksNatively ? this.createNativeTrack(e) : this.createNonNativeTrack(e)
          }, i.createNativeTrack = function(e) {
            if(!this.captionsTracks[e]) {
              var t = this.captionsProperties,
                r = this.captionsTracks,
                n = this.media,
                i = t[e],
                a = i.label,
                o = i.languageCode,
                s = this.getExistingTrack(e);
              if(s) r[e] = s, xe(r[e]), De(r[e], n);
              else {
                var u = this.createTextTrack("captions", a, o);
                u && (u[e] = !0, r[e] = u)
              }
            }
          }, i.createNonNativeTrack = function(e) {
            if(!this.nonNativeCaptionsTracks[e]) {
              var t = this.captionsProperties[e];
              if(t) {
                var r = {
                  _id: e,
                  label: t.label,
                  kind: "captions",
                  default: !!t.media && !!t.media.default,
                  closedCaptions: t.media
                };
                this.nonNativeCaptionsTracks[e] = r, this.hls.trigger(l.a.NON_NATIVE_TEXT_TRACKS_FOUND, {
                  tracks: [r]
                })
              }
            }
          }, i.createTextTrack = function(e, t, r) {
            var n = this.media;
            if(n) return n.addTextTrack(e, t, r)
          }, i.destroy = function() {
            e.prototype.destroy.call(this)
          }, i.onMediaAttaching = function(e) {
            this.media = e.media, this._cleanTracks()
          }, i.onMediaDetaching = function() {
            var e = this.captionsTracks;
            Object.keys(e).forEach((function(t) {
              xe(e[t]), delete e[t]
            })), this.nonNativeCaptionsTracks = {}
          }, i.onManifestLoading = function() {
            this.lastSn = -1, this.prevCC = -1, this.vttCCs = {
              ccOffset: 0,
              presentationOffset: 0,
              0: {
                start: 0,
                prevCC: -1,
                new: !1
              }
            }, this._cleanTracks(), this.tracks = [], this.captionsTracks = {}, this.nonNativeCaptionsTracks = {}
          }, i._cleanTracks = function() {
            var e = this.media;
            if(e) {
              var t = e.textTracks;
              if(t)
                for(var r = 0; r < t.length; r++) xe(t[r])
            }
          }, i.onManifestLoaded = function(e) {
            var t = this;
            if(this.textTracks = [], this.unparsedVttFrags = this.unparsedVttFrags || [], this.initPTS = [], this.cea608Parser1 && this.cea608Parser2 && (this.cea608Parser1.reset(), this.cea608Parser2.reset()), this.config.enableWebVTT) {
              var r = e.subtitles || [],
                n = this.tracks && r && this.tracks.length === r.length;
              if(this.tracks = e.subtitles || [], this.config.renderTextTracksNatively) {
                var i = this.media ? this.media.textTracks : [];
                this.tracks.forEach((function(e, r) {
                  var n;
                  if(r < i.length) {
                    for(var a = null, o = 0; o < i.length; o++)
                      if(Lt(i[o], e)) {
                        a = i[o];
                        break
                      } a && (n = a)
                  }
                  n || (n = t.createTextTrack("subtitles", e.name, e.lang)), e.default ? n.mode = t.hls.subtitleDisplay ? "showing" : "hidden" : n.mode = "disabled", t.textTracks.push(n)
                }))
              }
              else if(!n && this.tracks && this.tracks.length) {
                var a = this.tracks.map((function(e) {
                  return {
                    label: e.name,
                    kind: e.type.toLowerCase(),
                    default: e.default,
                    subtitleTrack: e
                  }
                }));
                this.hls.trigger(l.a.NON_NATIVE_TEXT_TRACKS_FOUND, {
                  tracks: a
                })
              }
            }
            this.config.enableCEA708Captions && e.captions && e.captions.forEach((function(e) {
              var r = /(?:CC|SERVICE)([1-4])/.exec(e.instreamId);
              if(r) {
                var n = "textTrack" + r[1],
                  i = t.captionsProperties[n];
                i && (i.label = e.name, e.lang && (i.languageCode = e.lang), i.media = e)
              }
            }))
          }, i.onFragLoaded = function(e) {
            var t = e.frag,
              r = e.payload,
              n = this.cea608Parser1,
              i = this.cea608Parser2,
              a = this.initPTS,
              o = this.lastSn,
              s = this.unparsedVttFrags;
            if("main" === t.type) {
              var c = t.sn;
              t.sn !== o + 1 && n && i && (n.reset(), i.reset()), this.lastSn = c
            }
            else if("subtitle" === t.type)
              if(r.byteLength) {
                if(!Object(u.a)(a[t.cc])) return s.push(e), void(a.length && this.hls.trigger(l.a.SUBTITLE_FRAG_PROCESSED, {
                  success: !1,
                  frag: t
                }));
                var d = t.decryptdata;
                null != d && null != d.key && "AES-128" === d.method || this._parseVTTs(t, r)
              }
            else this.hls.trigger(l.a.SUBTITLE_FRAG_PROCESSED, {
              success: !1,
              frag: t
            })
          }, i._parseVTTs = function(e, t) {
            var r = this,
              n = this.hls,
              i = this.prevCC,
              a = this.textTracks,
              o = this.vttCCs;
            o[e.cc] || (o[e.cc] = {
              start: e.start,
              prevCC: i,
              new: !0
            }, this.prevCC = e.cc), kt(t, this.initPTS[e.cc], o, e.cc, (function(t) {
              if(r.config.renderTextTracksNatively) {
                var i = a[e.level];
                if("disabled" === i.mode) return void n.trigger(l.a.SUBTITLE_FRAG_PROCESSED, {
                  success: !1,
                  frag: e
                });
                t.forEach((function(e) {
                  if(!i.cues.getCueById(e.id)) try {
                    if(i.addCue(e), !i.cues.getCueById(e.id)) throw new Error("addCue is failed for: " + e)
                  }
                  catch (r) {
                    c.b.debug("Failed occurred on adding cues: " + r);
                    var t = new window.TextTrackCue(e.startTime, e.endTime, e.text);
                    t.id = e.id, i.addCue(t)
                  }
                }))
              }
              else {
                var o = r.tracks[e.level].default ? "default" : "subtitles" + e.level;
                n.trigger(l.a.CUES_PARSED, {
                  type: "subtitles",
                  cues: t,
                  track: o
                })
              }
              n.trigger(l.a.SUBTITLE_FRAG_PROCESSED, {
                success: !0,
                frag: e
              })
            }), (function(t) {
              c.b.log("Failed to parse VTT cue: " + t), n.trigger(l.a.SUBTITLE_FRAG_PROCESSED, {
                success: !1,
                frag: e
              })
            }))
          }, i.onFragDecrypted = function(e) {
            var t = e.frag,
              r = e.payload;
            if("subtitle" === t.type) {
              if(!Object(u.a)(this.initPTS[t.cc])) return void this.unparsedVttFrags.push(e);
              this._parseVTTs(t, r)
            }
          }, i.onFragParsingUserdata = function(e) {
            var t = this.cea608Parser1,
              r = this.cea608Parser2;
            if(this.enabled && t && r)
              for(var n = 0; n < e.samples.length; n++) {
                var i = e.samples[n].bytes;
                if(i) {
                  var a = this.extractCea608Data(i);
                  t.addData(e.samples[n].pts, a[0]), r.addData(e.samples[n].pts, a[1])
                }
              }
          }, i.extractCea608Data = function(e) {
            for(var t = 31 & e[0], r = 2, n = [
                [],
                []
              ], i = 0; i < t; i++) {
              var a = e[r++],
                o = 127 & e[r++],
                s = 127 & e[r++],
                u = 3 & a;
              0 === o && 0 === s || 0 != (4 & a) && (0 !== u && 1 !== u || (n[u].push(o), n[u].push(s)))
            }
            return n
          }, n
        }(f);

        function Ct(e) {
          for(var t = [], r = 0; r < e.length; r++) {
            var n = e[r];
            "subtitles" === n.kind && n.label && t.push(e[r])
          }
          return t
        }
        var Dt, xt = function(e) {
            var t, r;

            function n(t) {
              var r;
              return (r = e.call(this, t, l.a.MEDIA_ATTACHED, l.a.MEDIA_DETACHING, l.a.MANIFEST_LOADED, l.a.SUBTITLE_TRACK_LOADED) || this).tracks = [], r.trackId = -1, r.media = null, r.stopped = !0, r.subtitleDisplay = !0, r.queuedDefaultTrack = null, r
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i, a = n.prototype;
            return a.destroy = function() {
              f.prototype.destroy.call(this)
            }, a.onMediaAttached = function(e) {
              var t = this;
              this.media = e.media, this.media && (Object(u.a)(this.queuedDefaultTrack) && (this.subtitleTrack = this.queuedDefaultTrack, this.queuedDefaultTrack = null), this.trackChangeListener = this._onTextTracksChanged.bind(this), this.useTextTrackPolling = !(this.media.textTracks && "onchange" in this.media.textTracks), this.useTextTrackPolling ? this.subtitlePollingInterval = setInterval((function() {
                t.trackChangeListener()
              }), 500) : this.media.textTracks.addEventListener("change", this.trackChangeListener))
            }, a.onMediaDetaching = function() {
              this.media && (this.useTextTrackPolling ? clearInterval(this.subtitlePollingInterval) : this.media.textTracks.removeEventListener("change", this.trackChangeListener), Object(u.a)(this.subtitleTrack) && (this.queuedDefaultTrack = this.subtitleTrack), Ct(this.media.textTracks).forEach((function(e) {
                xe(e)
              })), this.subtitleTrack = -1, this.media = null)
            }, a.onManifestLoaded = function(e) {
              var t = this,
                r = e.subtitles || [];
              this.tracks = r, this.hls.trigger(l.a.SUBTITLE_TRACKS_UPDATED, {
                subtitleTracks: r
              }), r.forEach((function(e) {
                e.default && (t.media ? t.subtitleTrack = e.id : t.queuedDefaultTrack = e.id)
              }))
            }, a.onSubtitleTrackLoaded = function(e) {
              var t = this,
                r = e.id,
                n = e.details,
                i = this.trackId,
                a = this.tracks,
                o = a[i];
              if(r >= a.length || r !== i || !o || this.stopped) this._clearReloadTimer();
              else if(c.b.log("subtitle track " + r + " loaded"), n.live) {
                var s = te(o.details, n, e.stats.trequest);
                c.b.log("Reloading live subtitle playlist in " + s + "ms"), this.timer = setTimeout((function() {
                  t._loadCurrentTrack()
                }), s)
              }
              else this._clearReloadTimer()
            }, a.startLoad = function() {
              this.stopped = !1, this._loadCurrentTrack()
            }, a.stopLoad = function() {
              this.stopped = !0, this._clearReloadTimer()
            }, a._clearReloadTimer = function() {
              this.timer && (clearTimeout(this.timer), this.timer = null)
            }, a._loadCurrentTrack = function() {
              var e = this.trackId,
                t = this.tracks,
                r = this.hls,
                n = t[e];
              e < 0 || !n || n.details && !n.details.live || (c.b.log("Loading subtitle track " + e), r.trigger(l.a.SUBTITLE_TRACK_LOADING, {
                url: n.url,
                id: e
              }))
            }, a._toggleTrackModes = function(e) {
              var t = this.media,
                r = this.subtitleDisplay,
                n = this.trackId;
              if(t) {
                var i = Ct(t.textTracks);
                if(-1 === e)[].slice.call(i).forEach((function(e) {
                  e.mode = "disabled"
                }));
                else {
                  var a = i[n];
                  a && (a.mode = "disabled")
                }
                var o = i[e];
                o && (o.mode = r ? "showing" : "hidden")
              }
            }, a._setSubtitleTrackInternal = function(e) {
              var t = this.hls,
                r = this.tracks;
              !Object(u.a)(e) || e < -1 || e >= r.length || (this.trackId = e, c.b.log("Switching to subtitle track " + e), t.trigger(l.a.SUBTITLE_TRACK_SWITCH, {
                id: e
              }), this._loadCurrentTrack())
            }, a._onTextTracksChanged = function() {
              if(this.media && this.hls.config.renderTextTracksNatively) {
                for(var e = -1, t = Ct(this.media.textTracks), r = 0; r < t.length; r++)
                  if("hidden" === t[r].mode) e = r;
                  else if("showing" === t[r].mode) {
                  e = r;
                  break
                }
                this.subtitleTrack = e
              }
            }, (i = [{
              key: "subtitleTracks",
              get: function() {
                return this.tracks
              }
            }, {
              key: "subtitleTrack",
              get: function() {
                return this.trackId
              },
              set: function(e) {
                this.trackId !== e && (this._toggleTrackModes(e), this._setSubtitleTrackInternal(e))
              }
            }]) && function(e, t) {
              for(var r = 0; r < t.length; r++) {
                var n = t[r];
                n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
              }
            }(n.prototype, i), n
          }(f),
          It = r(7),
          Mt = window.performance,
          Pt = function(e) {
            var t, r;

            function n(t, r) {
              var n;
              return (n = e.call(this, t, l.a.MEDIA_ATTACHED, l.a.MEDIA_DETACHING, l.a.ERROR, l.a.KEY_LOADED, l.a.FRAG_LOADED, l.a.SUBTITLE_TRACKS_UPDATED, l.a.SUBTITLE_TRACK_SWITCH, l.a.SUBTITLE_TRACK_LOADED, l.a.SUBTITLE_FRAG_PROCESSED, l.a.LEVEL_UPDATED) || this).fragmentTracker = r, n.config = t.config, n.state = he, n.tracks = [], n.tracksBuffered = [], n.currentTrackId = -1, n.decrypter = new It.a(t, t.config), n.lastAVStart = 0, n._onMediaSeeking = n.onMediaSeeking.bind(function(e) {
                if(void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
              }(n)), n
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i = n.prototype;
            return i.startLoad = function() {
              this.stopLoad(), this.state = ve;
              var e = this.tracks[this.currentTrackId];
              e && e.details && (this.setInterval(500), this.tick())
            }, i.onSubtitleFragProcessed = function(e) {
              var t = e.frag,
                r = e.success;
              if(this.fragPrevious = t, this.state = ve, r) {
                var n = this.tracksBuffered[this.currentTrackId];
                if(n) {
                  for(var i, a = t.start, o = 0; o < n.length; o++)
                    if(a >= n[o].start && a <= n[o].end) {
                      i = n[o];
                      break
                    } var s = t.start + t.duration;
                  i ? i.end = s : (i = {
                    start: a,
                    end: s
                  }, n.push(i))
                }
              }
            }, i.onMediaAttached = function(e) {
              var t = e.media;
              this.media = t, t.addEventListener("seeking", this._onMediaSeeking), this.state = ve
            }, i.onMediaDetaching = function() {
              var e = this;
              this.media && (this.media.removeEventListener("seeking", this._onMediaSeeking), this.fragmentTracker.removeAllFragments(), this.currentTrackId = -1, this.tracks.forEach((function(t) {
                e.tracksBuffered[t.id] = []
              })), this.media = null, this.state = he)
            }, i.onError = function(e) {
              var t = e.frag;
              t && "subtitle" === t.type && (this.fragCurrent && this.fragCurrent.loader && this.fragCurrent.loader.abort(), this.state = ve)
            }, i.onSubtitleTracksUpdated = function(e) {
              var t = this;
              c.b.log("subtitle tracks updated"), this.tracksBuffered = [], this.tracks = e.subtitleTracks, this.tracks.forEach((function(e) {
                t.tracksBuffered[e.id] = []
              }))
            }, i.onSubtitleTrackSwitch = function(e) {
              if(this.currentTrackId = e.id, this.tracks && this.tracks.length && -1 !== this.currentTrackId) {
                var t = this.tracks[this.currentTrackId];
                t && t.details && this.setInterval(500)
              }
              else this.clearInterval()
            }, i.onSubtitleTrackLoaded = function(e) {
              var t = e.id,
                r = e.details,
                n = this.currentTrackId,
                i = this.tracks,
                a = i[n];
              t >= i.length || t !== n || !a || (r.live && function(e, t, r) {
                void 0 === r && (r = 0);
                var n = -1;
                ee(e, t, (function(e, t, r) {
                  t.start = e.start, n = r
                }));
                var i = t.fragments;
                if(n < 0) i.forEach((function(e) {
                  e.start += r
                }));
                else
                  for(var a = n + 1; a < i.length; a++) i[a].start = i[a - 1].start + i[a - 1].duration
              }(a.details, r, this.lastAVStart), a.details = r, this.setInterval(500))
            }, i.onKeyLoaded = function() {
              this.state === ge && (this.state = ve)
            }, i.onFragLoaded = function(e) {
              var t = this.fragCurrent,
                r = e.frag.decryptdata,
                n = e.frag,
                i = this.hls;
              if(this.state === me && t && "subtitle" === e.frag.type && t.sn === e.frag.sn && e.payload.byteLength > 0 && r && r.key && "AES-128" === r.method) {
                var a = Mt.now();
                this.decrypter.decrypt(e.payload, r.key.buffer, r.iv.buffer, (function(e) {
                  var t = Mt.now();
                  i.trigger(l.a.FRAG_DECRYPTED, {
                    frag: n,
                    payload: e,
                    stats: {
                      tstart: a,
                      tdecrypt: t
                    }
                  })
                }))
              }
            }, i.onLevelUpdated = function(e) {
              var t = e.details.fragments;
              this.lastAVStart = t.length ? t[0].start : 0
            }, i.doTick = function() {
              if(this.media) switch(this.state) {
                case ve:
                  var e = this.config,
                    t = this.currentTrackId,
                    r = this.fragmentTracker,
                    n = this.media,
                    i = this.tracks;
                  if(!i || !i[t] || !i[t].details) break;
                  var a, o = e.maxBufferHole,
                    s = e.maxFragLookUpTolerance,
                    u = Math.min(e.maxBufferLength, e.maxMaxBufferLength),
                    d = j.bufferedInfo(this._getBuffered(), n.currentTime, o),
                    f = d.end,
                    h = d.len,
                    p = i[t].details,
                    v = p.fragments,
                    g = v.length,
                    m = v[g - 1].start + v[g - 1].duration;
                  if(h > u) return;
                  var y = this.fragPrevious;
                  f < m ? (y && p.hasProgramDateTime && (a = ae(v, y.endProgramDateTime, s)), a || (a = oe(y, v, f, s))) : a = v[g - 1], a && a.encrypted ? (c.b.log("Loading key for " + a.sn), this.state = ge, this.hls.trigger(l.a.KEY_LOADING, {
                    frag: a
                  })) : a && r.getState(a) === M && (this.fragCurrent = a, this.state = me, this.hls.trigger(l.a.FRAG_LOADING, {
                    frag: a
                  }))
              }
              else this.state = ve
            }, i.stopLoad = function() {
              this.lastAVStart = 0, this.fragPrevious = null, e.prototype.stopLoad.call(this)
            }, i._getBuffered = function() {
              return this.tracksBuffered[this.currentTrackId] || []
            }, i.onMediaSeeking = function() {
              if(this.fragCurrent) {
                var e = this.media ? this.media.currentTime : 0,
                  t = this.config.maxFragLookUpTolerance,
                  r = this.fragCurrent.start - t,
                  n = this.fragCurrent.start + this.fragCurrent.duration + t;
                (e < r || e > n) && (this.fragCurrent.loader && this.fragCurrent.loader.abort(), this.fragmentTracker.removeFragment(this.fragCurrent), this.fragCurrent = null, this.fragPrevious = null, this.state = ve, this.tick())
              }
            }, n
          }(Re);
        ! function(e) {
          e.WIDEVINE = "com.widevine.alpha", e.PLAYREADY = "com.microsoft.playready"
        }(Dt || (Dt = {}));
        var Nt = "undefined" != typeof window && window.navigator && window.navigator.requestMediaKeySystemAccess ? window.navigator.requestMediaKeySystemAccess.bind(window.navigator) : null,
          Ft = function(e) {
            var t, r;

            function n(t) {
              var r;
              return (r = e.call(this, t, l.a.MEDIA_ATTACHED, l.a.MEDIA_DETACHED, l.a.MANIFEST_PARSED) || this)._widevineLicenseUrl = void 0, r._licenseXhrSetup = void 0, r._emeEnabled = void 0, r._requestMediaKeySystemAccess = void 0, r._drmSystemOptions = void 0, r._config = void 0, r._mediaKeysList = [], r._media = null, r._hasSetMediaKeys = !1, r._requestLicenseFailureCount = 0, r.mediaKeysPromise = null, r._onMediaEncrypted = function(e) {
                if(c.b.log('Media is encrypted using "' + e.initDataType + '" init data type'), !r.mediaKeysPromise) return c.b.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"), void r.hls.trigger(l.a.ERROR, {
                  type: s.b.KEY_SYSTEM_ERROR,
                  details: s.a.KEY_SYSTEM_NO_KEYS,
                  fatal: !0
                });
                var t = function(t) {
                  r._media && (r._attemptSetMediaKeys(t), r._generateRequestWithPreferredKeySession(e.initDataType, e.initData))
                };
                r.mediaKeysPromise.then(t).catch(t)
              }, r._config = t.config, r._widevineLicenseUrl = r._config.widevineLicenseUrl, r._licenseXhrSetup = r._config.licenseXhrSetup, r._emeEnabled = r._config.emeEnabled, r._requestMediaKeySystemAccess = r._config.requestMediaKeySystemAccessFunc, r._drmSystemOptions = t.config.drmSystemOptions, r
            }
            r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r;
            var i, a = n.prototype;
            return a.getLicenseServerUrl = function(e) {
              switch(e) {
                case Dt.WIDEVINE:
                  if(!this._widevineLicenseUrl) break;
                  return this._widevineLicenseUrl
              }
              throw new Error('no license server URL configured for key-system "' + e + '"')
            }, a._attemptKeySystemAccess = function(e, t, r) {
              var n = this,
                i = function(e, t, r, n) {
                  switch(e) {
                    case Dt.WIDEVINE:
                      return function(e, t, r) {
                        var n = {
                          audioCapabilities: [],
                          videoCapabilities: []
                        };
                        return e.forEach((function(e) {
                          n.audioCapabilities.push({
                            contentType: 'audio/mp4; codecs="' + e + '"',
                            robustness: r.audioRobustness || ""
                          })
                        })), t.forEach((function(e) {
                          n.videoCapabilities.push({
                            contentType: 'video/mp4; codecs="' + e + '"',
                            robustness: r.videoRobustness || ""
                          })
                        })), [n]
                      }(t, r, n);
                    default:
                      throw new Error("Unknown key-system: " + e)
                  }
                }(e, t, r, this._drmSystemOptions);
              c.b.log("Requesting encrypted media key-system access");
              var a = this.requestMediaKeySystemAccess(e, i);
              this.mediaKeysPromise = a.then((function(t) {
                return n._onMediaKeySystemAccessObtained(e, t)
              })), a.catch((function(t) {
                c.b.error('Failed to obtain key-system "' + e + '" access:', t)
              }))
            }, a._onMediaKeySystemAccessObtained = function(e, t) {
              var r = this;
              c.b.log('Access for key-system "' + e + '" obtained');
              var n = {
                mediaKeysSessionInitialized: !1,
                mediaKeySystemAccess: t,
                mediaKeySystemDomain: e
              };
              this._mediaKeysList.push(n);
              var i = Promise.resolve().then((function() {
                return t.createMediaKeys()
              })).then((function(t) {
                return n.mediaKeys = t, c.b.log('Media-keys created for key-system "' + e + '"'), r._onMediaKeysCreated(), t
              }));
              return i.catch((function(e) {
                c.b.error("Failed to create media-keys:", e)
              })), i
            }, a._onMediaKeysCreated = function() {
              var e = this;
              this._mediaKeysList.forEach((function(t) {
                t.mediaKeysSession || (t.mediaKeysSession = t.mediaKeys.createSession(), e._onNewMediaKeySession(t.mediaKeysSession))
              }))
            }, a._onNewMediaKeySession = function(e) {
              var t = this;
              c.b.log("New key-system session " + e.sessionId), e.addEventListener("message", (function(r) {
                t._onKeySessionMessage(e, r.message)
              }), !1)
            }, a._onKeySessionMessage = function(e, t) {
              c.b.log("Got EME message event, creating license request"), this._requestLicense(t, (function(t) {
                c.b.log("Received license data (length: " + (t ? t.byteLength : t) + "), updating key-session"), e.update(t)
              }))
            }, a._attemptSetMediaKeys = function(e) {
              if(!this._media) throw new Error("Attempted to set mediaKeys without first attaching a media element");
              if(!this._hasSetMediaKeys) {
                var t = this._mediaKeysList[0];
                if(!t || !t.mediaKeys) return c.b.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"), void this.hls.trigger(l.a.ERROR, {
                  type: s.b.KEY_SYSTEM_ERROR,
                  details: s.a.KEY_SYSTEM_NO_KEYS,
                  fatal: !0
                });
                c.b.log("Setting keys for encrypted media"), this._media.setMediaKeys(t.mediaKeys), this._hasSetMediaKeys = !0
              }
            }, a._generateRequestWithPreferredKeySession = function(e, t) {
              var r = this,
                n = this._mediaKeysList[0];
              if(!n) return c.b.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"), void this.hls.trigger(l.a.ERROR, {
                type: s.b.KEY_SYSTEM_ERROR,
                details: s.a.KEY_SYSTEM_NO_ACCESS,
                fatal: !0
              });
              if(n.mediaKeysSessionInitialized) c.b.warn("Key-Session already initialized but requested again");
              else {
                var i = n.mediaKeysSession;
                if(!i) return c.b.error("Fatal: Media is encrypted but no key-session existing"), void this.hls.trigger(l.a.ERROR, {
                  type: s.b.KEY_SYSTEM_ERROR,
                  details: s.a.KEY_SYSTEM_NO_SESSION,
                  fatal: !0
                });
                if(!t) return c.b.warn("Fatal: initData required for generating a key session is null"), void this.hls.trigger(l.a.ERROR, {
                  type: s.b.KEY_SYSTEM_ERROR,
                  details: s.a.KEY_SYSTEM_NO_INIT_DATA,
                  fatal: !0
                });
                c.b.log('Generating key-session request for "' + e + '" init data type'), n.mediaKeysSessionInitialized = !0, i.generateRequest(e, t).then((function() {
                  c.b.debug("Key-session generation succeeded")
                })).catch((function(e) {
                  c.b.error("Error generating key-session request:", e), r.hls.trigger(l.a.ERROR, {
                    type: s.b.KEY_SYSTEM_ERROR,
                    details: s.a.KEY_SYSTEM_NO_SESSION,
                    fatal: !1
                  })
                }))
              }
            }, a._createLicenseXhr = function(e, t, r) {
              var n = new XMLHttpRequest,
                i = this._licenseXhrSetup;
              try {
                if(i) try {
                  i(n, e)
                }
                catch (t) {
                  n.open("POST", e, !0), i(n, e)
                }
                n.readyState || n.open("POST", e, !0)
              }
              catch (e) {
                throw new Error("issue setting up KeySystem license XHR " + e)
              }
              return n.responseType = "arraybuffer", n.onreadystatechange = this._onLicenseRequestReadyStageChange.bind(this, n, e, t, r), n
            }, a._onLicenseRequestReadyStageChange = function(e, t, r, n) {
              switch(e.readyState) {
                case 4:
                  if(200 === e.status) this._requestLicenseFailureCount = 0, c.b.log("License request succeeded"), "arraybuffer" !== e.responseType && c.b.warn("xhr response type was not set to the expected arraybuffer for license request"), n(e.response);
                  else {
                    if(c.b.error("License Request XHR failed (" + t + "). Status: " + e.status + " (" + e.statusText + ")"), this._requestLicenseFailureCount++, this._requestLicenseFailureCount > 3) return void this.hls.trigger(l.a.ERROR, {
                      type: s.b.KEY_SYSTEM_ERROR,
                      details: s.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,
                      fatal: !0
                    });
                    var i = 3 - this._requestLicenseFailureCount + 1;
                    c.b.warn("Retrying license request, " + i + " attempts left"), this._requestLicense(r, n)
                  }
              }
            }, a._generateLicenseRequestChallenge = function(e, t) {
              switch(e.mediaKeySystemDomain) {
                case Dt.WIDEVINE:
                  return t
              }
              throw new Error("unsupported key-system: " + e.mediaKeySystemDomain)
            }, a._requestLicense = function(e, t) {
              c.b.log("Requesting content license for key-system");
              var r = this._mediaKeysList[0];
              if(!r) return c.b.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"), void this.hls.trigger(l.a.ERROR, {
                type: s.b.KEY_SYSTEM_ERROR,
                details: s.a.KEY_SYSTEM_NO_ACCESS,
                fatal: !0
              });
              try {
                var n = this.getLicenseServerUrl(r.mediaKeySystemDomain),
                  i = this._createLicenseXhr(n, e, t);
                c.b.log("Sending license request to URL: " + n);
                var a = this._generateLicenseRequestChallenge(r, e);
                i.send(a)
              }
              catch (e) {
                c.b.error("Failure requesting DRM license: " + e), this.hls.trigger(l.a.ERROR, {
                  type: s.b.KEY_SYSTEM_ERROR,
                  details: s.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,
                  fatal: !0
                })
              }
            }, a.onMediaAttached = function(e) {
              if(this._emeEnabled) {
                var t = e.media;
                this._media = t, t.addEventListener("encrypted", this._onMediaEncrypted)
              }
            }, a.onMediaDetached = function() {
              var e = this._media,
                t = this._mediaKeysList;
              e && (e.removeEventListener("encrypted", this._onMediaEncrypted), this._media = null, this._mediaKeysList = [], Promise.all(t.map((function(e) {
                if(e.mediaKeysSession) return e.mediaKeysSession.close().catch((function() {}))
              }))).then((function() {
                return e.setMediaKeys(null)
              })).catch((function() {})))
            }, a.onManifestParsed = function(e) {
              if(this._emeEnabled) {
                var t = e.levels.map((function(e) {
                    return e.audioCodec
                  })),
                  r = e.levels.map((function(e) {
                    return e.videoCodec
                  }));
                this._attemptKeySystemAccess(Dt.WIDEVINE, t, r)
              }
            }, (i = [{
              key: "requestMediaKeySystemAccess",
              get: function() {
                if(!this._requestMediaKeySystemAccess) throw new Error("No requestMediaKeySystemAccess function configured");
                return this._requestMediaKeySystemAccess
              }
            }]) && function(e, t) {
              for(var r = 0; r < t.length; r++) {
                var n = t[r];
                n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
              }
            }(n.prototype, i), n
          }(f);

        function Ut(e, t) {
          var r = Object.keys(e);
          if(Object.getOwnPropertySymbols) {
            var n = Object.getOwnPropertySymbols(e);
            t && (n = n.filter((function(t) {
              return Object.getOwnPropertyDescriptor(e, t).enumerable
            }))), r.push.apply(r, n)
          }
          return r
        }

        function Bt(e) {
          for(var t = 1; t < arguments.length; t++) {
            var r = null != arguments[t] ? arguments[t] : {};
            t % 2 ? Ut(Object(r), !0).forEach((function(t) {
              jt(e, t, r[t])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : Ut(Object(r)).forEach((function(t) {
              Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
            }))
          }
          return e
        }

        function jt(e, t, r) {
          return t in e ? Object.defineProperty(e, t, {
            value: r,
            enumerable: !0,
            configurable: !0,
            writable: !0
          }) : e[t] = r, e
        }
        var Gt = Bt(Bt({
          autoStartLoad: !0,
          startPosition: -1,
          defaultAudioCodec: void 0,
          debug: !1,
          capLevelOnFPSDrop: !1,
          capLevelToPlayerSize: !1,
          initialLiveManifestSize: 1,
          maxBufferLength: 30,
          maxBufferSize: 6e7,
          maxBufferHole: .5,
          lowBufferWatchdogPeriod: .5,
          highBufferWatchdogPeriod: 3,
          nudgeOffset: .1,
          nudgeMaxRetry: 3,
          maxFragLookUpTolerance: .25,
          liveSyncDurationCount: 3,
          liveMaxLatencyDurationCount: 1 / 0,
          liveSyncDuration: void 0,
          liveMaxLatencyDuration: void 0,
          liveDurationInfinity: !1,
          liveBackBufferLength: 1 / 0,
          maxMaxBufferLength: 600,
          enableWorker: !0,
          enableSoftwareAES: !0,
          manifestLoadingTimeOut: 1e4,
          manifestLoadingMaxRetry: 1,
          manifestLoadingRetryDelay: 1e3,
          manifestLoadingMaxRetryTimeout: 64e3,
          startLevel: void 0,
          levelLoadingTimeOut: 1e4,
          levelLoadingMaxRetry: 4,
          levelLoadingRetryDelay: 1e3,
          levelLoadingMaxRetryTimeout: 64e3,
          fragLoadingTimeOut: 2e4,
          fragLoadingMaxRetry: 6,
          fragLoadingRetryDelay: 1e3,
          fragLoadingMaxRetryTimeout: 64e3,
          startFragPrefetch: !1,
          fpsDroppedMonitoringPeriod: 5e3,
          fpsDroppedMonitoringThreshold: .2,
          appendErrorMaxRetry: 3,
          loader: Ve,
          fLoader: void 0,
          pLoader: void 0,
          xhrSetup: void 0,
          licenseXhrSetup: void 0,
          abrController: Fe,
          bufferController: Be,
          capLevelController: Ge,
          fpsController: Ke,
          stretchShortVideoTrack: !1,
          maxAudioFramesDrift: 1,
          forceKeyFrameOnDiscontinuity: !0,
          abrEwmaFastLive: 3,
          abrEwmaSlowLive: 9,
          abrEwmaFastVoD: 3,
          abrEwmaSlowVoD: 9,
          abrEwmaDefaultEstimate: 5e5,
          abrBandWidthFactor: .95,
          abrBandWidthUpFactor: .7,
          abrMaxWithRealBitrate: !1,
          maxStarvationDelay: 4,
          maxLoadingDelay: 4,
          minAutoBitrate: 0,
          emeEnabled: !1,
          widevineLicenseUrl: void 0,
          drmSystemOptions: {},
          requestMediaKeySystemAccessFunc: Nt,
          testBandwidth: !0
        }, {
          cueHandler: n,
          enableCEA708Captions: !0,
          enableWebVTT: !0,
          captionsTextTrack1Label: "English",
          captionsTextTrack1LanguageCode: "en",
          captionsTextTrack2Label: "Spanish",
          captionsTextTrack2LanguageCode: "es",
          captionsTextTrack3Label: "Unknown CC",
          captionsTextTrack3LanguageCode: "",
          captionsTextTrack4Label: "Unknown CC",
          captionsTextTrack4LanguageCode: "",
          renderTextTracksNatively: !0
        }), {}, {
          subtitleStreamController: Pt,
          subtitleTrackController: xt,
          timelineController: Ot,
          audioStreamController: ze,
          audioTrackController: qe,
          emeController: Ft
        });

        function Ht(e, t) {
          var r = Object.keys(e);
          if(Object.getOwnPropertySymbols) {
            var n = Object.getOwnPropertySymbols(e);
            t && (n = n.filter((function(t) {
              return Object.getOwnPropertyDescriptor(e, t).enumerable
            }))), r.push.apply(r, n)
          }
          return r
        }

        function Kt(e) {
          for(var t = 1; t < arguments.length; t++) {
            var r = null != arguments[t] ? arguments[t] : {};
            t % 2 ? Ht(Object(r), !0).forEach((function(t) {
              Vt(e, t, r[t])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : Ht(Object(r)).forEach((function(t) {
              Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
            }))
          }
          return e
        }

        function Vt(e, t, r) {
          return t in e ? Object.defineProperty(e, t, {
            value: r,
            enumerable: !0,
            configurable: !0,
            writable: !0
          }) : e[t] = r, e
        }

        function qt(e) {
          if(void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          return e
        }

        function Wt(e, t) {
          for(var r = 0; r < t.length; r++) {
            var n = t[r];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
          }
        }

        function zt(e, t, r) {
          return t && Wt(e.prototype, t), r && Wt(e, r), e
        }
        var Yt = function(e) {
          var t, r;

          function n(t) {
            var r;
            void 0 === t && (t = {}), (r = e.call(this) || this).config = void 0, r._autoLevelCapping = void 0, r.abrController = void 0, r.capLevelController = void 0, r.levelController = void 0, r.streamController = void 0, r.networkControllers = void 0, r.audioTrackController = void 0, r.subtitleTrackController = void 0, r.emeController = void 0, r.coreComponents = void 0, r.media = null, r.url = null;
            var i = n.DefaultConfig;
            if((t.liveSyncDurationCount || t.liveMaxLatencyDurationCount) && (t.liveSyncDuration || t.liveMaxLatencyDuration)) throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");
            r.config = Kt(Kt({}, i), t);
            var a = qt(r).config;
            if(void 0 !== a.liveMaxLatencyDurationCount && a.liveMaxLatencyDurationCount <= a.liveSyncDurationCount) throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');
            if(void 0 !== a.liveMaxLatencyDuration && (void 0 === a.liveSyncDuration || a.liveMaxLatencyDuration <= a.liveSyncDuration)) throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');
            Object(c.a)(a.debug), r._autoLevelCapping = -1;
            var o = r.abrController = new a.abrController(qt(r)),
              s = new a.bufferController(qt(r)),
              u = r.capLevelController = new a.capLevelController(qt(r)),
              l = new a.fpsController(qt(r)),
              d = new D(qt(r)),
              f = new x(qt(r)),
              h = new I(qt(r)),
              p = new Ie(qt(r)),
              v = r.levelController = new Oe(qt(r)),
              g = new U(qt(r)),
              m = [v, r.streamController = new Le(qt(r), g)],
              y = a.audioStreamController;
            y && m.push(new y(qt(r), g)), r.networkControllers = m;
            var _ = [d, f, h, o, s, u, l, p, g];
            if(y = a.audioTrackController) {
              var b = new y(qt(r));
              r.audioTrackController = b, _.push(b)
            }
            if(y = a.subtitleTrackController) {
              var E = new y(qt(r));
              r.subtitleTrackController = E, m.push(E)
            }
            if(y = a.emeController) {
              var A = new y(qt(r));
              r.emeController = A, _.push(A)
            }
            return (y = a.subtitleStreamController) && m.push(new y(qt(r), g)), (y = a.timelineController) && _.push(new y(qt(r))), r.coreComponents = _, r
          }
          r = e, (t = n).prototype = Object.create(r.prototype), t.prototype.constructor = t, t.__proto__ = r, n.isSupported = function() {
            return function() {
              var e = V();
              if(!e) return !1;
              var t = self.SourceBuffer || self.WebKitSourceBuffer,
                r = e && "function" == typeof e.isTypeSupported && e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),
                n = !t || t.prototype && "function" == typeof t.prototype.appendBuffer && "function" == typeof t.prototype.remove;
              return !!r && !!n
            }()
          }, zt(n, null, [{
            key: "version",
            get: function() {
              return "0.14.15"
            }
          }, {
            key: "Events",
            get: function() {
              return l.a
            }
          }, {
            key: "ErrorTypes",
            get: function() {
              return s.b
            }
          }, {
            key: "ErrorDetails",
            get: function() {
              return s.a
            }
          }, {
            key: "DefaultConfig",
            get: function() {
              return n.defaultConfig ? n.defaultConfig : Gt
            },
            set: function(e) {
              n.defaultConfig = e
            }
          }]);
          var i = n.prototype;
          return i.destroy = function() {
            c.b.log("destroy"), this.trigger(l.a.DESTROYING), this.detachMedia(), this.coreComponents.concat(this.networkControllers).forEach((function(e) {
              e.destroy()
            })), this.url = null, this.removeAllListeners(), this._autoLevelCapping = -1
          }, i.attachMedia = function(e) {
            c.b.log("attachMedia"), this.media = e, this.trigger(l.a.MEDIA_ATTACHING, {
              media: e
            })
          }, i.detachMedia = function() {
            c.b.log("detachMedia"), this.trigger(l.a.MEDIA_DETACHING), this.media = null
          }, i.loadSource = function(e) {
            e = o.buildAbsoluteURL(window.location.href, e, {
              alwaysNormalize: !0
            }), c.b.log("loadSource:" + e), this.url = e, this.trigger(l.a.MANIFEST_LOADING, {
              url: e
            })
          }, i.startLoad = function(e) {
            void 0 === e && (e = -1), c.b.log("startLoad(" + e + ")"), this.networkControllers.forEach((function(t) {
              t.startLoad(e)
            }))
          }, i.stopLoad = function() {
            c.b.log("stopLoad"), this.networkControllers.forEach((function(e) {
              e.stopLoad()
            }))
          }, i.swapAudioCodec = function() {
            c.b.log("swapAudioCodec"), this.streamController.swapAudioCodec()
          }, i.recoverMediaError = function() {
            c.b.log("recoverMediaError");
            var e = this.media;
            this.detachMedia(), e && this.attachMedia(e)
          }, i.removeLevel = function(e, t) {
            void 0 === t && (t = 0), this.levelController.removeLevel(e, t)
          }, zt(n, [{
            key: "levels",
            get: function() {
              return this.levelController.levels
            }
          }, {
            key: "currentLevel",
            get: function() {
              return this.streamController.currentLevel
            },
            set: function(e) {
              c.b.log("set currentLevel:" + e), this.loadLevel = e, this.streamController.immediateLevelSwitch()
            }
          }, {
            key: "nextLevel",
            get: function() {
              return this.streamController.nextLevel
            },
            set: function(e) {
              c.b.log("set nextLevel:" + e), this.levelController.manualLevel = e, this.streamController.nextLevelSwitch()
            }
          }, {
            key: "loadLevel",
            get: function() {
              return this.levelController.level
            },
            set: function(e) {
              c.b.log("set loadLevel:" + e), this.levelController.manualLevel = e
            }
          }, {
            key: "nextLoadLevel",
            get: function() {
              return this.levelController.nextLoadLevel
            },
            set: function(e) {
              this.levelController.nextLoadLevel = e
            }
          }, {
            key: "firstLevel",
            get: function() {
              return Math.max(this.levelController.firstLevel, this.minAutoLevel)
            },
            set: function(e) {
              c.b.log("set firstLevel:" + e), this.levelController.firstLevel = e
            }
          }, {
            key: "startLevel",
            get: function() {
              return this.levelController.startLevel
            },
            set: function(e) {
              c.b.log("set startLevel:" + e), -1 !== e && (e = Math.max(e, this.minAutoLevel)), this.levelController.startLevel = e
            }
          }, {
            key: "capLevelToPlayerSize",
            set: function(e) {
              var t = !!e;
              t !== this.config.capLevelToPlayerSize && (t ? this.capLevelController.startCapping() : (this.capLevelController.stopCapping(), this.autoLevelCapping = -1, this.streamController.nextLevelSwitch()), this.config.capLevelToPlayerSize = t)
            }
          }, {
            key: "autoLevelCapping",
            get: function() {
              return this._autoLevelCapping
            },
            set: function(e) {
              c.b.log("set autoLevelCapping:" + e), this._autoLevelCapping = e
            }
          }, {
            key: "bandwidthEstimate",
            get: function() {
              var e = this.abrController._bwEstimator;
              return e ? e.getEstimate() : NaN
            }
          }, {
            key: "autoLevelEnabled",
            get: function() {
              return -1 === this.levelController.manualLevel
            }
          }, {
            key: "manualLevel",
            get: function() {
              return this.levelController.manualLevel
            }
          }, {
            key: "minAutoLevel",
            get: function() {
              for(var e = this.levels, t = this.config.minAutoBitrate, r = e ? e.length : 0, n = 0; n < r; n++)
                if((e[n].realBitrate ? Math.max(e[n].realBitrate, e[n].bitrate) : e[n].bitrate) > t) return n;
              return 0
            }
          }, {
            key: "maxAutoLevel",
            get: function() {
              var e = this.levels,
                t = this.autoLevelCapping;
              return -1 === t && e && e.length ? e.length - 1 : t
            }
          }, {
            key: "nextAutoLevel",
            get: function() {
              return Math.min(Math.max(this.abrController.nextAutoLevel, this.minAutoLevel), this.maxAutoLevel)
            },
            set: function(e) {
              this.abrController.nextAutoLevel = Math.max(this.minAutoLevel, e)
            }
          }, {
            key: "audioTracks",
            get: function() {
              var e = this.audioTrackController;
              return e ? e.audioTracks : []
            }
          }, {
            key: "audioTrack",
            get: function() {
              var e = this.audioTrackController;
              return e ? e.audioTrack : -1
            },
            set: function(e) {
              var t = this.audioTrackController;
              t && (t.audioTrack = e)
            }
          }, {
            key: "liveSyncPosition",
            get: function() {
              return this.streamController.liveSyncPosition
            }
          }, {
            key: "subtitleTracks",
            get: function() {
              var e = this.subtitleTrackController;
              return e ? e.subtitleTracks : []
            }
          }, {
            key: "subtitleTrack",
            get: function() {
              var e = this.subtitleTrackController;
              return e ? e.subtitleTrack : -1
            },
            set: function(e) {
              var t = this.subtitleTrackController;
              t && (t.subtitleTrack = e)
            }
          }, {
            key: "subtitleDisplay",
            get: function() {
              var e = this.subtitleTrackController;
              return !!e && e.subtitleDisplay
            },
            set: function(e) {
              var t = this.subtitleTrackController;
              t && (t.subtitleDisplay = e)
            }
          }]), n
        }(W);
        Yt.defaultConfig = void 0
      }]).default)
    }))),
    dn = "Hls" in window ? window.Hls : cn,
    fn = "audio:set",
    hn = "audio:update",
    pn = "audio:tracks";
  var vn = [dn.Events.SUBTITLE_TRACKS_UPDATED, dn.Events.SUBTITLE_TRACK_SWITCH, dn.Events.LEVEL_SWITCHED];

  function gn(e, t) {
    vn.forEach((function(r) {
      e.on(r, (function() {
        ! function(e, t) {
          var r = e.levels[e.currentLevel];
          if(!r || !e.subtitleTracks.length || r.attrs.SUB) return;
          var n = a(r, "attrs.SUBTITLES");
          if(!n) return t.emit("tracks:text:all", []);
          var i = e.subtitleTracks.filter((function(e) {
            return e.groupId == n
          })).map((function(e) {
            return t.textTracks[e.id]
          }));
          t.emit("tracks:text:all", i)
        }(e, t)
      }))
    }))
  }
  var mn = r({
      404: "the video was not found",
      403: "access to this video was denied",
      410: "the video no longer exists",
      0: "no internet connection detected"
    }, {
      keySystemNoKeys: "no keys",
      keySystemNoAccess: "no access to key system",
      keySystemNoSession: "no session for key system",
      keySystemLicenseRequestFailed: "license request failed",
      keyLoadError: "decrypt key load failed",
      keyLoadTimeOut: "decrypt key load timed outs"
    }),
    yn = [].forEach;
  var _n = Object.freeze({
      __proto__: null,
      ATTACHED: "hls:attached"
    }),
    bn = dn.ErrorTypes,
    En = dn.ErrorDetails;

  function An() {
    return dn.isSupported()
  }

  function Tn(e, t) {
    e.render().one("waiting", (function() {
      t.startLoad(e.opts.start_time)
    }))
  }

  function wn(e, t, r) {
    e.hls && (e.emit("recover", {
      type: "hls"
    }), e.hls.destroy());
    var i = !1,
      o = "live" in t.video == 0,
      s = {};
    In(s);
    if(r.drm && !Sr() && "localhost" !== location.hostname && "127.0.0.1" !== location.hostname) return e.emit(F, {
      message: "Secure page required for DRM"
    });
    var u = n({}, t.hls, {
        startPosition: a(e, "opts.start_time", -1)
      }),
      l = new dn(u);
    ! function(e) {
      e.coreComponents.filter((function(e) {
        return "function" == typeof e._cleanTracks
      })).forEach((function(e) {
        e._cleanTracks = function() {
          var e = this.media;
          if(e && e.textTracks) {
            var t = e.textTracks;
            yn.call(t, (function(e) {
              (e.textTrack1 || e.textTrack2) && function(e) {
                if(e)
                  for("disabled" === e.mode && (e.mode = "hidden"); e.cues && e.cues.length > 0;) e.removeCue(e.cues[0])
              }(e)
            }))
          }
        }
      }))
    }(l), e.reaper.put("hls", l), l.attachMedia(e), l.loadSource(r.src), e.emit("hls:attached", {
        hls: l
      }),
      function(e, t) {
        e.on(dn.Events.AUDIO_TRACKS_UPDATED, (function(e, r) {
          t.emit(pn, r.audioTracks)
        })), e.on(dn.Events.AUDIO_TRACK_SWITCHING, (function(e, r) {
          t.emit(hn, r)
        })), e.on(dn.Events.MANIFEST_PARSED, (function(e, r) {
          r.audioTracks && t.emit(pn, r.audioTracks)
        })), e.on(dn.Events.LEVEL_SWITCHED, (function(r, n) {
          var i = e.levels[n.level];
          i && t.emit(pn, e.audioTracks.filter((function(e) {
            return i.audioGroupIds.indexOf(e.groupId) > -1
          })))
        }))
      }(l, e), gn(l, e);
    var c = function(e) {
        var t = e.data.level;
        l.levels[t] || -1 === t ? l.nextLevel = t : console.error(new Error("skipping invalid quality: ", e.data))
      },
      d = function(e) {
        var t = e.data;
        t.id != l.audioTrack && setTimeout((function() {
          "number" == typeof t.id && (l.audioTrack = t.id)
        }), 0)
      };
    if(e.on("quality:set", c), e.on(fn, d), e.on("src", (function(t) {
        e.hls && e.hls.destroy(), e.off("quality:set", c), e.off(fn, d), In(s)
      })), e.on("audioonlysource", (function() {
        i = !0
      })), e.on(G, (function() {
        l && l.destroy()
      })), o && l.on(dn.Events.LEVEL_LOADED, (function(t, r) {
        e.setOpts({
          live: r.details.live
        })
      })), l.on(dn.Events.MANIFEST_PARSED, (function(t, r) {
        var n = r.levels.map((function(e, t) {
          return e.level = t, e
        })).sort((function(e, t) {
          return t.width - e.width
        }));
        n.push({
          text: "AUTO",
          level: -1
        }), e.emit("qualities", n), n.filter((function(e) {
          return !!e.videoCodec
        })).length || e.emit("audioonlysource");
        var i = r.levels.filter((function(e) {
          return !!e.videoCodec
        }))[0];
        !e.opts.ratio && i && e.setOpts({
          ratio: i.width + ":" + i.height
        })
      })), l.on(dn.Events.LEVEL_PTS_UPDATED, (function(t, r) {
        if("video" === r.type || i && "audio" === r.type) {
          var n = a(r, "details.fragments");
          if(!n) return;
          var o = n[0].start || 0,
            s = n[n.length - 1].start + n[n.length - 1].duration;
          e.setOpts({
            live_dvr_window: s - o
          })
        }
      })), l.on(dn.Events.FRAG_PARSING_DATA, (function(e, t) {
        t.hasAudio && -1 == s.audio_start_pts && (s.audio_start_pts = t.startPTS), t.hasVideo && -1 == s.video_start_pts && (s.video_start_pts = t.startPTS)
      })), l.on(dn.Events.INIT_PTS_FOUND, (function(e, t) {
        s.init_pts_duration = a(t, "frag.duration", 1)
      })), l.on(dn.Events.ERROR, (function(t, r) {
        kn(e, r, r.src, s, u)
      })), e.opts.start_time && e.once(B, (function() {
        e.currentTime = e.opts.start_time
      })), !u.autoStartLoad) return Tn(e, l);
    e.on("loadstart", (function() {
      l.startLoad(e.opts.start_time)
    })), e.on("beforeplay", (function(t) {
      if(0 != e.opts.live && "number" == typeof e.opts.live_dvr_window && 0 != e.buffered.length) {
        var r = e.buffered.end(e.buffered.length - 1),
          n = r - e.currentTime,
          i = .5 * e.opts.live_dvr_window;
        if(console.debug("Video::%s(live_window: %s, currentTime: %s, buffered_to: %s, current_offset: %s, allowed_drift: %s)", t.type, e.opts.live_dvr_window, e.currentTime, r, n, i), !(n < i)) {
          var a = Math.min(e.buffered.start(e.buffered.length - 1), e.buffered.end(e.buffered.length - 1) - i);
          a = Math.max(e.currentTime, a), console.debug("Livestream(:drift) autocorrect from %s -> %s", e.currentTime, a), e.currentTime = a
        }
      }
    }))
  }

  function Sn() {
    return Date.now()
  }

  function kn(e, t, r, n, i) {
    if(0 != e.reaper && (console.debug("recover(error: %o, config: %o)", t, i), 0 != t.fatal)) switch(t.type) {
      case bn.MEDIA_ERROR:
        return Ln(e, t, i, n);
      case bn.NETWORK_ERROR:
        return Rn(e, t);
      case bn.KEY_SYSTEM_ERROR:
        return Cn(e, t)
    }
  }

  function Rn(e, t, r, n) {
    var i = a(t, "networkDetails.status", t.details);
    e.emit(F, {
      fatal: !0,
      code: "http:" + i.toString(),
      message: mn[i] || "an error occurred while loading this video"
    })
  }

  function Ln(e, t, r, n) {
    if(console.debug("media_error(error: %o, config: %o)", t, r), !a(e, "opts.live") && t.details === En.BUFFER_STALLED_ERROR) return e.currentTime <= r.nudgeMaxRetry * r.nudgeOffset ? n.video_start_pts !== n.audio_start_pts ? void(e.currentTime = Math.max(n.video_start_pts, n.audio_start_pts)) : n.segment_skip_count > 0 ? On(e) : (++n.segment_skip_count, void(e.currentTime += n.init_pts_duration)) : Sn() - n.last_codec_recover < 3e3 ? On(e) : Sn() - n.last_auto_recover < 3e3 ? Dn(e.hls, n) : void xn(e.hls, n)
  }

  function On(e) {
    e.emit(F, {
      fatal: !0,
      message: "Unrecoverable error occurred while playing media"
    }), e.hls.destroy()
  }

  function Cn(e, t) {
    e.emit(F, {
      fatal: !0,
      message: mn[t.details] || "an error occurred while accessing this video"
    }), e.hls.destroy()
  }

  function Dn(e, t) {
    return t.last_codec_recover = Sn(), e.swapAudioCodec(), e.recoverMediaError(), !0
  }

  function xn(e, t) {
    return t.last_auto_recover = Sn(), e.recoverMediaError(), !0
  }

  function In(e) {
    n(e, {
      init_pts_duration: 0,
      segment_skip_count: 0,
      audio_start_pts: -1,
      video_start_pts: -1,
      last_auto_recover: 0,
      last_codec_recover: 0
    })
  }
  var Mn = Object.freeze({
    __proto__: null,
    Errors: bn,
    ErrorDetails: En,
    vendor: dn,
    is_supported: An,
    lazy: Tn,
    create_hls: wn,
    now: Sn,
    recover: kn,
    handle_network_error: Rn,
    media_error: Ln,
    handle_unrecoverable_media_error: On,
    handle_key_system_error: Cn,
    swap_audio_codec: Dn,
    auto_recover: xn
  });

  function Pn() {
    return "function" == typeof MediaSource && An()
  }

  function Nn(e, t, r, i) {
    if(Pn() && i) {
      var o = a(e, "hls", a(e, "plugin.hls", {})),
        s = {
          autoStartLoad: "none" !== r.opt("preload") || e.autoplay
        };
      wn(r, {
        hls: n(s, o),
        video: e
      }, i)
    }
  }
  n(Nn, {
    wants: Pn() ? function(e, t, r) {
      var n = a(r, "hls.native", !1);
      if(N().video(on) && n) return !1;
      if(t && t.drm && (0 === Object.keys(t.drm).filter((function(e) {
          return t = e, [nn].filter((function(e) {
            return e === t
          })).length;
          var t
        })).length || N().safari)) return !1;
      if(ln(e) && e.type && ~sn.indexOf(e.type)) return e.src;
      if(ln(e) && e.src && un(e.src)) return e.src;
      for(var i = (e = Array.isArray(e) ? e : we(e)).length - 1; i >= 0; i--) {
        var o = e[i];
        if(o.type && ~sn.indexOf(o.type)) return o.src;
        if(un(o.src)) return o.src
      }
      return !1
    } : function() {
      return !1
    },
    Hls: Mn,
    has_hls_support: Pn,
    events: _n
  }), Pn() && Ge(window, Nn);
  const Fn = e => "object" == typeof e && null !== e && !Array.isArray(e),
    Un = (...e) => e.reduce((e, t) => Fn(t) ? (Object.keys(t).forEach(r => {
      if(Fn(e[r]) && Fn(t[r])) return e[r] = Un(e[r], t[r]);
      e[r] = t[r]
    }), e) : e, {});
  var Bn = [].slice,
    jn = Array.isArray;

  function Gn(e) {
    return e && "object" == typeof e && "[object RegExp]" !== Object.prototype.toString.call(e) && "[object Date]" !== Object.prototype.toString.call(e)
  }

  function Hn(e, t) {
    return e.length === e.filter(t).length
  }

  function Kn() {
    return Hn(Bn.call(arguments), jn)
  }

  function Vn(e, t) {
    for(var r in e) t(r, e[r])
  }

  function qn(e) {
    return Gn(e) ? jn(e) ? e.map(qn) : zn({}, e) : e
  }

  function Wn(e, t) {
    var r = {};
    return Vn(e, (function(e, t) {
        r[e] = qn(t)
      })),
      function(e, t) {
        return Vn(t, (function(t, r) {
          if(void 0 === e[t]) return e[t] = qn(r);
          e[t] = zn(e[t], r)
        })), e
      }(r, t)
  }

  function zn(e, t) {
    return Kn(e, t) ? function(e) {
      return qn(e)
    }(e) : !1 === e ? e : !0 === e && !1 !== t || !Gn(e) && Gn(t) ? t : void 0 === e || Gn(e) ? Gn(e) && !Gn(t) ? e : function() {
      return Hn(Bn.call(arguments), Gn)
    }(e, t) ? Wn(e, t) : void 0 : e
  }

  function Yn() {
    return [].reduce.call(arguments, (function(e, t) {
      return zn(e, t)
    }), Kn.apply(null, arguments) ? [] : {})
  }

  function Xn() {
    return Yn.apply(null, Bn.call(arguments).reverse())
  }

  function Qn(e, t) {
    var n = new XMLHttpRequest;
    n.open("GET", e, !0), n.onreadystatechange = function() {
      try {
        var e = n.status;
        if(n.readyState < 4) return;
        if(200 != e && n.readyState > 3 && "function" == typeof t.err) {
          var i = {
            status: e
          };
          try {
            r(i, JSON.parse(n.responseText))
          }
          catch (i) {}
          return t.err(i)
        }
        t.ok(JSON.parse(n.responseText))
      }
      catch (i) {
        console.error(i), t.err(i)
      }
    }, n.send()
  }

  function Jn() {
    var e = [].join.call(arguments, "/");
    return "/" !== e[0] && (e = "/" + e), Zn() + "/web/public/native/config" + e
  }

  function Zn() {
    return ("undefined" != typeof flowplayer ? flowplayer : {}).OVP_API || "https://ljsp.lwcdn.com"
  }

  function $n(e) {
    return ~e.indexOf("/") ? e : "/media/" + e
  }
  var ei = {
    404: "media not found",
    402: "invalid subscription",
    400: "bad request",
    415: "unsupported media type"
  };

  function ti(e, t) {
    var r = n({}, e);
    return t.forEach((function(e) {
      delete r[e]
    })), r
  }
  var ri = {
    media_id: "id",
    media_duration: "duration",
    media_name: "title",
    media_tags: "tags",
    category: "category_name",
    ad_keywords: "ad_keywords"
  };
  var ni = ["src", "metadata", "title", "description", "duration", "poster"];

  function ii(e) {
    var t = a(e, "ima.ads");
    return Array.isArray(t) && o(e, "ima.ads", t.map((function(t) {
      return "number" == typeof t.percentage && (t.time = t.percentage * e.duration), t
    }))), e
  }

  function ai(e, t) {
    t = "object" == typeof t ? t : {};
    var r = {
      title: a(e, "metadata.title", null),
      description: a(e, "metadata.description", null)
    };
    return Xn({
      ima: {
        parameters: function(e, t, r) {
          for(var n in r = r || {}, e) r[n] = a(t || {}, e[n]);
          return r
        }(ri, a(e, "metadata", {}))
      }
    }, r, e, ti(t, ni), ti(t.embed || {}, ["src"]))
  }
  var oi = /[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/;

  function si(e) {
    return "object" == typeof e && "ovp/base64" == e.type
  }

  function ui(e, t, r) {
    return function(e, t) {
      return !(~e.indexOf(".") || !oi.test(e)) && (t.type = "video/ovp", !0)
    }(e, t) || si(t)
  }

  function li(e) {
    try {
      return ci(decodeURIComponent(atob(e).split("").map((function(e) {
        return "%" + ("00" + e.charCodeAt(0).toString(16)).slice(-2)
      })).join("")))
    }
    catch (e) {
      return {
        err: e.message
      }
    }
  }

  function ci(e) {
    return null === e ? {} : JSON.parse(e)
  }
  var di = Object.freeze({
    __proto__: null,
    base64: li,
    json: ci
  });

  function fi(e) {
    var t = e.split(/[^0-9]/);
    return Date.UTC(t[0], t[1] - 1, t[2], t[3], t[4], t[5])
  }
  var hi = Object.freeze({
    __proto__: null,
    OVP_ERROR: "ovp:error",
    OVP_MEDIA_REQUEST_START: "ovp:request:start",
    OVP_MEDIA_REQUEST_COMPLETE: "ovp:request:media:complete",
    OVP_PLAYLIST_REQUEST_COMPLETE: "ovp:request:playlist:complete",
    LIVE_COUNTDOWN_TICK: "ovp:live:countdown:tick",
    LIVE_COUNTDOWN_START: "ovp:live:countdown:start",
    LIVE_COUNTDOWN_COMPLETE: "ovp:live:countdown:complete",
    OVP_MEDIA_CHANGED: "ovp:media:changed",
    OVP_REALTIME_MESSAGE: "ovp:message:realtime"
  });

  function pi(e, t) {
    if(si(t)) return vi(e, t);
    le(t).fmap(a, "src").fmap($n).fmap(Jn).fmap(Qn, {
      ok: le.curry(gi, [e]),
      err: le.curry(mi, [e])
    })
  }

  function vi(e, t) {
    le(t).fmap(a, "src").fmap(le.maybe, li).fmap(le.maybe, le.curry(gi, [e]))
  }

  function gi(e, t) {
    if(e.emit("ovp:media:changed", t), a(t, "playlist")) return _i(e, t);
    if(a(t, "live")) return bi(e, t);
    if(a(t, "src")) return yi(e, t);
    throw new Error("Status[200] >> unhandled case\n" + JSON.stringify(t, null, 2))
  }

  function mi(e, t) {
    return t.message ? e.emit("ovp:error", t) : t.status ? e.emit("ovp:error", new Error(ei[t.status])) : e.emit("ovp:error", t)
  }

  function yi(e, t) {
    e.emit("ovp:request:media:complete", le.of(t).fmap(ai, e.opts).fmap(ii).fmap(le.lift))
  }

  function _i(e, t) {
    if("function" != typeof flowplayer.playlist) return console.warn("OVP responded with Playlist media but the playlist plugin does not exist"), mi(e, {
      status: 415
    });
    var r, i, o, s;
    e.emit("ovp:request:playlist:complete", (r = e.opts, i = t, o = n({}, r), n(s = Xn({}, i, a(r, "playlist", {})), {
      playlist: a(s, "playlist", []).map((function(e) {
        return ai(e, o)
      }))
    })))
  }

  function bi(e, t) {
    var r = a(t, "metadata.live_start_time", a(t, "metadata.starttime"));
    o(t, "live_start_time", le.of(r).fmap(fi).fmap(le.lift)), e.emit("ovp:live:countdown:start", le.of(t).fmap(ai, e.opts).fmap(ii).fmap(le.lift))
  }
  var Ei = {};

  function Ai(e, t) {
    if("object" == typeof Ei[t]) return console.debug("using Cache(%s)", t), Ti(e, t, Ei[t]);
    le(t).fmap(Jn).fmap(Qn, {
      ok: le.curry(Ti, [e, t]),
      err: console.error
    })
  }

  function Ti(e, t, r) {
    "object" != typeof Ei[t] && (Ei[t] = r);
    var i = a(e, "opts", {}),
      s = a(i, "metadata", {});
    o(s, "player_id", t), ["title", "description"].forEach((function(e) {
      !0 === r[e] && "string" == typeof i[e] && o(r, e, a(i, e))
    })), o(i, "metadata", s);
    var u = n(i, r);
    e.setOpts(u), r.autoplay && e.togglePlay(!0)
  }
  var wi = Object.freeze({
      __proto__: null,
      fetch_unknown_media: pi,
      handle_base64: vi,
      handle_200: gi,
      handle_err: mi,
      handle_single_media: yi,
      handle_playlist: _i,
      handle_live: bi,
      fetch_player_id: Ai,
      handle_player_only: Ti
    }),
    Si = void 0;

  function ki(e, t, r) {
    Ri() || le.of("recommendation").fmap(Jn, t, r).fmap(Qn, {
      err: Li,
      ok: le.curry(Oi, [e])
    })
  }

  function Ri() {
    return Si
  }

  function Li(e) {
    Si = !0, console.error("Failed to load recommendations: %j", e)
  }

  function Oi(e, t) {
    var r = t.playlist;
    o(e, "opts.recommendations", r), a(r, "length", 0) && e.emit("recommendationsready", {
      playlist: r.map((function(e) {
        return {
          poster: e.poster,
          src: e.src,
          title: a(e, "metadata.title"),
          metadata: e.metadata || {}
        }
      }))
    })
  }

  function Ci(e, r, n) {
    if(!xi(e)) return n.emit("ovp:request:media:complete", e);
    var i = r.append(E.div({
        class: "fp-livecountdown"
      })),
      o = i.append(E.div({
        class: "fp-inner"
      }));
    o.append(E.p({}, n._t("ovp.starting_in")));
    var u = o.append(E.p({
      class: "fp-countdown"
    }));

    function l(e) {
      var t = a(e, "data.remaining", -1);
      if(t < 0 || isNaN(t)) return n.emit("ovp:live:countdown:complete");
      r.addClass("is-livecountdown"), u.txt(function(e) {
        var t = function(e) {
            "number" != typeof e && (e = parseInt(e, 10)), e = Math.round(e);
            var t = Math.floor(e / 86400);
            e -= 86400 * t;
            var r = Math.floor(e / 3600);
            e -= 3600 * r;
            var n = Math.floor(e / 60);
            return {
              days: t,
              hours: r,
              minutes: n,
              seconds: e -= 60 * n
            }
          }(e),
          r = "";
        t.days && (r += t.days + ":");
        return r + s(t.hours) + ":" + s(t.minutes) + ":" + s(t.seconds)
      }(t + 1)), n.hasState(O) || n.setState(O, !0)
    }
    n.on("ovp:live:countdown:tick", l), n.one("ovp:live:countdown:complete", (function() {
        i.remove(), r.removeClass("is-livecountdown"), n.off("ovp:live:countdown:tick", l), n.emit("ovp:request:media:complete", e)
      })),
      function(e, r) {
        var n;

        function i() {
          return function(e, t) {
            var r = Date.now() - t;
            return Math.floor((e - r) / 1e3)
          }(r.live_start_time, a(r, "server_time_offset", 0))
        }

        function o() {
          var t = i();
          e.emit("ovp:live:countdown:tick", {
            remaining: t
          }), (t < 0 || 0 === e.reaper) && clearInterval(n)
        }
        s = r, u = {
          err: console.error,
          ok: t
        }, Qn(Zn() + "/web/public/countdown/time.json", {
          err: u.err,
          ok: function(e) {
            var t = Date.now() - e.millisUtc;
            u.ok(zn(s, {
              server_time_offset: t
            }))
          }
        }), o(), n = setInterval(o, 250);
        var s, u
      }(n, e)
  }

  function Di(e, t, r) {}

  function xi(e) {
    return e && e.live_start_time - Date.now() > 0
  }

  function Ii(e, t, r) {
    var n = "flowplayer-ovp-branding-" + t;
    if(!e.hasClass(n)) {
      ! function(e) {
        if(-1 == e.className.indexOf("flowplayer-ovp-branding-")) return;
        e.className = e.className.split(" ").filter((function(e) {
          return -1 == e.indexOf("flowplayer-ovp-branding-")
        })).join(" ")
      }(e);
      var i = function(e) {
        if(document.getElementById(e)) return !1;
        var t = document.createElement("style");
        return t.id = e, t.appendChild(document.createTextNode("")), document.head.appendChild(t), t.sheet
      }(n);
      i && (! function(e, t, r, n) {
        if("insertRule" in e) return e.insertRule(t + "{" + r + "}", n);
        if("addRule" in e) e.addRule(t, r, n)
      }(i, "." + n + " .fp-color", "background-color: #" + r + ";"), e.addClass(n))
    }
  }
  class Mi {
    constructor(e) {
      this.manualDisconnect = !1, this.video = e, this.onClose = this.onClose.bind(this), this.onMessage = this.onMessage.bind(this)
    }
    static of (e) {
      return new Mi(e)
    }
    connect(e) {
      this.client = new WebSocket("wss://player.ws.flowplayer.com?mediaId=" + e), this.current_media_id = e, this.wireup()
    }
    onClose() {
      this.manualDisconnect ? this.manualDisconnect = !1 : this.current_media_id && this.reconnect(this.current_media_id)
    }
    onMessage(e) {
      const t = JSON.parse(e.data);
      for(const e of t) this.video.emit("ovp:message:realtime", e)
    }
    reconnect(e) {
      this.cleanup(), this.connect(e)
    }
    wireup() {
      this.client && (this.client.addEventListener("message", this.onMessage), this.client.addEventListener("close", this.onClose))
    }
    cleanup() {
      this.client && (this.client.removeEventListener("message", this.onMessage), this.client.removeEventListener("close", this.onClose), this.client = void 0)
    }
    disconnect() {
      this.client && (this.manualDisconnect = !0, this.client.close())
    }
  }

  function Pi(e, t, i, o) {
    var s = new Mi(i),
      u = n({}, e),
      l = function(e) {
        if(!u) return e;
        delete u.src;
        var t = Un(e, u);
        return u = 0, t
      };
    if(4 == arguments.length && "object" == typeof o) return "string" != typeof e.player_id || 0 === o.src.indexOf(e.player_id) || si(o) || (o.src = [e.player_id, o.src].join("/")), pi(i, o);
    i.on("ovp:error", (function(e) {
      i.emit(F, e.data)
    })), i.on("ovp:request:start", (function() {
      i.setState(D, !0), e.recommendations && (e.recommendations = 1)
    })), i.on("ovp:media:changed", (function(e) {
      if(a(e, "data.live")) {
        var t = a(e, "data.metadata.media_id");
        s.disconnect(), s.connect(t)
      }
    })), i.on("ovp:message:realtime", (function(t) {
      var n = a(t, "data.event"),
        o = a(t, "data.value");
      switch(n) {
        case "METADATA":
          var s = r(e, {
            metadata: r(a(i, "opts.metadata", {}), o)
          });
          s.live && a(s, "metadata.live_start_time") && (s.live_start_time = fi(s.metadata.live_start_time)), i.setOpts(s)
      }
    })), i.on("beforeplay", (function(t) {
      Fi(e) || t.preventDefault()
    })), i.on("ovp:request:media:complete", (function(e) {
      if(0 != i.reaper && "object" == typeof e.data && !xi(e.data)) {
        var t = l(e.data);
        i.setOpts(t), i.setAttrs(t), i.setSrc(t.src), t.autoplay && i.togglePlay(!0, (function() {
          setTimeout(i.setState, 0, x, !1)
        }))
      }
    })), i.on(H, (function(r) {
      var n = a(r, "data.brand_color"),
        o = a(r, "data.metadata.player_id");
      if(n && o && Ii(t, o, n), !("string" == typeof e.src && ui(e.src, {}) || e.src && e.src.length && "ovp/base64" === e.src[0].type)) return "string" == typeof e.player_id && a(e, "metadata.player_id") !== e.player_id ? Ai(i, e.player_id) : void 0
    })), i.on("ovp:request:playlist:complete", (function(e) {
      if(0 != i.reaper && "object" == typeof e.data) {
        var r = l(e.data);
        flowplayer.playlist(t, r)
      }
    })), i.on("ovp:live:countdown:start", (function(r) {
      if(0 != i.reaper && "object" == typeof r.data) {
        var n = l(r.data);
        i.setOpts(n), i.setAttrs(n), i.render("live/countdown", [e, t, i])
      }
    })), i.on("timeupdate", (function() {
      e.live ? Fi(e) || (i.togglePlay(!1), i.emit("ended")) : e.recommendations && a(e, "metadata.media_id") && (Array.isArray(e.recommendations) || i.currentTime / i.duration < .8 || Ri() || ki(i, a(e, "metadata.media_id"), a(e, "metadata.player_id")))
    })), i.on(G, (function() {
      s.disconnect()
    }))
  }
  Pi.onumd = function(e) {
    e.components.put("live/countdown", {
      onrender: Ci,
      onremove: Di
    })
  }, Pi.wants = ui;
  var Ni = {
    events: hi,
    Decode: di,
    Loader: wi
  };

  function Fi(e) {
    var t = a(e, "metadata.live_stop_time", !1);
    return !t || a(e, "metadata.allow_after_stop_time", !0) || fi(t) > Date.now()
  }
  Ge(He(), r(Pi, Ni));
  var Ui = et(tt((function(e, t) {
    window,
    e.exports = function(e) {
      var t = {};

      function r(n) {
        if(t[n]) return t[n].exports;
        var i = t[n] = {
          i: n,
          l: !1,
          exports: {}
        };
        return e[n].call(i.exports, i, i.exports, r), i.l = !0, i.exports
      }
      return r.m = e, r.c = t, r.d = function(e, t, n) {
        r.o(e, t) || Object.defineProperty(e, t, {
          enumerable: !0,
          get: n
        })
      }, r.r = function(e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
          value: "Module"
        }), Object.defineProperty(e, "__esModule", {
          value: !0
        })
      }, r.t = function(e, t) {
        if(1 & t && (e = r(e)), 8 & t) return e;
        if(4 & t && "object" == typeof e && e && e.__esModule) return e;
        var n = Object.create(null);
        if(r.r(n), Object.defineProperty(n, "default", {
            enumerable: !0,
            value: e
          }), 2 & t && "string" != typeof e)
          for(var i in e) r.d(n, i, function(t) {
            return e[t]
          }.bind(null, i));
        return n
      }, r.n = function(e) {
        var t = e && e.__esModule ? function() {
          return e.default
        } : function() {
          return e
        };
        return r.d(t, "a", t), t
      }, r.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
      }, r.p = "/", r(r.s = 111)
    }([function(e, t, r) {
      t.a = {
        AD_INIT: "ad-initialized",
        AD_PLAYBACK_ERROR: "ad-playback-error",
        AD_TEARDOWN: "ad-teardown",
        AD_VIDEOTAG_ATTACHED: "ad-videotag-attached",
        AD_BLOCKED: "ad-blocked",
        AD_REQUEST_ERROR: "ad-request-error",
        AD_REQUESTED: "ad-requested",
        AD_REQUEST_COMPLETED: "ad-request-completed",
        AD_PAUSE_CONTENT: "ad-pause-content",
        AD_STARTED: "ad-started",
        AD_COMPLETED: "ad-completed",
        AD_PAUSED: "ad-paused",
        AD_RESUMED: "ad-resumed",
        AD_WAITING: "ad-waiting",
        AD_PROGRESS: "ad-progress",
        AD_SKIPPED: "ad-skipped",
        AD_MUTED: "ad-muted",
        AD_VOLUME_CHANGED: "ad-volume-changed",
        AD_FULLSCREEN: "ad-fullscreen",
        AD_BREAK_COMPLETED: "ad-break-completed",
        AD_POSTROLL_FINISHED: "ad-postroll-finished",
        AD_PREROLL_FINSIHED: "ad-preroll-finished",
        AD_MIDROLL_FINISHED: "ad-midroll-finished",
        VPAID_INIT: "vpaid-init",
        IMA_ADAPTER_INIT: "ad-ima-adapter-init",
        IMA_BEFORE_ADS_REQUEST: "ad-ima-before-ads-request",
        IMA_ADS_RENDERING_SETTINGS: "ad-ima-rendeding-settings",
        ADAPTER_INIT_FAILED: "ad-adapter-init-failed",
        AD_PLAY_REQUESTED: "ad-play-requested",
        RELOAD_AD_REQUESTED: "reload-ad-requested"
      }
    }, function(e, t, r) {
      e.exports = r(82)
    }, function(e, t) {
      function r(e, t, r, n, i, a, o) {
        try {
          var s = e[a](o),
            u = s.value
        }
        catch (e) {
          return void r(e)
        }
        s.done ? t(u) : Promise.resolve(u).then(n, i)
      }
      e.exports = function(e) {
        return function() {
          var t = this,
            n = arguments;
          return new Promise((function(i, a) {
            var o = e.apply(t, n);

            function s(e) {
              r(o, i, a, s, u, "next", e)
            }

            function u(e) {
              r(o, i, a, s, u, "throw", e)
            }
            s(void 0)
          }))
        }
      }
    }, function(e, t) {
      function r(e, t) {
        for(var r = 0; r < t.length; r++) {
          var n = t[r];
          n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
        }
      }
      e.exports = function(e, t, n) {
        return t && r(e.prototype, t), n && r(e, n), e
      }
    }, function(e, t) {
      e.exports = function(e, t) {
        if(!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
      }
    }, function(e, t, r) {
      var n = r(27);
      e.exports = function(e) {
        for(var t = 1; t < arguments.length; t++) {
          var r = null != arguments[t] ? arguments[t] : {},
            i = Object.keys(r);
          "function" == typeof Object.getOwnPropertySymbols && (i = i.concat(Object.getOwnPropertySymbols(r).filter((function(e) {
            return Object.getOwnPropertyDescriptor(r, e).enumerable
          })))), i.forEach((function(t) {
            n(e, t, r[t])
          }))
        }
        return e
      }
    }, function(e, t) {
      function r(e) {
        return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
          return typeof e
        } : function(e) {
          return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
      }

      function n(t) {
        return "function" == typeof Symbol && "symbol" === r(Symbol.iterator) ? e.exports = n = function(e) {
          return r(e)
        } : e.exports = n = function(e) {
          return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : r(e)
        }, n(t)
      }
      e.exports = n
    }, function(e, t, r) {
      var n, i, a, o;

      function s(e) {
        return function(e) {
          if(Array.isArray(e)) {
            for(var t = 0, r = new Array(e.length); t < e.length; t++) r[t] = e[t];
            return r
          }
        }(e) || function(e) {
          if(Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e)
        }(e) || function() {
          throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
      }

      function u(e) {
        return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
          return typeof e
        } : function(e) {
          return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
      }
      o = function() {
        return function e(t, r, n) {
          function i(o, s) {
            if(!r[o]) {
              if(!t[o]) {
                if(a) return a(o, !0);
                var u = new Error("Cannot find module '" + o + "'");
                throw u.code = "MODULE_NOT_FOUND", u
              }
              var l = r[o] = {
                exports: {}
              };
              t[o][0].call(l.exports, (function(e) {
                return i(t[o][1][e] || e)
              }), l, l.exports, e, t, r, n)
            }
            return r[o].exports
          }
          for(var a = !1, o = 0; o < n.length; o++) i(n[o]);
          return i
        }({
          1: [function(e, t, r) {
            var n = 1e3,
              i = 6e4,
              a = 60 * i,
              o = 24 * a;

            function s(e, t, r, n) {
              var i = t >= 1.5 * r;
              return Math.round(e / r) + " " + n + (i ? "s" : "")
            }
            t.exports = function(e, t) {
              t = t || {};
              var r, l, c = u(e);
              if("string" === c && e.length > 0) return function(e) {
                if(!((e = String(e)).length > 100)) {
                  var t = /^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);
                  if(t) {
                    var r = parseFloat(t[1]);
                    switch((t[2] || "ms").toLowerCase()) {
                      case "years":
                      case "year":
                      case "yrs":
                      case "yr":
                      case "y":
                        return 315576e5 * r;
                      case "weeks":
                      case "week":
                      case "w":
                        return 6048e5 * r;
                      case "days":
                      case "day":
                      case "d":
                        return r * o;
                      case "hours":
                      case "hour":
                      case "hrs":
                      case "hr":
                      case "h":
                        return r * a;
                      case "minutes":
                      case "minute":
                      case "mins":
                      case "min":
                      case "m":
                        return r * i;
                      case "seconds":
                      case "second":
                      case "secs":
                      case "sec":
                      case "s":
                        return r * n;
                      case "milliseconds":
                      case "millisecond":
                      case "msecs":
                      case "msec":
                      case "ms":
                        return r;
                      default:
                        return
                    }
                  }
                }
              }(e);
              if("number" === c && !1 === isNaN(e)) return t.long ? (r = e, (l = Math.abs(r)) >= o ? s(r, l, o, "day") : l >= a ? s(r, l, a, "hour") : l >= i ? s(r, l, i, "minute") : l >= n ? s(r, l, n, "second") : r + " ms") : function(e) {
                var t = Math.abs(e);
                return t >= o ? Math.round(e / o) + "d" : t >= a ? Math.round(e / a) + "h" : t >= i ? Math.round(e / i) + "m" : t >= n ? Math.round(e / n) + "s" : e + "ms"
              }(e);
              throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(e))
            }
          }, {}],
          2: [function(e, t, r) {
            var n, i, a = t.exports = {};

            function o() {
              throw new Error("setTimeout has not been defined")
            }

            function s() {
              throw new Error("clearTimeout has not been defined")
            }

            function u(e) {
              if(n === setTimeout) return setTimeout(e, 0);
              if((n === o || !n) && setTimeout) return n = setTimeout, setTimeout(e, 0);
              try {
                return n(e, 0)
              }
              catch (t) {
                try {
                  return n.call(null, e, 0)
                }
                catch (t) {
                  return n.call(this, e, 0)
                }
              }
            }! function() {
              try {
                n = "function" == typeof setTimeout ? setTimeout : o
              }
              catch (e) {
                n = o
              }
              try {
                i = "function" == typeof clearTimeout ? clearTimeout : s
              }
              catch (e) {
                i = s
              }
            }();
            var l, c = [],
              d = !1,
              f = -1;

            function h() {
              d && l && (d = !1, l.length ? c = l.concat(c) : f = -1, c.length && p())
            }

            function p() {
              if(!d) {
                var e = u(h);
                d = !0;
                for(var t = c.length; t;) {
                  for(l = c, c = []; ++f < t;) l && l[f].run();
                  f = -1, t = c.length
                }
                l = null, d = !1,
                  function(e) {
                    if(i === clearTimeout) return clearTimeout(e);
                    if((i === s || !i) && clearTimeout) return i = clearTimeout, clearTimeout(e);
                    try {
                      i(e)
                    }
                    catch (t) {
                      try {
                        return i.call(null, e)
                      }
                      catch (t) {
                        return i.call(this, e)
                      }
                    }
                  }(e)
              }
            }

            function v(e, t) {
              this.fun = e, this.array = t
            }

            function g() {}
            a.nextTick = function(e) {
              var t = new Array(arguments.length - 1);
              if(arguments.length > 1)
                for(var r = 1; r < arguments.length; r++) t[r - 1] = arguments[r];
              c.push(new v(e, t)), 1 !== c.length || d || u(p)
            }, v.prototype.run = function() {
              this.fun.apply(null, this.array)
            }, a.title = "browser", a.browser = !0, a.env = {}, a.argv = [], a.version = "", a.versions = {}, a.on = g, a.addListener = g, a.once = g, a.off = g, a.removeListener = g, a.removeAllListeners = g, a.emit = g, a.prependListener = g, a.prependOnceListener = g, a.listeners = function(e) {
              return []
            }, a.binding = function(e) {
              throw new Error("process.binding is not supported")
            }, a.cwd = function() {
              return "/"
            }, a.chdir = function(e) {
              throw new Error("process.chdir is not supported")
            }, a.umask = function() {
              return 0
            }
          }, {}],
          3: [function(e, t, r) {
            t.exports = function(t) {
              function r(e) {
                for(var t = 0, r = 0; r < e.length; r++) t = (t << 5) - t + e.charCodeAt(r), t |= 0;
                return n.colors[Math.abs(t) % n.colors.length]
              }

              function n(e) {
                var t;

                function o() {
                  for(var e = arguments.length, r = new Array(e), i = 0; i < e; i++) r[i] = arguments[i];
                  if(o.enabled) {
                    var a = o,
                      s = Number(new Date),
                      u = s - (t || s);
                    a.diff = u, a.prev = t, a.curr = s, t = s, r[0] = n.coerce(r[0]), "string" != typeof r[0] && r.unshift("%O");
                    var l = 0;
                    r[0] = r[0].replace(/%([a-zA-Z%])/g, (function(e, t) {
                      if("%%" === e) return e;
                      l++;
                      var i = n.formatters[t];
                      if("function" == typeof i) {
                        var o = r[l];
                        e = i.call(a, o), r.splice(l, 1), l--
                      }
                      return e
                    })), n.formatArgs.call(a, r);
                    var c = a.log || n.log;
                    c.apply(a, r)
                  }
                }
                return o.namespace = e, o.enabled = n.enabled(e), o.useColors = n.useColors(), o.color = r(e), o.destroy = i, o.extend = a, "function" == typeof n.init && n.init(o), n.instances.push(o), o
              }

              function i() {
                var e = n.instances.indexOf(this);
                return -1 !== e && (n.instances.splice(e, 1), !0)
              }

              function a(e, t) {
                var r = n(this.namespace + (void 0 === t ? ":" : t) + e);
                return r.log = this.log, r
              }

              function o(e) {
                return e.toString().substring(2, e.toString().length - 2).replace(/\.\*\?$/, "*")
              }
              return n.debug = n, n.default = n, n.coerce = function(e) {
                return e instanceof Error ? e.stack || e.message : e
              }, n.disable = function() {
                var e = [].concat(s(n.names.map(o)), s(n.skips.map(o).map((function(e) {
                  return "-" + e
                })))).join(",");
                return n.enable(""), e
              }, n.enable = function(e) {
                var t;
                n.save(e), n.names = [], n.skips = [];
                var r = ("string" == typeof e ? e : "").split(/[\s,]+/),
                  i = r.length;
                for(t = 0; t < i; t++) r[t] && ("-" === (e = r[t].replace(/\*/g, ".*?"))[0] ? n.skips.push(new RegExp("^" + e.substr(1) + "$")) : n.names.push(new RegExp("^" + e + "$")));
                for(t = 0; t < n.instances.length; t++) {
                  var a = n.instances[t];
                  a.enabled = n.enabled(a.namespace)
                }
              }, n.enabled = function(e) {
                if("*" === e[e.length - 1]) return !0;
                var t, r;
                for(t = 0, r = n.skips.length; t < r; t++)
                  if(n.skips[t].test(e)) return !1;
                for(t = 0, r = n.names.length; t < r; t++)
                  if(n.names[t].test(e)) return !0;
                return !1
              }, n.humanize = e("ms"), Object.keys(t).forEach((function(e) {
                n[e] = t[e]
              })), n.instances = [], n.names = [], n.skips = [], n.formatters = {}, n.selectColor = r, n.enable(n.load()), n
            }
          }, {
            ms: 1
          }],
          4: [function(e, t, r) {
            (function(n) {
              r.log = function() {
                var e;
                return "object" === ("undefined" == typeof console ? "undefined" : u(console)) && console.log && (e = console).log.apply(e, arguments)
              }, r.formatArgs = function(e) {
                if(e[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + e[0] + (this.useColors ? "%c " : " ") + "+" + t.exports.humanize(this.diff), this.useColors) {
                  var r = "color: " + this.color;
                  e.splice(1, 0, r, "color: inherit");
                  var n = 0,
                    i = 0;
                  e[0].replace(/%[a-zA-Z%]/g, (function(e) {
                    "%%" !== e && (n++, "%c" === e && (i = n))
                  })), e.splice(i, 0, r)
                }
              }, r.save = function(e) {
                try {
                  e ? r.storage.setItem("debug", e) : r.storage.removeItem("debug")
                }
                catch (e) {}
              }, r.load = function() {
                var e;
                try {
                  e = r.storage.getItem("debug")
                }
                catch (e) {}
                return !e && void 0 !== n && "env" in n && (e = n.env.DEBUG), e
              }, r.useColors = function() {
                return !("undefined" == typeof window || !window.process || "renderer" !== window.process.type && !window.process.__nwjs) || ("undefined" == typeof navigator || !navigator.userAgent || !navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) && ("undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))
              }, r.storage = function() {
                try {
                  return localStorage
                }
                catch (e) {}
              }(), r.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"], t.exports = e("./common")(r), t.exports.formatters.j = function(e) {
                try {
                  return JSON.stringify(e)
                }
                catch (e) {
                  return "[UnexpectedJSONParseError]: " + e.message
                }
              }
            }).call(this, e("_process"))
          }, {
            "./common": 3,
            _process: 2
          }]
        }, {}, [4])(4)
      }, "object" === u(t) && void 0 !== e ? e.exports = o() : (i = [], void 0 === (a = "function" == typeof(n = o) ? n.apply(t, i) : n) || (e.exports = a))
    }, function(e, t) {
      function r(t) {
        return e.exports = r = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
          return e.__proto__ || Object.getPrototypeOf(e)
        }, r(t)
      }
      e.exports = r
    }, function(e, t, r) {
      r.d(t, "a", (function() {
        return s
      }));
      var n = r(4),
        i = r.n(n),
        a = r(3),
        o = r.n(a),
        s = function() {
          function e(t, r) {
            i()(this, e), this._nextIndex = 0, this._postroll = 0, this._loadPending = !1, this._opts = r || {}, this.reset(t)
          }
          return o()(e, null, [{
            key: "of",
            value: function(t, r) {
              return new e(t, r)
            }
          }]), o()(e, [{
            key: "toJSON",
            value: function() {
              var e = (this._ads || []).slice(this._nextIndex);
              return this._postroll && e.push(this._postroll), e
            }
          }, {
            key: "reset",
            value: function(e) {
              this.setAds(e), this._nextIndex = 0, this._postrollActive = !1
            }
          }, {
            key: "resetCounter",
            value: function() {
              this._nextIndex = 0, this._postrollActive = !1
            }
          }, {
            key: "setAds",
            value: function(e) {
              this._ads = e || [], this.sort()
            }
          }, {
            key: "getAds",
            value: function() {
              return this._ads
            }
          }, {
            key: "getNextAd",
            value: function(e) {
              return this._ads[this._nextIndex] || e
            }
          }, {
            key: "getCurrentAd",
            value: function() {
              return this._postrollActive ? this._postroll : this._loadPending ? 0 : this._ads[this._nextIndex - 1]
            }
          }, {
            key: "getPostroll",
            value: function() {
              return this._postroll
            }
          }, {
            key: "isDrained",
            value: function() {
              return this._nextIndex + 1 > this._ads.length
            }
          }, {
            key: "setPostrollActive",
            value: function() {
              this._postrollActive = !0
            }
          }, {
            key: "updateContentDuration",
            value: function(e) {
              this._opts.content_duration = e
            }
          }, {
            key: "increment",
            value: function() {
              ++this._nextIndex
            }
          }, {
            key: "decrement",
            value: function() {
              this._nextIndex > 0 && --this._nextIndex
            }
          }, {
            key: "getNextIndex",
            value: function() {
              return this._nextIndex
            }
          }, {
            key: "getCurrentType",
            value: function() {
              return this.getCurrentAd() && e.kindOf(this.getCurrentAd().time)
            }
          }, {
            key: "sort",
            value: function() {
              var e = this;
              this._postroll = this._ads.filter((function(e) {
                return -1 === e.time
              }))[0], this._ads = this._ads.filter((function(t) {
                return t !== e._postroll
              })).sort((function(t, r) {
                return t.time === r.time ? e._ads.indexOf(t) - e._ads.indexOf(r) : t.time - r.time
              }))
            }
          }, {
            key: "shallPlayAd",
            value: function(e) {
              if(this._loadPending) return !1;
              var t = this.getCurrentAd() || this.getNextAd();
              return !!(t && t.time <= e && -1 !== t.time)
            }
          }, {
            key: "shallPlayNext",
            value: function() {
              var e = this.getNextAd(),
                t = this.getCurrentAd();
              return !(!e || !t || e.time !== t.time)
            }
          }, {
            key: "waitForLoad",
            value: function(e, t, r) {
              if(this._loadPending = !1, !t) return !1;
              var n = r ? this._opts.preload_advance : 0;
              return t.time >= 0 ? this._loadPending = e < t.time - n : -1 === t.time && (this._loadPending = this._opts.content_duration > 0 && -1 !== e ? e < this._opts.content_duration - n : -1 !== e), this._loadPending
            }
          }], [{
            key: "hasPreroll",
            value: function(e) {
              return !!e.find((function(e) {
                return 0 === e.time
              }))
            }
          }, {
            key: "isOutstream",
            value: function(t) {
              return e.hasPreroll(t) && !!t[0].outstream
            }
          }, {
            key: "kindOf",
            value: function(e) {
              switch(e) {
                case 0:
                  return "preroll";
                case -1:
                  return "postroll";
                default:
                  return "midroll"
              }
            }
          }]), e
        }()
    }, function(e, t) {
      var r = e.exports = {
        version: "2.5.7"
      };
      "number" == typeof __e && (__e = r)
    }, function(e, t, r) {
      var n = r(6),
        i = r(16);
      e.exports = function(e, t) {
        return !t || "object" !== n(t) && "function" != typeof t ? i(e) : t
      }
    }, function(e, t, r) {
      var n = r(52);
      e.exports = function(e, t) {
        if("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
        e.prototype = Object.create(t && t.prototype, {
          constructor: {
            value: e,
            writable: !0,
            configurable: !0
          }
        }), t && n(e, t)
      }
    }, function(e, t) {
      var r = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
      "number" == typeof __g && (__g = r)
    }, function(e, t, r) {
      var n = r(13),
        i = r(10),
        a = r(21),
        o = r(61),
        s = r(32),
        u = function(e, t, r) {
          var l, c, d, f, h = e & u.F,
            p = e & u.G,
            v = e & u.S,
            g = e & u.P,
            m = e & u.B,
            y = p ? n : v ? n[t] || (n[t] = {}) : (n[t] || {}).prototype,
            _ = p ? i : i[t] || (i[t] = {}),
            b = _.prototype || (_.prototype = {});
          for(l in p && (r = t), r) d = ((c = !h && y && void 0 !== y[l]) ? y : r)[l], f = m && c ? s(d, n) : g && "function" == typeof d ? s(Function.call, d) : d, y && o(y, l, d, e & u.U), _[l] != d && a(_, l, f), g && b[l] != d && (b[l] = d)
        };
      n.core = i, u.F = 1, u.G = 2, u.S = 4, u.P = 8, u.B = 16, u.W = 32, u.U = 64, u.R = 128, e.exports = u
    }, function(e, t) {
      e.exports = function(e) {
        return "object" == typeof e ? null !== e : "function" == typeof e
      }
    }, function(e, t) {
      e.exports = function(e) {
        if(void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
      }
    }, function(e, t, r) {
      var n = r(85),
        i = r(86),
        a = r(87);
      e.exports = function(e, t) {
        return n(e) || i(e, t) || a()
      }
    }, function(e, t, r) {
      e.exports = function(e) {
        var t = [];
        return t.toString = function() {
          return this.map((function(t) {
            var r = function(e, t) {
              var r, n, i, a = e[1] || "",
                o = e[3];
              if(!o) return a;
              if(t && "function" == typeof btoa) {
                var s = (r = o, n = btoa(unescape(encodeURIComponent(JSON.stringify(r)))), i = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n), "/*# ".concat(i, " */")),
                  u = o.sources.map((function(e) {
                    return "/*# sourceURL=".concat(o.sourceRoot).concat(e, " */")
                  }));
                return [a].concat(u).concat([s]).join("\n")
              }
              return [a].join("\n")
            }(t, e);
            return t[2] ? "@media ".concat(t[2], "{").concat(r, "}") : r
          })).join("")
        }, t.i = function(e, r) {
          "string" == typeof e && (e = [
            [null, e, ""]
          ]);
          for(var n = {}, i = 0; i < this.length; i++) {
            var a = this[i][0];
            null != a && (n[a] = !0)
          }
          for(var o = 0; o < e.length; o++) {
            var s = e[o];
            null != s[0] && n[s[0]] || (r && !s[2] ? s[2] = r : r && (s[2] = "(".concat(s[2], ") and (").concat(r, ")")), t.push(s))
          }
        }, t
      }
    }, function(e, t, r) {
      var n, i = {},
        a = function() {
          var e = {};
          return function(t) {
            if(void 0 === e[t]) {
              var r = document.querySelector(t);
              if(window.HTMLIFrameElement && r instanceof window.HTMLIFrameElement) try {
                r = r.contentDocument.head
              }
              catch (e) {
                r = null
              }
              e[t] = r
            }
            return e[t]
          }
        }();

      function o(e, t) {
        for(var r = [], n = {}, i = 0; i < e.length; i++) {
          var a = e[i],
            o = t.base ? a[0] + t.base : a[0],
            s = {
              css: a[1],
              media: a[2],
              sourceMap: a[3]
            };
          n[o] ? n[o].parts.push(s) : r.push(n[o] = {
            id: o,
            parts: [s]
          })
        }
        return r
      }

      function s(e, t) {
        for(var r = 0; r < e.length; r++) {
          var n = e[r],
            a = i[n.id],
            o = 0;
          if(a) {
            for(a.refs++; o < a.parts.length; o++) a.parts[o](n.parts[o]);
            for(; o < n.parts.length; o++) a.parts.push(v(n.parts[o], t))
          }
          else {
            for(var s = []; o < n.parts.length; o++) s.push(v(n.parts[o], t));
            i[n.id] = {
              id: n.id,
              refs: 1,
              parts: s
            }
          }
        }
      }

      function u(e) {
        var t = document.createElement("style");
        if(void 0 === e.attributes.nonce) {
          var n = r.nc;
          n && (e.attributes.nonce = n)
        }
        if(Object.keys(e.attributes).forEach((function(r) {
            t.setAttribute(r, e.attributes[r])
          })), "function" == typeof e.insert) e.insert(t);
        else {
          var i = a(e.insert || "head");
          if(!i) throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
          i.appendChild(t)
        }
        return t
      }
      var l, c = (l = [], function(e, t) {
        return l[e] = t, l.filter(Boolean).join("\n")
      });

      function d(e, t, r, n) {
        var i = r ? "" : n.css;
        if(e.styleSheet) e.styleSheet.cssText = c(t, i);
        else {
          var a = document.createTextNode(i),
            o = e.childNodes;
          o[t] && e.removeChild(o[t]), o.length ? e.insertBefore(a, o[t]) : e.appendChild(a)
        }
      }

      function f(e, t, r) {
        var n = r.css,
          i = r.media,
          a = r.sourceMap;
        if(i && e.setAttribute("media", i), a && btoa && (n += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a)))), " */")), e.styleSheet) e.styleSheet.cssText = n;
        else {
          for(; e.firstChild;) e.removeChild(e.firstChild);
          e.appendChild(document.createTextNode(n))
        }
      }
      var h = null,
        p = 0;

      function v(e, t) {
        var r, n, i;
        if(t.singleton) {
          var a = p++;
          r = h || (h = u(t)), n = d.bind(null, r, a, !1), i = d.bind(null, r, a, !0)
        }
        else r = u(t), n = f.bind(null, r, t), i = function() {
          ! function(e) {
            if(null === e.parentNode) return !1;
            e.parentNode.removeChild(e)
          }(r)
        };
        return n(e),
          function(t) {
            if(t) {
              if(t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap) return;
              n(e = t)
            }
            else i()
          }
      }
      e.exports = function(e, t) {
        (t = t || {}).attributes = "object" == typeof t.attributes ? t.attributes : {}, t.singleton || "boolean" == typeof t.singleton || (t.singleton = (void 0 === n && (n = Boolean(window && document && document.all && !window.atob)), n));
        var r = o(e, t);
        return s(r, t),
          function(e) {
            for(var n = [], a = 0; a < r.length; a++) {
              var u = r[a],
                l = i[u.id];
              l && (l.refs--, n.push(l))
            }
            e && s(o(e, t), t);
            for(var c = 0; c < n.length; c++) {
              var d = n[c];
              if(0 === d.refs) {
                for(var f = 0; f < d.parts.length; f++) d.parts[f]();
                delete i[d.id]
              }
            }
          }
      }
    }, function(e, t, r) {
      r.d(t, "b", (function() {
        return U
      })), r.d(t, "a", (function() {
        return F
      }));
      var n = r(47),
        i = r.n(n),
        a = r(4),
        o = r.n(a),
        s = r(3),
        u = r.n(s),
        l = r(27),
        c = r.n(l),
        d = r(7),
        f = r.n(d),
        h = r(17),
        p = r.n(h),
        v = {
          ok: f()("fpads:analytics:request-queue"),
          err: f()("fpads:analytics:request-queue:err"),
          warn: f()("fpads:analytics:request-queue:warn")
        },
        g = function() {
          function e() {
            o()(this, e), this.pending = [], this.open = [], this.stats = {
              failures: 0,
              ttl: 0
            }
          }
          return u()(e, null, [{
            key: "of",
            value: function() {
              return new e
            }
          }, {
            key: "is_empty",
            value: function(e) {
              return 0 == e.pending.size
            }
          }, {
            key: "is_high_water",
            value: function(t) {
              return t.open.size == e.MAX_OPEN_REQUESTS
            }
          }, {
            key: "maybe_spawn_req",
            value: function(t) {
              if(e.is_empty(t)) return v.ok("maybe_spawn_req called Queue that is EMPTY"), t;
              if(e.is_high_water(t)) return v.warn("maybe_spawn_req called on Queue that is HIGH_WATER"), t;
              try {
                e.request(t, e.lpop(t))
              }
              catch (e) {
                v.err(e)
              }
            }
          }, {
            key: "increment_failures",
            value: function(t) {
              return t.stats.failures++, t.stats.failures > e.MAX_FAILURE_COUNT && (t.stats.ttl = Date.now() + e.REQUEST_TTL_MS), t
            }
          }, {
            key: "handle_error",
            value: function(t, r) {
              e.rm(t, r), e.increment_failures(t)
            }
          }, {
            key: "request",
            value: function(t, r) {
              var n = p()(r, 3),
                i = n[0],
                a = n[1],
                o = n[2];
              if(v.ok("Request[".concat(o.event_type, "] request"), o, t.stats), Date.now() < t.stats.ttl) return v.warn("Request[".concat(o.event_type, "] skipping because too many errors too quickly"), t.stats);
              var s = new XMLHttpRequest;
              t.open.push(s), s.timeout = e.REQUEST_TIMEOUT_MS, s.ontimeout = function() {
                e.handle_error(t, s), v.warn("Request[".concat(o.event_type, "] timed out in ").concat(s.timeout, "ms"), t.stats)
              }, s.onerror = function(r) {
                e.handle_error(t, s), r && v.err(r), v.warn("Request[".concat(o.event_type, "] encountered an Error"), s.responseText, t.stats)
              }, s.onreadystatechange = function() {
                s.readyState == XMLHttpRequest.DONE && e.rm(t, s), Math.floor(s.status / 100)
              }, s.onload = function() {
                e.rm(t, s), t.stats.failures && t.stats.failures--, v.ok("Request[".concat(o.event_type, "] :ok"), s.stats)
              }, s.open(a, i), s.setRequestHeader("Content-Type", "text/plain;charset=UTF-8");
              try {
                s.send(JSON.stringify(o))
              }
              catch (e) {
                v.err(e)
              }
            }
          }, {
            key: "rpush",
            value: function(t) {
              for(var r = arguments.length, n = new Array(r > 1 ? r - 1 : 0), i = 1; i < r; i++) n[i - 1] = arguments[i];
              return n.forEach((function(r) {
                if(t.pending.length >= e.HIGH_WATER_PENDING) return v.warn("Too many open requests, skipping", t.stats);
                t.pending.push(r), e.maybe_spawn_req(t)
              })), t
            }
          }, {
            key: "lpop",
            value: function(e) {
              return e.pending.shift()
            }
          }, {
            key: "rm",
            value: function(e, t) {
              var r = e.open.lastIndexOf(t);
              return ~r && e.open.splice(r, 1), e
            }
          }]), e
        }();
      g.MAX_OPEN_REQUESTS = 3, g.MAX_PENDING = 5, g.REQUEST_TIMEOUT_MS = 4e3, g.REQUEST_TTL_MS = 5e3, g.MAX_FAILURE_COUNT = 3;
      var m = r(48),
        y = r.n(m),
        _ = r(49),
        b = r(7)("fpads:device"),
        E = y.a.parse(window.navigator.userAgent),
        A = E.platform,
        T = E.os,
        w = E.browser;
      b(E);
      var S = function(e) {
          return e && e.toLowerCase()
        },
        k = {
          rnd: Math.random().toString(36).substr(2, 32),
          os: S(T.name + (T.versionName ? " ".concat(T.versionName) : "")),
          device: S(A.type),
          browser: S(w.name),
          browser_version: (w && w.version ? w.version : "unknown").split(".").shift(),
          plugin_version: _.version
        },
        R = r(0),
        L = "https://fp-eu-w1-aai.flowplayer.com/in",
        O = "POST",
        C = [R.a.AD_REQUESTED, R.a.AD_REQUEST_ERROR, R.a.AD_REQUEST_COMPLETED, R.a.AD_COMPLETED, R.a.AD_STARTED, R.a.AD_ERROR, R.a.AD_SKIPPED],
        D = ["event_type", "ad_tag_id", "media_id", "player_id", "site_id", "sitegroup_id", "rnd", "os", "device", "browser", "browser_version", "plugin_version", "player_version"],
        x = ["vast_error", "reason", "request_load_time", "ad_type", "vast_ad_id"],
        I = f()("fpads:analytics"),
        M = g.of(),
        P = function() {
          for(var e = arguments.length, t = new Array(e), r = 0; r < e; r++) t[r] = arguments[r];
          return Object.assign.apply(Object, [{}].concat(t))
        },
        N = function(e) {
          for(var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++) r[n - 1] = arguments[n];
          return Object.keys(e).filter((function(e) {
            return ~r.indexOf(e)
          })).reduce((function(t, r) {
            return Object.assign(t, c()({}, r, e[r]))
          }), {})
        },
        F = function() {
          function e(t) {
            var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            o()(this, e), this.metadata = P(k, r.metadata || {}), this.emitter = t, this.events = r.events || [], this.required_keys = r.required_keys || [], this.optional_keys = r.optional_keys || [], this.valid_keys = this.required_keys.slice(0).concat(this.optional_keys), I(this), this.wireup()
          }
          return u()(e, null, [{
            key: "of",
            value: function(t, r) {
              return new e(t, r)
            }
          }, {
            key: "ensure_required_keys",
            value: function(e, t) {
              return e.required_keys.filter((function(e) {
                return !(e in t)
              }))
            }
          }, {
            key: "pluck_valid_keys",
            value: function(e, t) {
              return N.apply(void 0, [t].concat(i()(e.valid_keys)))
            }
          }, {
            key: "mergeMetadata",
            value: function(t) {
              var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
              return t.metadata = e.pluck_valid_keys(t, P(t.metadata, r, {
                player_version: window.flowplayer.version
              })), t
            }
          }]), u()(e, [{
            key: "wireup",
            value: function() {
              var t = this;
              t.events.forEach((function(r) {
                t.emitter.on(r, (function() {
                  var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    i = P(t.metadata, {
                      event_type: r
                    }, n),
                    a = e.pluck_valid_keys(t, i),
                    o = e.ensure_required_keys(t, a);
                  if(I("Event[".concat(r, "]"), {
                      payload: a,
                      observation: n
                    }), o.length) return I("Analytics.validate_metadata() failed for \n            Event[".concat(r, "]\n            missing keys: ").concat(o), a);
                  g.rpush(M, [L, O, a])
                }))
              }))
            }
          }, {
            key: "destroy",
            value: function() {
              this.metadata = void 0, this.emitter = void 0, this.events = void 0, this.required_keys = void 0, this.optional_keys = void 0, this.valid_keys = void 0
            }
          }]), e
        }(),
        U = function(e) {
          return F.of(e, {
            required_keys: D,
            optional_keys: x,
            events: C
          })
        }
    }, function(e, t, r) {
      var n = r(55),
        i = r(60);
      e.exports = r(22) ? function(e, t, r) {
        return n.f(e, t, i(1, r))
      } : function(e, t, r) {
        return e[t] = r, e
      }
    }, function(e, t, r) {
      e.exports = !r(23)((function() {
        return 7 != Object.defineProperty({}, "a", {
          get: function() {
            return 7
          }
        }).a
      }))
    }, function(e, t) {
      e.exports = function(e) {
        try {
          return !!e()
        }
        catch (e) {
          return !0
        }
      }
    }, function(e, t) {
      var r = 0,
        n = Math.random();
      e.exports = function(e) {
        return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++r + n).toString(36))
      }
    }, function(e, t, r) {
      var n = r(26),
        i = r(35);
      e.exports = function(e) {
        return n(i(e))
      }
    }, function(e, t, r) {
      var n = r(34);
      e.exports = Object("z").propertyIsEnumerable(0) ? Object : function(e) {
        return "String" == n(e) ? e.split("") : Object(e)
      }
    }, function(e, t) {
      e.exports = function(e, t, r) {
        return t in e ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }) : e[t] = r, e
      }
    }, function(e, t, r) {
      var n, i = "object" == typeof Reflect ? Reflect : null,
        a = i && "function" == typeof i.apply ? i.apply : function(e, t, r) {
          return Function.prototype.apply.call(e, t, r)
        };
      n = i && "function" == typeof i.ownKeys ? i.ownKeys : Object.getOwnPropertySymbols ? function(e) {
        return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))
      } : function(e) {
        return Object.getOwnPropertyNames(e)
      };
      var o = Number.isNaN || function(e) {
        return e != e
      };

      function s() {
        s.init.call(this)
      }
      e.exports = s, e.exports.once = function(e, t) {
        return new Promise((function(r, n) {
          function i() {
            void 0 !== a && e.removeListener("error", a), r([].slice.call(arguments))
          }
          var a;
          "error" !== t && (a = function(r) {
            e.removeListener(t, i), n(r)
          }, e.once("error", a)), e.once(t, i)
        }))
      }, s.EventEmitter = s, s.prototype._events = void 0, s.prototype._eventsCount = 0, s.prototype._maxListeners = void 0;
      var u = 10;

      function l(e) {
        if("function" != typeof e) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof e)
      }

      function c(e) {
        return void 0 === e._maxListeners ? s.defaultMaxListeners : e._maxListeners
      }

      function d(e, t, r, n) {
        var i, a, o, s;
        if(l(r), void 0 === (a = e._events) ? (a = e._events = Object.create(null), e._eventsCount = 0) : (void 0 !== a.newListener && (e.emit("newListener", t, r.listener ? r.listener : r), a = e._events), o = a[t]), void 0 === o) o = a[t] = r, ++e._eventsCount;
        else if("function" == typeof o ? o = a[t] = n ? [r, o] : [o, r] : n ? o.unshift(r) : o.push(r), (i = c(e)) > 0 && o.length > i && !o.warned) {
          o.warned = !0;
          var u = new Error("Possible EventEmitter memory leak detected. " + o.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit");
          u.name = "MaxListenersExceededWarning", u.emitter = e, u.type = t, u.count = o.length, s = u, console && console.warn && console.warn(s)
        }
        return e
      }

      function f() {
        if(!this.fired) return this.target.removeListener(this.type, this.wrapFn), this.fired = !0, 0 === arguments.length ? this.listener.call(this.target) : this.listener.apply(this.target, arguments)
      }

      function h(e, t, r) {
        var n = {
            fired: !1,
            wrapFn: void 0,
            target: e,
            type: t,
            listener: r
          },
          i = f.bind(n);
        return i.listener = r, n.wrapFn = i, i
      }

      function p(e, t, r) {
        var n = e._events;
        if(void 0 === n) return [];
        var i = n[t];
        return void 0 === i ? [] : "function" == typeof i ? r ? [i.listener || i] : [i] : r ? function(e) {
          for(var t = new Array(e.length), r = 0; r < t.length; ++r) t[r] = e[r].listener || e[r];
          return t
        }(i) : g(i, i.length)
      }

      function v(e) {
        var t = this._events;
        if(void 0 !== t) {
          var r = t[e];
          if("function" == typeof r) return 1;
          if(void 0 !== r) return r.length
        }
        return 0
      }

      function g(e, t) {
        for(var r = new Array(t), n = 0; n < t; ++n) r[n] = e[n];
        return r
      }
      Object.defineProperty(s, "defaultMaxListeners", {
        enumerable: !0,
        get: function() {
          return u
        },
        set: function(e) {
          if("number" != typeof e || e < 0 || o(e)) throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + e + ".");
          u = e
        }
      }), s.init = function() {
        void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0
      }, s.prototype.setMaxListeners = function(e) {
        if("number" != typeof e || e < 0 || o(e)) throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e + ".");
        return this._maxListeners = e, this
      }, s.prototype.getMaxListeners = function() {
        return c(this)
      }, s.prototype.emit = function(e) {
        for(var t = [], r = 1; r < arguments.length; r++) t.push(arguments[r]);
        var n = "error" === e,
          i = this._events;
        if(void 0 !== i) n = n && void 0 === i.error;
        else if(!n) return !1;
        if(n) {
          var o;
          if(t.length > 0 && (o = t[0]), o instanceof Error) throw o;
          var s = new Error("Unhandled error." + (o ? " (" + o.message + ")" : ""));
          throw s.context = o, s
        }
        var u = i[e];
        if(void 0 === u) return !1;
        if("function" == typeof u) a(u, this, t);
        else {
          var l = u.length,
            c = g(u, l);
          for(r = 0; r < l; ++r) a(c[r], this, t)
        }
        return !0
      }, s.prototype.addListener = function(e, t) {
        return d(this, e, t, !1)
      }, s.prototype.on = s.prototype.addListener, s.prototype.prependListener = function(e, t) {
        return d(this, e, t, !0)
      }, s.prototype.once = function(e, t) {
        return l(t), this.on(e, h(this, e, t)), this
      }, s.prototype.prependOnceListener = function(e, t) {
        return l(t), this.prependListener(e, h(this, e, t)), this
      }, s.prototype.removeListener = function(e, t) {
        var r, n, i, a, o;
        if(l(t), void 0 === (n = this._events)) return this;
        if(void 0 === (r = n[e])) return this;
        if(r === t || r.listener === t) 0 == --this._eventsCount ? this._events = Object.create(null) : (delete n[e], n.removeListener && this.emit("removeListener", e, r.listener || t));
        else if("function" != typeof r) {
          for(i = -1, a = r.length - 1; a >= 0; a--)
            if(r[a] === t || r[a].listener === t) {
              o = r[a].listener, i = a;
              break
            } if(i < 0) return this;
          0 === i ? r.shift() : function(e, t) {
            for(; t + 1 < e.length; t++) e[t] = e[t + 1];
            e.pop()
          }(r, i), 1 === r.length && (n[e] = r[0]), void 0 !== n.removeListener && this.emit("removeListener", e, o || t)
        }
        return this
      }, s.prototype.off = s.prototype.removeListener, s.prototype.removeAllListeners = function(e) {
        var t, r, n;
        if(void 0 === (r = this._events)) return this;
        if(void 0 === r.removeListener) return 0 === arguments.length ? (this._events = Object.create(null), this._eventsCount = 0) : void 0 !== r[e] && (0 == --this._eventsCount ? this._events = Object.create(null) : delete r[e]), this;
        if(0 === arguments.length) {
          var i, a = Object.keys(r);
          for(n = 0; n < a.length; ++n) "removeListener" !== (i = a[n]) && this.removeAllListeners(i);
          return this.removeAllListeners("removeListener"), this._events = Object.create(null), this._eventsCount = 0, this
        }
        if("function" == typeof(t = r[e])) this.removeListener(e, t);
        else if(void 0 !== t)
          for(n = t.length - 1; n >= 0; n--) this.removeListener(e, t[n]);
        return this
      }, s.prototype.listeners = function(e) {
        return p(this, e, !0)
      }, s.prototype.rawListeners = function(e) {
        return p(this, e, !1)
      }, s.listenerCount = function(e, t) {
        return "function" == typeof e.listenerCount ? e.listenerCount(t) : v.call(e, t)
      }, s.prototype.listenerCount = v, s.prototype.eventNames = function() {
        return this._eventsCount > 0 ? n(this._events) : []
      }
    }, function(e, t, r) {
      var n = r(88),
        i = r(89),
        a = r(44);
      e.exports = {
        formats: a,
        parse: i,
        stringify: n
      }
    }, function(e, t, r) {
      r.d(t, "a", (function() {
        return f
      }));
      var n = r(1),
        i = r.n(n),
        a = r(2),
        o = r.n(a),
        s = (new Blob([new Uint8Array([255, 227, 24, 196, 0, 0, 0, 3, 72, 1, 64, 0, 0, 4, 132, 16, 31, 227, 192, 225, 76, 255, 67, 12, 255, 221, 27, 255, 228, 97, 73, 63, 255, 195, 131, 69, 192, 232, 223, 255, 255, 207, 102, 239, 255, 255, 255, 101, 158, 206, 70, 20, 59, 255, 254, 95, 70, 149, 66, 4, 16, 128, 0, 2, 2, 32, 240, 138, 255, 36, 106, 183, 255, 227, 24, 196, 59, 11, 34, 62, 80, 49, 135, 40, 0, 253, 29, 191, 209, 200, 141, 71, 7, 255, 252, 152, 74, 15, 130, 33, 185, 6, 63, 255, 252, 195, 70, 203, 86, 53, 15, 255, 255, 247, 103, 76, 121, 64, 32, 47, 255, 34, 227, 194, 209, 138, 76, 65, 77, 69, 51, 46, 57, 55, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 255, 227, 24, 196, 73, 13, 153, 210, 100, 81, 135, 56, 0, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170])], {
          type: "audio/mpeg"
        }), new Blob([new Uint8Array([0, 0, 0, 28, 102, 116, 121, 112, 105, 115, 111, 109, 0, 0, 2, 0, 105, 115, 111, 109, 105, 115, 111, 50, 109, 112, 52, 49, 0, 0, 0, 8, 102, 114, 101, 101, 0, 0, 2, 239, 109, 100, 97, 116, 33, 16, 5, 32, 164, 27, 255, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 55, 167, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 112, 33, 16, 5, 32, 164, 27, 255, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 55, 167, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 112, 0, 0, 2, 194, 109, 111, 111, 118, 0, 0, 0, 108, 109, 118, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 232, 0, 0, 0, 47, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 1, 236, 116, 114, 97, 107, 0, 0, 0, 92, 116, 107, 104, 100, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 47, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 101, 100, 116, 115, 0, 0, 0, 28, 101, 108, 115, 116, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 47, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 100, 109, 100, 105, 97, 0, 0, 0, 32, 109, 100, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 172, 68, 0, 0, 8, 0, 85, 196, 0, 0, 0, 0, 0, 45, 104, 100, 108, 114, 0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0, 0, 0, 1, 15, 109, 105, 110, 102, 0, 0, 0, 16, 115, 109, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 100, 105, 110, 102, 0, 0, 0, 28, 100, 114, 101, 102, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1, 0, 0, 0, 211, 115, 116, 98, 108, 0, 0, 0, 103, 115, 116, 115, 100, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 87, 109, 112, 52, 97, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 16, 0, 0, 0, 0, 172, 68, 0, 0, 0, 0, 0, 51, 101, 115, 100, 115, 0, 0, 0, 0, 3, 128, 128, 128, 34, 0, 2, 0, 4, 128, 128, 128, 20, 64, 21, 0, 0, 0, 0, 1, 244, 0, 0, 1, 243, 249, 5, 128, 128, 128, 2, 18, 16, 6, 128, 128, 128, 1, 2, 0, 0, 0, 24, 115, 116, 116, 115, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 4, 0, 0, 0, 0, 28, 115, 116, 115, 99, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 1, 0, 0, 0, 28, 115, 116, 115, 122, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 1, 115, 0, 0, 1, 116, 0, 0, 0, 20, 115, 116, 99, 111, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 44, 0, 0, 0, 98, 117, 100, 116, 97, 0, 0, 0, 90, 109, 101, 116, 97, 0, 0, 0, 0, 0, 0, 0, 33, 104, 100, 108, 114, 0, 0, 0, 0, 0, 0, 0, 0, 109, 100, 105, 114, 97, 112, 112, 108, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 45, 105, 108, 115, 116, 0, 0, 0, 37, 169, 116, 111, 111, 0, 0, 0, 29, 100, 97, 116, 97, 0, 0, 0, 1, 0, 0, 0, 0, 76, 97, 118, 102, 53, 54, 46, 52, 48, 46, 49, 48, 49])], {
          type: "video/mp4"
        }));

      function u(e) {
        return Object.assign({
          muted: !1,
          timeout: 250,
          inline: !1
        }, e)
      }

      function l(e, t) {
        var r = e.muted,
          n = e.timeout,
          i = e.inline,
          a = t(),
          o = a.element,
          s = a.source,
          u = void 0,
          l = void 0,
          c = void 0;
        return o.muted = r, !0 === r && o.setAttribute("muted", "muted"), !0 === i && o.setAttribute("playsinline", "playsinline"), o.src = s, new Promise((function(e) {
          u = o.play(), l = setTimeout((function() {
            c(!1, new Error("Timeout " + n + " ms has been reached"))
          }), n), c = function(t) {
            var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
            clearTimeout(l), e({
              result: t,
              error: r
            })
          }, void 0 !== u ? u.then((function() {
            return c(!0)
          })).catch((function(e) {
            return c(!1, e)
          })) : c(!0)
        }))
      }
      var c = function(e) {
          return l(e = u(e), (function() {
            return {
              element: document.createElement("video"),
              source: URL.createObjectURL(s)
            }
          }))
        },
        d = void 0;

      function f() {
        return h.apply(this, arguments)
      }

      function h() {
        return (h = o()(i.a.mark((function e() {
          var t, r = arguments;
          return i.a.wrap((function(e) {
            for(;;) switch(e.prev = e.next) {
              case 0:
                if(t = !(r.length > 0 && void 0 !== r[0]) || r[0], !d) {
                  e.next = 3;
                  break
                }
                return e.abrupt("return", d);
              case 3:
                return e.next = 5, c({
                  timeout: 500,
                  muted: t
                });
              case 5:
                return d = e.sent, e.abrupt("return", d);
              case 7:
              case "end":
                return e.stop()
            }
          }), e, this)
        })))).apply(this, arguments)
      }
    }, function(e, t) {
      var r = {}.hasOwnProperty;
      e.exports = function(e, t) {
        return r.call(e, t)
      }
    }, function(e, t, r) {
      var n = r(62);
      e.exports = function(e, t, r) {
        if(n(e), void 0 === t) return e;
        switch(r) {
          case 1:
            return function(r) {
              return e.call(t, r)
            };
          case 2:
            return function(r, n) {
              return e.call(t, r, n)
            };
          case 3:
            return function(r, n, i) {
              return e.call(t, r, n, i)
            }
        }
        return function() {
          return e.apply(t, arguments)
        }
      }
    }, function(e, t, r) {
      var n = r(64),
        i = r(69);
      e.exports = Object.keys || function(e) {
        return n(e, i)
      }
    }, function(e, t) {
      var r = {}.toString;
      e.exports = function(e) {
        return r.call(e).slice(8, -1)
      }
    }, function(e, t) {
      e.exports = function(e) {
        if(null == e) throw TypeError("Can't call method on  " + e);
        return e
      }
    }, function(e, t, r) {
      var n = r(37),
        i = Math.min;
      e.exports = function(e) {
        return e > 0 ? i(n(e), 9007199254740991) : 0
      }
    }, function(e, t) {
      var r = Math.ceil,
        n = Math.floor;
      e.exports = function(e) {
        return isNaN(e = +e) ? 0 : (e > 0 ? n : r)(e)
      }
    }, function(e, t, r) {
      var n = r(10),
        i = r(13),
        a = i["__core-js_shared__"] || (i["__core-js_shared__"] = {});
      (e.exports = function(e, t) {
        return a[e] || (a[e] = void 0 !== t ? t : {})
      })("versions", []).push({
        version: n.version,
        mode: r(68) ? "pure" : "global",
        copyright: " 2018 Denis Pushkarev (zloirock.ru)"
      })
    }, function(e, t) {
      t.f = {}.propertyIsEnumerable
    }, function(e, t, r) {
      var n = r(35);
      e.exports = function(e) {
        return Object(n(e))
      }
    }, function(e, t, r) {
      var n = r(33),
        i = r(25),
        a = r(39).f;
      e.exports = function(e) {
        return function(t) {
          for(var r, o = i(t), s = n(o), u = s.length, l = 0, c = []; u > l;) a.call(o, r = s[l++]) && c.push(e ? [r, o[r]] : o[r]);
          return c
        }
      }
    }, function(e, t, r) {
      var n = r(38)("wks"),
        i = r(24),
        a = r(13).Symbol,
        o = "function" == typeof a;
      (e.exports = function(e) {
        return n[e] || (n[e] = o && a[e] || (o ? a : i)("Symbol." + e))
      }).store = n
    }, function(e, t, r) {
      var n = Object.prototype.hasOwnProperty,
        i = function() {
          for(var e = [], t = 0; t < 256; ++t) e.push("%" + ((t < 16 ? "0" : "") + t.toString(16)).toUpperCase());
          return e
        }(),
        a = function(e, t) {
          for(var r = t && t.plainObjects ? Object.create(null) : {}, n = 0; n < e.length; ++n) void 0 !== e[n] && (r[n] = e[n]);
          return r
        };
      e.exports = {
        arrayToObject: a,
        assign: function(e, t) {
          return Object.keys(t).reduce((function(e, r) {
            return e[r] = t[r], e
          }), e)
        },
        compact: function(e) {
          for(var t = [{
              obj: {
                o: e
              },
              prop: "o"
            }], r = [], n = 0; n < t.length; ++n)
            for(var i = t[n], a = i.obj[i.prop], o = Object.keys(a), s = 0; s < o.length; ++s) {
              var u = o[s],
                l = a[u];
              "object" == typeof l && null !== l && -1 === r.indexOf(l) && (t.push({
                obj: a,
                prop: u
              }), r.push(l))
            }
          return function(e) {
            for(var t; e.length;) {
              var r = e.pop();
              if(t = r.obj[r.prop], Array.isArray(t)) {
                for(var n = [], i = 0; i < t.length; ++i) void 0 !== t[i] && n.push(t[i]);
                r.obj[r.prop] = n
              }
            }
            return t
          }(t)
        },
        decode: function(e) {
          try {
            return decodeURIComponent(e.replace(/\+/g, " "))
          }
          catch (t) {
            return e
          }
        },
        encode: function(e) {
          if(0 === e.length) return e;
          for(var t = "string" == typeof e ? e : String(e), r = "", n = 0; n < t.length; ++n) {
            var a = t.charCodeAt(n);
            45 === a || 46 === a || 95 === a || 126 === a || a >= 48 && a <= 57 || a >= 65 && a <= 90 || a >= 97 && a <= 122 ? r += t.charAt(n) : a < 128 ? r += i[a] : a < 2048 ? r += i[192 | a >> 6] + i[128 | 63 & a] : a < 55296 || a >= 57344 ? r += i[224 | a >> 12] + i[128 | a >> 6 & 63] + i[128 | 63 & a] : (n += 1, a = 65536 + ((1023 & a) << 10 | 1023 & t.charCodeAt(n)), r += i[240 | a >> 18] + i[128 | a >> 12 & 63] + i[128 | a >> 6 & 63] + i[128 | 63 & a])
          }
          return r
        },
        isBuffer: function(e) {
          return null != e && !!(e.constructor && e.constructor.isBuffer && e.constructor.isBuffer(e))
        },
        isRegExp: function(e) {
          return "[object RegExp]" === Object.prototype.toString.call(e)
        },
        merge: function e(t, r, i) {
          if(!r) return t;
          if("object" != typeof r) {
            if(Array.isArray(t)) t.push(r);
            else {
              if("object" != typeof t) return [t, r];
              (i.plainObjects || i.allowPrototypes || !n.call(Object.prototype, r)) && (t[r] = !0)
            }
            return t
          }
          if("object" != typeof t) return [t].concat(r);
          var o = t;
          return Array.isArray(t) && !Array.isArray(r) && (o = a(t, i)), Array.isArray(t) && Array.isArray(r) ? (r.forEach((function(r, a) {
            n.call(t, a) ? t[a] && "object" == typeof t[a] ? t[a] = e(t[a], r, i) : t.push(r) : t[a] = r
          })), t) : Object.keys(r).reduce((function(t, a) {
            var o = r[a];
            return n.call(t, a) ? t[a] = e(t[a], o, i) : t[a] = o, t
          }), o)
        }
      }
    }, function(e, t, r) {
      var n = String.prototype.replace,
        i = /%20/g;
      e.exports = {
        default: "RFC3986",
        formatters: {
          RFC1738: function(e) {
            return n.call(e, i, "+")
          },
          RFC3986: function(e) {
            return e
          }
        },
        RFC1738: "RFC1738",
        RFC3986: "RFC3986"
      }
    }, function(e, t, r) {
      r(8);
      var n = r(84);

      function i(t, r, a) {
        return "undefined" != typeof Reflect && Reflect.get ? e.exports = i = Reflect.get : e.exports = i = function(e, t, r) {
          var i = n(e, t);
          if(i) {
            var a = Object.getOwnPropertyDescriptor(i, t);
            return a.get ? a.get.call(r) : a.value
          }
        }, i(t, r, a || t)
      }
      e.exports = i
    }, function(e, t, r) {
      r.d(t, "a", (function() {
        return n
      })), new Blob([new Uint8Array([255, 227, 24, 196, 0, 0, 0, 3, 72, 1, 64, 0, 0, 4, 132, 16, 31, 227, 192, 225, 76, 255, 67, 12, 255, 221, 27, 255, 228, 97, 73, 63, 255, 195, 131, 69, 192, 232, 223, 255, 255, 207, 102, 239, 255, 255, 255, 101, 158, 206, 70, 20, 59, 255, 254, 95, 70, 149, 66, 4, 16, 128, 0, 2, 2, 32, 240, 138, 255, 36, 106, 183, 255, 227, 24, 196, 59, 11, 34, 62, 80, 49, 135, 40, 0, 253, 29, 191, 209, 200, 141, 71, 7, 255, 252, 152, 74, 15, 130, 33, 185, 6, 63, 255, 252, 195, 70, 203, 86, 53, 15, 255, 255, 247, 103, 76, 121, 64, 32, 47, 255, 34, 227, 194, 209, 138, 76, 65, 77, 69, 51, 46, 57, 55, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 255, 227, 24, 196, 73, 13, 153, 210, 100, 81, 135, 56, 0, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170, 170])], {
        type: "audio/mpeg"
      });
      var n = new Blob([new Uint8Array([0, 0, 0, 28, 102, 116, 121, 112, 105, 115, 111, 109, 0, 0, 2, 0, 105, 115, 111, 109, 105, 115, 111, 50, 109, 112, 52, 49, 0, 0, 0, 8, 102, 114, 101, 101, 0, 0, 2, 239, 109, 100, 97, 116, 33, 16, 5, 32, 164, 27, 255, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 55, 167, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 112, 33, 16, 5, 32, 164, 27, 255, 192, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 55, 167, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 112, 0, 0, 2, 194, 109, 111, 111, 118, 0, 0, 0, 108, 109, 118, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 232, 0, 0, 0, 47, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 1, 236, 116, 114, 97, 107, 0, 0, 0, 92, 116, 107, 104, 100, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 47, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 101, 100, 116, 115, 0, 0, 0, 28, 101, 108, 115, 116, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 47, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 100, 109, 100, 105, 97, 0, 0, 0, 32, 109, 100, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 172, 68, 0, 0, 8, 0, 85, 196, 0, 0, 0, 0, 0, 45, 104, 100, 108, 114, 0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0, 0, 0, 1, 15, 109, 105, 110, 102, 0, 0, 0, 16, 115, 109, 104, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36, 100, 105, 110, 102, 0, 0, 0, 28, 100, 114, 101, 102, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1, 0, 0, 0, 211, 115, 116, 98, 108, 0, 0, 0, 103, 115, 116, 115, 100, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 87, 109, 112, 52, 97, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 16, 0, 0, 0, 0, 172, 68, 0, 0, 0, 0, 0, 51, 101, 115, 100, 115, 0, 0, 0, 0, 3, 128, 128, 128, 34, 0, 2, 0, 4, 128, 128, 128, 20, 64, 21, 0, 0, 0, 0, 1, 244, 0, 0, 1, 243, 249, 5, 128, 128, 128, 2, 18, 16, 6, 128, 128, 128, 1, 2, 0, 0, 0, 24, 115, 116, 116, 115, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 4, 0, 0, 0, 0, 28, 115, 116, 115, 99, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 1, 0, 0, 0, 28, 115, 116, 115, 122, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 1, 115, 0, 0, 1, 116, 0, 0, 0, 20, 115, 116, 99, 111, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 44, 0, 0, 0, 98, 117, 100, 116, 97, 0, 0, 0, 90, 109, 101, 116, 97, 0, 0, 0, 0, 0, 0, 0, 33, 104, 100, 108, 114, 0, 0, 0, 0, 0, 0, 0, 0, 109, 100, 105, 114, 97, 112, 112, 108, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 45, 105, 108, 115, 116, 0, 0, 0, 37, 169, 116, 111, 111, 0, 0, 0, 29, 100, 97, 116, 97, 0, 0, 0, 1, 0, 0, 0, 0, 76, 97, 118, 102, 53, 54, 46, 52, 48, 46, 49, 48, 49])], {
        type: "video/mp4"
      })
    }, function(e, t, r) {
      var n = r(90),
        i = r(91),
        a = r(92);
      e.exports = function(e) {
        return n(e) || i(e) || a()
      }
    }, function(e, t, r) {
      e.exports = function(e) {
        var t = {};

        function r(n) {
          if(t[n]) return t[n].exports;
          var i = t[n] = {
            i: n,
            l: !1,
            exports: {}
          };
          return e[n].call(i.exports, i, i.exports, r), i.l = !0, i.exports
        }
        return r.m = e, r.c = t, r.d = function(e, t, n) {
          r.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: n
          })
        }, r.r = function(e) {
          "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
          }), Object.defineProperty(e, "__esModule", {
            value: !0
          })
        }, r.t = function(e, t) {
          if(1 & t && (e = r(e)), 8 & t) return e;
          if(4 & t && "object" == typeof e && e && e.__esModule) return e;
          var n = Object.create(null);
          if(r.r(n), Object.defineProperty(n, "default", {
              enumerable: !0,
              value: e
            }), 2 & t && "string" != typeof e)
            for(var i in e) r.d(n, i, function(t) {
              return e[t]
            }.bind(null, i));
          return n
        }, r.n = function(e) {
          var t = e && e.__esModule ? function() {
            return e.default
          } : function() {
            return e
          };
          return r.d(t, "a", t), t
        }, r.o = function(e, t) {
          return Object.prototype.hasOwnProperty.call(e, t)
        }, r.p = "", r(r.s = 90)
      }({
        17: function(e, t, r) {
          t.__esModule = !0, t.default = void 0;
          var n = r(18),
            i = function() {
              function e() {}
              return e.getFirstMatch = function(e, t) {
                var r = t.match(e);
                return r && r.length > 0 && r[1] || ""
              }, e.getSecondMatch = function(e, t) {
                var r = t.match(e);
                return r && r.length > 1 && r[2] || ""
              }, e.matchAndReturnConst = function(e, t, r) {
                if(e.test(t)) return r
              }, e.getWindowsVersionName = function(e) {
                switch(e) {
                  case "NT":
                    return "NT";
                  case "XP":
                    return "XP";
                  case "NT 5.0":
                    return "2000";
                  case "NT 5.1":
                    return "XP";
                  case "NT 5.2":
                    return "2003";
                  case "NT 6.0":
                    return "Vista";
                  case "NT 6.1":
                    return "7";
                  case "NT 6.2":
                    return "8";
                  case "NT 6.3":
                    return "8.1";
                  case "NT 10.0":
                    return "10";
                  default:
                    return
                }
              }, e.getMacOSVersionName = function(e) {
                var t = e.split(".").splice(0, 2).map((function(e) {
                  return parseInt(e, 10) || 0
                }));
                if(t.push(0), 10 === t[0]) switch(t[1]) {
                  case 5:
                    return "Leopard";
                  case 6:
                    return "Snow Leopard";
                  case 7:
                    return "Lion";
                  case 8:
                    return "Mountain Lion";
                  case 9:
                    return "Mavericks";
                  case 10:
                    return "Yosemite";
                  case 11:
                    return "El Capitan";
                  case 12:
                    return "Sierra";
                  case 13:
                    return "High Sierra";
                  case 14:
                    return "Mojave";
                  case 15:
                    return "Catalina";
                  default:
                    return
                }
              }, e.getAndroidVersionName = function(e) {
                var t = e.split(".").splice(0, 2).map((function(e) {
                  return parseInt(e, 10) || 0
                }));
                if(t.push(0), !(1 === t[0] && t[1] < 5)) return 1 === t[0] && t[1] < 6 ? "Cupcake" : 1 === t[0] && t[1] >= 6 ? "Donut" : 2 === t[0] && t[1] < 2 ? "Eclair" : 2 === t[0] && 2 === t[1] ? "Froyo" : 2 === t[0] && t[1] > 2 ? "Gingerbread" : 3 === t[0] ? "Honeycomb" : 4 === t[0] && t[1] < 1 ? "Ice Cream Sandwich" : 4 === t[0] && t[1] < 4 ? "Jelly Bean" : 4 === t[0] && t[1] >= 4 ? "KitKat" : 5 === t[0] ? "Lollipop" : 6 === t[0] ? "Marshmallow" : 7 === t[0] ? "Nougat" : 8 === t[0] ? "Oreo" : 9 === t[0] ? "Pie" : void 0
              }, e.getVersionPrecision = function(e) {
                return e.split(".").length
              }, e.compareVersions = function(t, r, n) {
                void 0 === n && (n = !1);
                var i = e.getVersionPrecision(t),
                  a = e.getVersionPrecision(r),
                  o = Math.max(i, a),
                  s = 0,
                  u = e.map([t, r], (function(t) {
                    var r = o - e.getVersionPrecision(t),
                      n = t + new Array(r + 1).join(".0");
                    return e.map(n.split("."), (function(e) {
                      return new Array(20 - e.length).join("0") + e
                    })).reverse()
                  }));
                for(n && (s = o - Math.min(i, a)), o -= 1; o >= s;) {
                  if(u[0][o] > u[1][o]) return 1;
                  if(u[0][o] === u[1][o]) {
                    if(o === s) return 0;
                    o -= 1
                  }
                  else if(u[0][o] < u[1][o]) return -1
                }
              }, e.map = function(e, t) {
                var r, n = [];
                if(Array.prototype.map) return Array.prototype.map.call(e, t);
                for(r = 0; r < e.length; r += 1) n.push(t(e[r]));
                return n
              }, e.getBrowserAlias = function(e) {
                return n.BROWSER_ALIASES_MAP[e]
              }, e.getBrowserTypeByAlias = function(e) {
                return n.BROWSER_MAP[e] || ""
              }, e
            }();
          t.default = i, e.exports = t.default
        },
        18: function(e, t, r) {
          t.__esModule = !0, t.ENGINE_MAP = t.OS_MAP = t.PLATFORMS_MAP = t.BROWSER_MAP = t.BROWSER_ALIASES_MAP = void 0, t.BROWSER_ALIASES_MAP = {
            "Amazon Silk": "amazon_silk",
            "Android Browser": "android",
            Bada: "bada",
            BlackBerry: "blackberry",
            Chrome: "chrome",
            Chromium: "chromium",
            Epiphany: "epiphany",
            Firefox: "firefox",
            Focus: "focus",
            Generic: "generic",
            "Google Search": "google_search",
            Googlebot: "googlebot",
            "Internet Explorer": "ie",
            "K-Meleon": "k_meleon",
            Maxthon: "maxthon",
            "Microsoft Edge": "edge",
            "MZ Browser": "mz",
            "NAVER Whale Browser": "naver",
            Opera: "opera",
            "Opera Coast": "opera_coast",
            PhantomJS: "phantomjs",
            Puffin: "puffin",
            QupZilla: "qupzilla",
            QQ: "qq",
            QQLite: "qqlite",
            Safari: "safari",
            Sailfish: "sailfish",
            "Samsung Internet for Android": "samsung_internet",
            SeaMonkey: "seamonkey",
            Sleipnir: "sleipnir",
            Swing: "swing",
            Tizen: "tizen",
            "UC Browser": "uc",
            Vivaldi: "vivaldi",
            "WebOS Browser": "webos",
            WeChat: "wechat",
            "Yandex Browser": "yandex",
            Roku: "roku"
          }, t.BROWSER_MAP = {
            amazon_silk: "Amazon Silk",
            android: "Android Browser",
            bada: "Bada",
            blackberry: "BlackBerry",
            chrome: "Chrome",
            chromium: "Chromium",
            epiphany: "Epiphany",
            firefox: "Firefox",
            focus: "Focus",
            generic: "Generic",
            googlebot: "Googlebot",
            google_search: "Google Search",
            ie: "Internet Explorer",
            k_meleon: "K-Meleon",
            maxthon: "Maxthon",
            edge: "Microsoft Edge",
            mz: "MZ Browser",
            naver: "NAVER Whale Browser",
            opera: "Opera",
            opera_coast: "Opera Coast",
            phantomjs: "PhantomJS",
            puffin: "Puffin",
            qupzilla: "QupZilla",
            qq: "QQ Browser",
            qqlite: "QQ Browser Lite",
            safari: "Safari",
            sailfish: "Sailfish",
            samsung_internet: "Samsung Internet for Android",
            seamonkey: "SeaMonkey",
            sleipnir: "Sleipnir",
            swing: "Swing",
            tizen: "Tizen",
            uc: "UC Browser",
            vivaldi: "Vivaldi",
            webos: "WebOS Browser",
            wechat: "WeChat",
            yandex: "Yandex Browser"
          }, t.PLATFORMS_MAP = {
            tablet: "tablet",
            mobile: "mobile",
            desktop: "desktop",
            tv: "tv"
          }, t.OS_MAP = {
            WindowsPhone: "Windows Phone",
            Windows: "Windows",
            MacOS: "macOS",
            iOS: "iOS",
            Android: "Android",
            WebOS: "WebOS",
            BlackBerry: "BlackBerry",
            Bada: "Bada",
            Tizen: "Tizen",
            Linux: "Linux",
            ChromeOS: "Chrome OS",
            PlayStation4: "PlayStation 4",
            Roku: "Roku"
          }, t.ENGINE_MAP = {
            EdgeHTML: "EdgeHTML",
            Blink: "Blink",
            Trident: "Trident",
            Presto: "Presto",
            Gecko: "Gecko",
            WebKit: "WebKit"
          }
        },
        90: function(e, t, r) {
          t.__esModule = !0, t.default = void 0;
          var n, i = (n = r(91)) && n.__esModule ? n : {
              default: n
            },
            a = r(18),
            o = function() {
              function e() {}
              var t;
              return e.getParser = function(e, t) {
                if(void 0 === t && (t = !1), "string" != typeof e) throw new Error("UserAgent should be a string");
                return new i.default(e, t)
              }, e.parse = function(e) {
                return new i.default(e).getResult()
              }, (t = [{
                key: "BROWSER_MAP",
                get: function() {
                  return a.BROWSER_MAP
                }
              }, {
                key: "ENGINE_MAP",
                get: function() {
                  return a.ENGINE_MAP
                }
              }, {
                key: "OS_MAP",
                get: function() {
                  return a.OS_MAP
                }
              }, {
                key: "PLATFORMS_MAP",
                get: function() {
                  return a.PLATFORMS_MAP
                }
              }]) && function(e, t) {
                for(var r = 0; r < t.length; r++) {
                  var n = t[r];
                  n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n)
                }
              }(e, t), e
            }();
          t.default = o, e.exports = t.default
        },
        91: function(e, t, r) {
          t.__esModule = !0, t.default = void 0;
          var n = u(r(92)),
            i = u(r(93)),
            a = u(r(94)),
            o = u(r(95)),
            s = u(r(17));

          function u(e) {
            return e && e.__esModule ? e : {
              default: e
            }
          }
          var l = function() {
            function e(e, t) {
              if(void 0 === t && (t = !1), null == e || "" === e) throw new Error("UserAgent parameter can't be empty");
              this._ua = e, this.parsedResult = {}, !0 !== t && this.parse()
            }
            var t = e.prototype;
            return t.getUA = function() {
              return this._ua
            }, t.test = function(e) {
              return e.test(this._ua)
            }, t.parseBrowser = function() {
              var e = this;
              this.parsedResult.browser = {};
              var t = n.default.find((function(t) {
                if("function" == typeof t.test) return t.test(e);
                if(t.test instanceof Array) return t.test.some((function(t) {
                  return e.test(t)
                }));
                throw new Error("Browser's test function is not valid")
              }));
              return t && (this.parsedResult.browser = t.describe(this.getUA())), this.parsedResult.browser
            }, t.getBrowser = function() {
              return this.parsedResult.browser ? this.parsedResult.browser : this.parseBrowser()
            }, t.getBrowserName = function(e) {
              return e ? String(this.getBrowser().name).toLowerCase() || "" : this.getBrowser().name || ""
            }, t.getBrowserVersion = function() {
              return this.getBrowser().version
            }, t.getOS = function() {
              return this.parsedResult.os ? this.parsedResult.os : this.parseOS()
            }, t.parseOS = function() {
              var e = this;
              this.parsedResult.os = {};
              var t = i.default.find((function(t) {
                if("function" == typeof t.test) return t.test(e);
                if(t.test instanceof Array) return t.test.some((function(t) {
                  return e.test(t)
                }));
                throw new Error("Browser's test function is not valid")
              }));
              return t && (this.parsedResult.os = t.describe(this.getUA())), this.parsedResult.os
            }, t.getOSName = function(e) {
              var t = this.getOS().name;
              return e ? String(t).toLowerCase() || "" : t || ""
            }, t.getOSVersion = function() {
              return this.getOS().version
            }, t.getPlatform = function() {
              return this.parsedResult.platform ? this.parsedResult.platform : this.parsePlatform()
            }, t.getPlatformType = function(e) {
              void 0 === e && (e = !1);
              var t = this.getPlatform().type;
              return e ? String(t).toLowerCase() || "" : t || ""
            }, t.parsePlatform = function() {
              var e = this;
              this.parsedResult.platform = {};
              var t = a.default.find((function(t) {
                if("function" == typeof t.test) return t.test(e);
                if(t.test instanceof Array) return t.test.some((function(t) {
                  return e.test(t)
                }));
                throw new Error("Browser's test function is not valid")
              }));
              return t && (this.parsedResult.platform = t.describe(this.getUA())), this.parsedResult.platform
            }, t.getEngine = function() {
              return this.parsedResult.engine ? this.parsedResult.engine : this.parseEngine()
            }, t.getEngineName = function(e) {
              return e ? String(this.getEngine().name).toLowerCase() || "" : this.getEngine().name || ""
            }, t.parseEngine = function() {
              var e = this;
              this.parsedResult.engine = {};
              var t = o.default.find((function(t) {
                if("function" == typeof t.test) return t.test(e);
                if(t.test instanceof Array) return t.test.some((function(t) {
                  return e.test(t)
                }));
                throw new Error("Browser's test function is not valid")
              }));
              return t && (this.parsedResult.engine = t.describe(this.getUA())), this.parsedResult.engine
            }, t.parse = function() {
              return this.parseBrowser(), this.parseOS(), this.parsePlatform(), this.parseEngine(), this
            }, t.getResult = function() {
              return Object.assign({}, this.parsedResult)
            }, t.satisfies = function(e) {
              var t = this,
                r = {},
                n = 0,
                i = {},
                a = 0;
              if(Object.keys(e).forEach((function(t) {
                  var o = e[t];
                  "string" == typeof o ? (i[t] = o, a += 1) : "object" == typeof o && (r[t] = o, n += 1)
                })), n > 0) {
                var o = Object.keys(r),
                  s = o.find((function(e) {
                    return t.isOS(e)
                  }));
                if(s) {
                  var u = this.satisfies(r[s]);
                  if(void 0 !== u) return u
                }
                var l = o.find((function(e) {
                  return t.isPlatform(e)
                }));
                if(l) {
                  var c = this.satisfies(r[l]);
                  if(void 0 !== c) return c
                }
              }
              if(a > 0) {
                var d = Object.keys(i).find((function(e) {
                  return t.isBrowser(e, !0)
                }));
                if(void 0 !== d) return this.compareVersion(i[d])
              }
            }, t.isBrowser = function(e, t) {
              void 0 === t && (t = !1);
              var r = this.getBrowserName().toLowerCase(),
                n = e.toLowerCase(),
                i = s.default.getBrowserTypeByAlias(n);
              return t && i && (n = i.toLowerCase()), n === r
            }, t.compareVersion = function(e) {
              var t = [0],
                r = e,
                n = !1,
                i = this.getBrowserVersion();
              if("string" == typeof i) return ">" === e[0] || "<" === e[0] ? (r = e.substr(1), "=" === e[1] ? (n = !0, r = e.substr(2)) : t = [], ">" === e[0] ? t.push(1) : t.push(-1)) : "=" === e[0] ? r = e.substr(1) : "~" === e[0] && (n = !0, r = e.substr(1)), t.indexOf(s.default.compareVersions(i, r, n)) > -1
            }, t.isOS = function(e) {
              return this.getOSName(!0) === String(e).toLowerCase()
            }, t.isPlatform = function(e) {
              return this.getPlatformType(!0) === String(e).toLowerCase()
            }, t.isEngine = function(e) {
              return this.getEngineName(!0) === String(e).toLowerCase()
            }, t.is = function(e) {
              return this.isBrowser(e) || this.isOS(e) || this.isPlatform(e)
            }, t.some = function(e) {
              var t = this;
              return void 0 === e && (e = []), e.some((function(e) {
                return t.is(e)
              }))
            }, e
          }();
          t.default = l, e.exports = t.default
        },
        92: function(e, t, r) {
          t.__esModule = !0, t.default = void 0;
          var n, i = (n = r(17)) && n.__esModule ? n : {
              default: n
            },
            a = /version\/(\d+(\.?_?\d+)+)/i,
            o = [{
              test: [/googlebot/i],
              describe: function(e) {
                var t = {
                    name: "Googlebot"
                  },
                  r = i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i, e) || i.default.getFirstMatch(a, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/opera/i],
              describe: function(e) {
                var t = {
                    name: "Opera"
                  },
                  r = i.default.getFirstMatch(a, e) || i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/opr\/|opios/i],
              describe: function(e) {
                var t = {
                    name: "Opera"
                  },
                  r = i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i, e) || i.default.getFirstMatch(a, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/SamsungBrowser/i],
              describe: function(e) {
                var t = {
                    name: "Samsung Internet for Android"
                  },
                  r = i.default.getFirstMatch(a, e) || i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/Whale/i],
              describe: function(e) {
                var t = {
                    name: "NAVER Whale Browser"
                  },
                  r = i.default.getFirstMatch(a, e) || i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/MZBrowser/i],
              describe: function(e) {
                var t = {
                    name: "MZ Browser"
                  },
                  r = i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i, e) || i.default.getFirstMatch(a, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/focus/i],
              describe: function(e) {
                var t = {
                    name: "Focus"
                  },
                  r = i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i, e) || i.default.getFirstMatch(a, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/swing/i],
              describe: function(e) {
                var t = {
                    name: "Swing"
                  },
                  r = i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i, e) || i.default.getFirstMatch(a, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/coast/i],
              describe: function(e) {
                var t = {
                    name: "Opera Coast"
                  },
                  r = i.default.getFirstMatch(a, e) || i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/yabrowser/i],
              describe: function(e) {
                var t = {
                    name: "Yandex Browser"
                  },
                  r = i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i, e) || i.default.getFirstMatch(a, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/ucbrowser/i],
              describe: function(e) {
                var t = {
                    name: "UC Browser"
                  },
                  r = i.default.getFirstMatch(a, e) || i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/Maxthon|mxios/i],
              describe: function(e) {
                var t = {
                    name: "Maxthon"
                  },
                  r = i.default.getFirstMatch(a, e) || i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/epiphany/i],
              describe: function(e) {
                var t = {
                    name: "Epiphany"
                  },
                  r = i.default.getFirstMatch(a, e) || i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/puffin/i],
              describe: function(e) {
                var t = {
                    name: "Puffin"
                  },
                  r = i.default.getFirstMatch(a, e) || i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/sleipnir/i],
              describe: function(e) {
                var t = {
                    name: "Sleipnir"
                  },
                  r = i.default.getFirstMatch(a, e) || i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/k-meleon/i],
              describe: function(e) {
                var t = {
                    name: "K-Meleon"
                  },
                  r = i.default.getFirstMatch(a, e) || i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/micromessenger/i],
              describe: function(e) {
                var t = {
                    name: "WeChat"
                  },
                  r = i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i, e) || i.default.getFirstMatch(a, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/qqbrowser/i],
              describe: function(e) {
                var t = {
                    name: /qqbrowserlite/i.test(e) ? "QQ Browser Lite" : "QQ Browser"
                  },
                  r = i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i, e) || i.default.getFirstMatch(a, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/msie|trident/i],
              describe: function(e) {
                var t = {
                    name: "Internet Explorer"
                  },
                  r = i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/\sedg\//i],
              describe: function(e) {
                var t = {
                    name: "Microsoft Edge"
                  },
                  r = i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/edg([ea]|ios)/i],
              describe: function(e) {
                var t = {
                    name: "Microsoft Edge"
                  },
                  r = i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/vivaldi/i],
              describe: function(e) {
                var t = {
                    name: "Vivaldi"
                  },
                  r = i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/seamonkey/i],
              describe: function(e) {
                var t = {
                    name: "SeaMonkey"
                  },
                  r = i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/sailfish/i],
              describe: function(e) {
                var t = {
                    name: "Sailfish"
                  },
                  r = i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/silk/i],
              describe: function(e) {
                var t = {
                    name: "Amazon Silk"
                  },
                  r = i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/phantom/i],
              describe: function(e) {
                var t = {
                    name: "PhantomJS"
                  },
                  r = i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/slimerjs/i],
              describe: function(e) {
                var t = {
                    name: "SlimerJS"
                  },
                  r = i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/blackberry|\bbb\d+/i, /rim\stablet/i],
              describe: function(e) {
                var t = {
                    name: "BlackBerry"
                  },
                  r = i.default.getFirstMatch(a, e) || i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/(web|hpw)[o0]s/i],
              describe: function(e) {
                var t = {
                    name: "WebOS Browser"
                  },
                  r = i.default.getFirstMatch(a, e) || i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/bada/i],
              describe: function(e) {
                var t = {
                    name: "Bada"
                  },
                  r = i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/tizen/i],
              describe: function(e) {
                var t = {
                    name: "Tizen"
                  },
                  r = i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i, e) || i.default.getFirstMatch(a, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/qupzilla/i],
              describe: function(e) {
                var t = {
                    name: "QupZilla"
                  },
                  r = i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i, e) || i.default.getFirstMatch(a, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/firefox|iceweasel|fxios/i],
              describe: function(e) {
                var t = {
                    name: "Firefox"
                  },
                  r = i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/chromium/i],
              describe: function(e) {
                var t = {
                    name: "Chromium"
                  },
                  r = i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i, e) || i.default.getFirstMatch(a, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/chrome|crios|crmo/i],
              describe: function(e) {
                var t = {
                    name: "Chrome"
                  },
                  r = i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/GSA/i],
              describe: function(e) {
                var t = {
                    name: "Google Search"
                  },
                  r = i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: function(e) {
                var t = !e.test(/like android/i),
                  r = e.test(/android/i);
                return t && r
              },
              describe: function(e) {
                var t = {
                    name: "Android Browser"
                  },
                  r = i.default.getFirstMatch(a, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/playstation 4/i],
              describe: function(e) {
                var t = {
                    name: "PlayStation 4"
                  },
                  r = i.default.getFirstMatch(a, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/safari|applewebkit/i],
              describe: function(e) {
                var t = {
                    name: "Safari"
                  },
                  r = i.default.getFirstMatch(a, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/.*/i],
              describe: function(e) {
                var t = -1 !== e.search("\\(") ? /^(.*)\/(.*)[ \t]\((.*)/ : /^(.*)\/(.*) /;
                return {
                  name: i.default.getFirstMatch(t, e),
                  version: i.default.getSecondMatch(t, e)
                }
              }
            }];
          t.default = o, e.exports = t.default
        },
        93: function(e, t, r) {
          t.__esModule = !0, t.default = void 0;
          var n, i = (n = r(17)) && n.__esModule ? n : {
              default: n
            },
            a = r(18),
            o = [{
              test: [/Roku\/DVP/],
              describe: function(e) {
                var t = i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i, e);
                return {
                  name: a.OS_MAP.Roku,
                  version: t
                }
              }
            }, {
              test: [/windows phone/i],
              describe: function(e) {
                var t = i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i, e);
                return {
                  name: a.OS_MAP.WindowsPhone,
                  version: t
                }
              }
            }, {
              test: [/windows/i],
              describe: function(e) {
                var t = i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i, e),
                  r = i.default.getWindowsVersionName(t);
                return {
                  name: a.OS_MAP.Windows,
                  version: t,
                  versionName: r
                }
              }
            }, {
              test: [/macintosh/i],
              describe: function(e) {
                var t = i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i, e).replace(/[_\s]/g, "."),
                  r = i.default.getMacOSVersionName(t),
                  n = {
                    name: a.OS_MAP.MacOS,
                    version: t
                  };
                return r && (n.versionName = r), n
              }
            }, {
              test: [/(ipod|iphone|ipad)/i],
              describe: function(e) {
                var t = i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i, e).replace(/[_\s]/g, ".");
                return {
                  name: a.OS_MAP.iOS,
                  version: t
                }
              }
            }, {
              test: function(e) {
                var t = !e.test(/like android/i),
                  r = e.test(/android/i);
                return t && r
              },
              describe: function(e) {
                var t = i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i, e),
                  r = i.default.getAndroidVersionName(t),
                  n = {
                    name: a.OS_MAP.Android,
                    version: t
                  };
                return r && (n.versionName = r), n
              }
            }, {
              test: [/(web|hpw)[o0]s/i],
              describe: function(e) {
                var t = i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i, e),
                  r = {
                    name: a.OS_MAP.WebOS
                  };
                return t && t.length && (r.version = t), r
              }
            }, {
              test: [/blackberry|\bbb\d+/i, /rim\stablet/i],
              describe: function(e) {
                var t = i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i, e) || i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i, e) || i.default.getFirstMatch(/\bbb(\d+)/i, e);
                return {
                  name: a.OS_MAP.BlackBerry,
                  version: t
                }
              }
            }, {
              test: [/bada/i],
              describe: function(e) {
                var t = i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i, e);
                return {
                  name: a.OS_MAP.Bada,
                  version: t
                }
              }
            }, {
              test: [/tizen/i],
              describe: function(e) {
                var t = i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i, e);
                return {
                  name: a.OS_MAP.Tizen,
                  version: t
                }
              }
            }, {
              test: [/linux/i],
              describe: function() {
                return {
                  name: a.OS_MAP.Linux
                }
              }
            }, {
              test: [/CrOS/],
              describe: function() {
                return {
                  name: a.OS_MAP.ChromeOS
                }
              }
            }, {
              test: [/PlayStation 4/],
              describe: function(e) {
                var t = i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i, e);
                return {
                  name: a.OS_MAP.PlayStation4,
                  version: t
                }
              }
            }];
          t.default = o, e.exports = t.default
        },
        94: function(e, t, r) {
          t.__esModule = !0, t.default = void 0;
          var n, i = (n = r(17)) && n.__esModule ? n : {
              default: n
            },
            a = r(18),
            o = [{
              test: [/googlebot/i],
              describe: function() {
                return {
                  type: "bot",
                  vendor: "Google"
                }
              }
            }, {
              test: [/huawei/i],
              describe: function(e) {
                var t = i.default.getFirstMatch(/(can-l01)/i, e) && "Nova",
                  r = {
                    type: a.PLATFORMS_MAP.mobile,
                    vendor: "Huawei"
                  };
                return t && (r.model = t), r
              }
            }, {
              test: [/nexus\s*(?:7|8|9|10).*/i],
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.tablet,
                  vendor: "Nexus"
                }
              }
            }, {
              test: [/ipad/i],
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.tablet,
                  vendor: "Apple",
                  model: "iPad"
                }
              }
            }, {
              test: [/kftt build/i],
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.tablet,
                  vendor: "Amazon",
                  model: "Kindle Fire HD 7"
                }
              }
            }, {
              test: [/silk/i],
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.tablet,
                  vendor: "Amazon"
                }
              }
            }, {
              test: [/tablet(?! pc)/i],
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.tablet
                }
              }
            }, {
              test: function(e) {
                var t = e.test(/ipod|iphone/i),
                  r = e.test(/like (ipod|iphone)/i);
                return t && !r
              },
              describe: function(e) {
                var t = i.default.getFirstMatch(/(ipod|iphone)/i, e);
                return {
                  type: a.PLATFORMS_MAP.mobile,
                  vendor: "Apple",
                  model: t
                }
              }
            }, {
              test: [/nexus\s*[0-6].*/i, /galaxy nexus/i],
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.mobile,
                  vendor: "Nexus"
                }
              }
            }, {
              test: [/[^-]mobi/i],
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.mobile
                }
              }
            }, {
              test: function(e) {
                return "blackberry" === e.getBrowserName(!0)
              },
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.mobile,
                  vendor: "BlackBerry"
                }
              }
            }, {
              test: function(e) {
                return "bada" === e.getBrowserName(!0)
              },
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.mobile
                }
              }
            }, {
              test: function(e) {
                return "windows phone" === e.getBrowserName()
              },
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.mobile,
                  vendor: "Microsoft"
                }
              }
            }, {
              test: function(e) {
                var t = Number(String(e.getOSVersion()).split(".")[0]);
                return "android" === e.getOSName(!0) && t >= 3
              },
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.tablet
                }
              }
            }, {
              test: function(e) {
                return "android" === e.getOSName(!0)
              },
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.mobile
                }
              }
            }, {
              test: function(e) {
                return "macos" === e.getOSName(!0)
              },
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.desktop,
                  vendor: "Apple"
                }
              }
            }, {
              test: function(e) {
                return "windows" === e.getOSName(!0)
              },
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.desktop
                }
              }
            }, {
              test: function(e) {
                return "linux" === e.getOSName(!0)
              },
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.desktop
                }
              }
            }, {
              test: function(e) {
                return "playstation 4" === e.getOSName(!0)
              },
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.tv
                }
              }
            }, {
              test: function(e) {
                return "roku" === e.getOSName(!0)
              },
              describe: function() {
                return {
                  type: a.PLATFORMS_MAP.tv
                }
              }
            }];
          t.default = o, e.exports = t.default
        },
        95: function(e, t, r) {
          t.__esModule = !0, t.default = void 0;
          var n, i = (n = r(17)) && n.__esModule ? n : {
              default: n
            },
            a = r(18),
            o = [{
              test: function(e) {
                return "microsoft edge" === e.getBrowserName(!0)
              },
              describe: function(e) {
                if(/\sedg\//i.test(e)) return {
                  name: a.ENGINE_MAP.Blink
                };
                var t = i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i, e);
                return {
                  name: a.ENGINE_MAP.EdgeHTML,
                  version: t
                }
              }
            }, {
              test: [/trident/i],
              describe: function(e) {
                var t = {
                    name: a.ENGINE_MAP.Trident
                  },
                  r = i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: function(e) {
                return e.test(/presto/i)
              },
              describe: function(e) {
                var t = {
                    name: a.ENGINE_MAP.Presto
                  },
                  r = i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: function(e) {
                var t = e.test(/gecko/i),
                  r = e.test(/like gecko/i);
                return t && !r
              },
              describe: function(e) {
                var t = {
                    name: a.ENGINE_MAP.Gecko
                  },
                  r = i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }, {
              test: [/(apple)?webkit\/537\.36/i],
              describe: function() {
                return {
                  name: a.ENGINE_MAP.Blink
                }
              }
            }, {
              test: [/(apple)?webkit/i],
              describe: function(e) {
                var t = {
                    name: a.ENGINE_MAP.WebKit
                  },
                  r = i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i, e);
                return r && (t.version = r), t
              }
            }];
          t.default = o, e.exports = t.default
        }
      })
    }, function(e) {
      e.exports = JSON.parse('{"name":"@flowplayer/ads","version":"1.14.10","description":"","main":"index.js","scripts":{"lint":"eslint src","test:debug":"DEBUG=collector:* jest -i","test":"jest -i","dev":"NODE_ENV=development TARGET=unlocked webpack-dev-server --progress --colors --port 8844 --host 0.0.0.0","prod":"webpack -p","build":"webpack","prepublish":"rm -rf dist/ && NO_DEMOS=true npm run build:unlocked && npx uglifyjs dist/native.js","build:locked":"TARGET=locked webpack","build:unlocked":"TARGET=unlocked webpack","collector":"node node_modules/.bin/collector","rel":"git tag -d production && git push origin :production && git tag production && git push origin --tags","test:browserstack":"jest -i --testMatch=**/test/browserstack/*.spec.js","test:unit":"jest -i --env jsdom --testMatch \'<rootDir>/test/unit/**/*.spec.js\'"},"husky":{"hooks":{"pre-commit":"yarn lint","post-merge":"yarn"}},"jest":{"testMatch":["**/__tests__/**/*.js?(x)","**/?(*.)(spec|test).js?(x)"],"testURL":"https://flowplayer.com/videos/fake","moduleNameMapper":{"<%TARGET%>":"<rootDir>/test/jest/transform.js"},"globalSetup":"./test/jest/setup","globalTeardown":"./test/jest/teardown","testEnvironment":"./test/jest/browserstack","bail":true},"author":"","license":"ISC","devDependencies":{"@babel/core":"^7.1.0","@babel/plugin-proposal-object-rest-spread":"^7.0.0","@babel/plugin-syntax-object-rest-spread":"^7.0.0","@babel/plugin-transform-runtime":"^7.1.0","@babel/preset-env":"^7.1.0","@babel/runtime":"^7.0.0","@flowplayer/collector":"^0.2.2","babel-core":"^7.0.0-bridge.0","babel-eslint":"^10.0.1","babel-jest":"^23.6.0","babel-loader":"^8.0.2","chai":"^4.1.2","css-loader":"^3.1.0","eslint":"^5.5.0","eslint-import-resolver-webpack":"^0.12.0","eslint-plugin-import":"^2.14.0","git-rev-sync":"^2.0.0","handlebars":"^4.5.3","handlebars-loader":"^1.7.0","html-webpack-plugin":"^4.0.3","husky":"^4.3.0","jest":"^26.4.2","moment":"^2.19.2","node-sass":"^4.13.1","sass-loader":"^8.0.0","style-loader":"^1.0.0","webpack":"^4.37.0","webpack-cli":"^3.1.1","webpack-dev-server":"^3.1.11"},"dependencies":{"bean":"^1.0.15","bowser":"^2.7.0","can-autoplay":"^3.0.0","core-js":"^2.5.7","debug":"^4.0.1","es6-event-emitter":"^1.10.2"}}')
    }, function(e, t, r) {
      function n(e, t) {
        var r = !1,
          n = function() {
            var n, i = (n = e.getBoundingClientRect()).top >= 0 && n.left >= 0 && n.bottom <= (window.innerHeight || document.documentElement.clientHeight) + n.height && n.right <= (window.innerWidth || document.documentElement.clientWidth) + n.width;
            i !== r && t(i), r = i
          };
        return setTimeout(n), document.addEventListener("scroll", n),
          function() {
            return document.removeEventListener("scroll", n)
          }
      }
      r.d(t, "a", (function() {
        return n
      }))
    }, function(e, t, r) {
      r.d(t, "a", (function() {
        return ae
      }));
      var n = r(1),
        i = r.n(n),
        a = r(2),
        o = r.n(a),
        s = r(5),
        u = r.n(s),
        l = r(4),
        c = r.n(l),
        d = r(3),
        f = r.n(d),
        h = r(11),
        p = r.n(h),
        v = r(8),
        g = r.n(v),
        m = r(12),
        y = r.n(m),
        _ = r(16),
        b = r.n(_),
        E = r(45),
        A = r.n(E),
        T = r(0),
        w = r(6),
        S = r.n(w),
        k = r(7)("fpads:timers"),
        R = -1,
        L = function() {
          function e() {
            c()(this, e), this.intervals = {}, this.timers = {}
          }
          return f()(e, null, [{
            key: "of",
            value: function() {
              return new e
            }
          }, {
            key: "id",
            value: function() {
              return ++R
            }
          }, {
            key: "createTimeout",
            value: function(t, r, n) {
              var i = setTimeout((function() {
                delete t.timers[i], n()
              }), r);
              if(k("TimerRegistry.createTimeout() -> ".concat(i), t.timers), "object" == S()(i)) {
                var a = e.id();
                return t.timers[a] = i, a
              }
              return t.timers[i] = i, i
            }
          }, {
            key: "removeTimeout",
            value: function(e, t) {
              return k("TimerRegistry.removeTimeout() -> ".concat(t), e.timers), clearTimeout(e.timers[t]), delete e.timers[t], e
            }
          }, {
            key: "createInterval",
            value: function(t, r, n) {
              var i = setInterval(n, r);
              if(k("TimerRegistry.createInterval() -> ".concat(i), t.intervals), "object" == S()(i)) {
                var a = e.id();
                return t.intervals[a] = i, a
              }
              return t.intervals[i] = i, i
            }
          }, {
            key: "removeInterval",
            value: function(e, t) {
              return k("TimerRegistry.removeInterval() -> ".concat(t), e.intervals), clearInterval(e.intervals[t]), delete e.intervals[t], e
            }
          }, {
            key: "empty",
            value: function(t) {
              if(t) return k("TimerRegistry.empty()", Object.keys(t.timers), Object.keys(t.intervals)), Object.keys(t.intervals).forEach((function(r) {
                return e.removeInterval(t, r)
              })), Object.keys(t.timers).forEach((function(r) {
                return e.removeTimeout(t, r)
              })), t
            }
          }]), e
        }(),
        O = r(9),
        C = function(e, t) {
          var r = "".concat(e, "() not implemented by the adapter");
          if(t) throw new Error(r);
          console.warning(r)
        },
        D = function() {
          function e() {
            c()(this, e)
          }
          var t, r, n;
          return f()(e, [{
            key: "initialize",
            value: function(e) {
              C("initialize", !0)
            }
          }, {
            key: "reset",
            value: function() {
              C("reset", !0)
            }
          }, {
            key: "destroy",
            value: function() {
              C("destroy", !0)
            }
          }, {
            key: "initAd",
            value: (n = o()(i.a.mark((function e(t, r) {
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    C("initAd", !0);
                  case 1:
                  case "end":
                    return e.stop()
                }
              }), e, this)
            }))), function(e, t) {
              return n.apply(this, arguments)
            })
          }, {
            key: "playAd",
            value: (r = o()(i.a.mark((function e() {
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    C("playAd", !0);
                  case 1:
                  case "end":
                    return e.stop()
                }
              }), e, this)
            }))), function() {
              return r.apply(this, arguments)
            })
          }, {
            key: "pause",
            value: function() {
              C("pause", !1)
            }
          }, {
            key: "resume",
            value: function() {
              C("resume", !1)
            }
          }, {
            key: "volume",
            value: function(e) {
              C("volume", !1)
            }
          }, {
            key: "contentComplete",
            value: (t = o()(i.a.mark((function e() {
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    C("contentComplete", !1);
                  case 1:
                  case "end":
                    return e.stop()
                }
              }), e, this)
            }))), function() {
              return t.apply(this, arguments)
            })
          }, {
            key: "onResize",
            value: function(e) {
              C("onResize", !1)
            }
          }, {
            key: "isUiDisabled",
            value: function() {
              return !1
            }
          }, {
            key: "getAdPodInfo",
            value: function() {
              return null
            }
          }, {
            key: "isAdPod",
            value: function() {
              return !1
            }
          }, {
            key: "canDismissNonLinear",
            value: function() {
              return !1
            }
          }]), e
        }(),
        x = r(7)("fpads:adapter:base"),
        I = function(e) {
          function t(e) {
            var r;
            return c()(this, t), (r = p()(this, g()(t).call(this))).eventHandler = e, r.opts = {}, r._prepared = void 0, r._initialized = void 0, r._videoTag = void 0, r._dimensions = void 0, r._sharedVideoTag = void 0, r._autoplayResult = void 0, r._adLinear = !0, r._paused = !0, r
          }
          var r, n, a;
          return y()(t, e), f()(t, [{
            key: "destroy",
            value: function() {
              this.eventHandler = void 0, this._videoTag = void 0
            }
          }, {
            key: "isReady",
            value: function() {
              return !!this._initialized
            }
          }, {
            key: "init",
            value: (a = o()(i.a.mark((function e(t) {
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    if(x("init", this._videoTag, t), this.opts = t, this._dimensions = {
                        width: t.width,
                        height: t.height
                      }, this._prepared = !0, this._initialized || !this._videoTag) {
                      e.next = 7;
                      break
                    }
                    return e.next = 7, this.initAdapter();
                  case 7:
                  case "end":
                    return e.stop()
                }
              }), e, this)
            }))), function(e) {
              return a.apply(this, arguments)
            })
          }, {
            key: "setVideoTag",
            value: (n = o()(i.a.mark((function e(t) {
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    if(this._videoTag = t, this._initialized || !this._prepared) {
                      e.next = 4;
                      break
                    }
                    return e.next = 4, this.initAdapter();
                  case 4:
                  case "end":
                    return e.stop()
                }
              }), e, this)
            }))), function(e) {
              return n.apply(this, arguments)
            })
          }, {
            key: "initAdapter",
            value: (r = o()(i.a.mark((function e() {
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    return x("initAdapter", this.opts), e.prev = 1, e.next = 4, this.initialize(this.opts);
                  case 4:
                    this._initialized = !0, e.next = 12;
                    break;
                  case 7:
                    e.prev = 7, e.t0 = e.catch(1), x("initAdapter failed:", e.t0), this._prepared = !1, this.eventHandler.trigger(T.a.ADAPTER_INIT_FAILED);
                  case 12:
                  case "end":
                    return e.stop()
                }
              }), e, this, [
                [1, 7]
              ])
            }))), function() {
              return r.apply(this, arguments)
            })
          }, {
            key: "setIOSPlaysInline",
            value: function(e) {
              x("setIOSPlaysInline", e), this._sharedVideoTag = !e, this.initialize(u()({}, this.opts, {
                DisableCustomPlaybackForIOS10Plus: e
              }))
            }
          }, {
            key: "resize",
            value: function(e) {
              var t = e.width,
                r = e.height,
                n = e.linear,
                i = e.silent;
              !1 === n && (t += 10, r += 10), this.onResize({
                width: t,
                height: r,
                linear: n,
                silent: i
              }), this._adLinear = void 0 === n ? this._adLinear : n, this._dimensions = {
                width: t,
                height: r,
                linear: n
              }
            }
          }, {
            key: "dimensions",
            get: function() {
              return this._dimensions
            }
          }, {
            key: "videoTag",
            get: function() {
              return this._videoTag
            }
          }, {
            key: "adLinear",
            get: function() {
              return this._adLinear
            }
          }, {
            key: "sharedVideoTag",
            get: function() {
              return this._sharedVideoTag
            }
          }, {
            key: "paused",
            get: function() {
              return this._paused
            }
          }]), t
        }(D);

      function M(e) {
        try {
          return e.getAdPodInfo().getPodIndex()
        }
        catch (e) {
          return
        }
      }
      var P = r(7)("fpads:adapter:ima"),
        N = function(e) {
          function t(e) {
            var r;
            return c()(this, t), (r = p()(this, g()(t).call(this, e)))._adHandlers = [], r._timers = L.of(), r._started = !1, r._volumeLevel = 0, r._adLoaded = !1, r._currentDuration = 0, r._currentRemaining = 0, r._currentDisplayTs = 0, r
          }
          var r, n, a, s;
          return y()(t, e), f()(t, [{
            key: "destroy",
            value: function() {
              A()(g()(t.prototype), "destroy", this).call(this), L.empty(this._timers), this._adHandlers && this._adHandlers.forEach((function(e) {
                return e()
              })), this._adHandlers = void 0, this._adDisplayContainer && this._adDisplayContainer.destroy(), this._adDisplayContainer = void 0, this._adsLoader && this._adsLoader.destroy(), this._adsLoader = void 0, this._adsManager && this._adsManager.destroy(), this._adsManager = void 0
            }
          }, {
            key: "initialize",
            value: function(e) {
              var r = this,
                n = this.isAdPod(),
                i = this._adLoaded || n;
              this.cleanup();
              var a = this;
              this.opts = e, this._volumeLevel = e.volume;
              var o = google.ima.settings;
              e.NumRedirects = e.NumRedirects || e.redirects, Object.keys(e).forEach((function(t) {
                void 0 !== o["set".concat(t)] && o["set".concat(t)](e[t])
              }));
              var s = {
                VpaidMode: google.ima.ImaSdkSettings.VpaidMode.INSECURE,
                DisableCustomPlaybackForIOS10Plus: !0
              };
              Object.keys(s).filter((function(t) {
                return void 0 === e[t]
              })).forEach((function(e) {
                return o["set".concat(e)](s[e])
              })), this._adDisplayContainer = new google.ima.AdDisplayContainer(e.container, this.videoTag), this._adDisplayContainer.initialize(), this._adsLoader = new google.ima.AdsLoader(this._adDisplayContainer), P("ima.initialise(:wait -> ADS_MANAGER_LOADED)", u()({}, e, {
                volume: this.videoTag.volume,
                muted: this.videoTag.muted
              })), this._adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, (function(n) {
                P("ima.initialise(:done -> ADS_MANAGER_LOADED)\n%o", u()({}, e, {
                  volume: r.videoTag.volume,
                  muted: r.videoTag.muted
                }));
                var i = new google.ima.AdsRenderingSettings;
                P("ima.rendering(preload: %s)", !!e.preload_ads), i.useStyledNonLinearAds = !0, i.enablePreloading = !!e.preload_ads, "number" == typeof e.media_timeout && (i.loadVideoTimeout = e.media_timeout), i.restoreCustomPlaybackStateOnAdBreakComplete = !e.DisableCustomPlaybackForIOS10Plus, r.sharedVideoTag && (i.playAdsAfterTime = r.videoTag.currentTime), r.eventHandler.trigger(T.a.IMA_ADS_RENDERING_SETTINGS, i);
                var o = r._adsManager = n.getAdsManager(r.videoTag, i);
                r.eventHandler.trigger(T.a.IMA_ADAPTER_INIT, o), o.addEventListener(google.ima.AdEvent.Type.STARTED, (function(e) {
                  a.debugEvent(e);
                  var n = e.getAd();
                  a._currentDuration = n.getDuration(), a._currentDisplayTs = Date.now(), r.emitWithAd(T.a.AD_STARTED, n), n.isLinear() && t.pollRemaining({
                    ima: a,
                    adsManager: o
                  })
                })), o.addEventListener(google.ima.AdEvent.Type.COMPLETE, (function(e) {
                  a.debugEvent(e), a.emitWithAd(T.a.AD_COMPLETED, e.getAd()), L.empty(r._timers)
                })), o.addEventListener(google.ima.AdEvent.Type.SKIPPED, (function(e) {
                  a.debugEvent(e), a.emitWithAd(T.a.AD_SKIPPED, e.getAd())
                })), o.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED, (function(e) {
                  a.debugEvent(e), a.emitWithAd(T.a.AD_PAUSE_CONTENT, e.getAd())
                })), o.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED, (function(e) {
                  a.debugEvent(e), a._started = !1, a._currentDisplayTs = 0, a.eventHandler.trigger(T.a.AD_BREAK_COMPLETED)
                })), o.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED, (function(e) {
                  P("IMA::volume(type: %s, event: %o)", e.type, e);
                  var t = o.getVolume();
                  a._volumeLevel = t, a.eventHandler.trigger(T.a.AD_VOLUME_CHANGED, t)
                }));
                var s = function(e) {
                  a._paused = e, a.eventHandler.trigger(e ? T.a.AD_PAUSED : T.a.AD_RESUMED)
                };
                o.addEventListener(google.ima.AdEvent.Type.PAUSED, (function() {
                  return s(!0)
                })), o.addEventListener(google.ima.AdEvent.Type.RESUMED, (function() {
                  return s(!1)
                })), o.addEventListener(google.ima.AdEvent.Type.STARTED, (function() {
                  return s(!1)
                })), o.addEventListener(google.ima.AdEvent.Type.VOLUME_MUTED, (function(e) {
                  P("IMA::volume(type: %s, event: %o)", e.type, e), a.eventHandler.trigger(T.a.AD_MUTED)
                })), o.init(r.opts.width, r.opts.height, google.ima.ViewMode.NORMAL), P("ima.initialise: done initializing")
              })), i && (P("Event(reload: %s)", T.a.RELOAD_AD_REQUESTED), a.eventHandler.trigger(T.a.RELOAD_AD_REQUESTED, n)), this.eventHandler.trigger(T.a.AD_INIT, this)
            }
          }, {
            key: "destroyManager",
            value: function() {
              var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "unknown";
              if(!this._adsManager) return P("ima::destroyManager(:skip, label: %s)", e);
              P("ima::destroyManager(:ok, label: %s)", e), this._adsManager.destroy()
            }
          }, {
            key: "reset",
            value: function() {
              this.destroyManager("reset"), L.empty(this._timers), this.clearAdHandlers(), this._started = !1, this._adLoaded = !1
            }
          }, {
            key: "cleanup",
            value: function() {
              this.destroyManager("cleanup"), this._adsLoader && this._adsLoader.destroy(), this._adDisplayContainer && this._adDisplayContainer.destroy(), this._adLoaded = !1
            }
          }, {
            key: "waitForAdsManager",
            value: function() {
              var e = this;
              return new Promise((function(t) {
                P("ima.waitForAdsManager:", e._adsManager), e.once(e._adsLoader, google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, (function() {
                  setTimeout((function() {
                    return t(e._adsManager)
                  }))
                }))
              }))
            }
          }, {
            key: "initAd",
            value: (s = o()(i.a.mark((function e(t) {
              var r, n = arguments;
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    return r = n.length > 1 && void 0 !== n[1] ? n[1] : 5e3, P("ima.initAd(adTag: ".concat(t, ", timeout: ").concat(r, ")")), e.prev = 2, e.next = 5, this.requestAd(t, r);
                  case 5:
                    this._adLoaded = !0, e.next = 13;
                    break;
                  case 8:
                    throw e.prev = 8, e.t0 = e.catch(2), P("ima.initAd:", e.t0), this._adLoaded = !1, e.t0;
                  case 13:
                    return e.prev = 13, L.empty(this._timers), e.finish(13);
                  case 16:
                  case "end":
                    return e.stop()
                }
              }), e, this, [
                [2, 8, 13, 16]
              ])
            }))), function(e) {
              return s.apply(this, arguments)
            })
          }, {
            key: "requestAd",
            value: (a = o()(i.a.mark((function e(t, r) {
              var n, a, s, l, c, d, f, h, p, v = this;
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    return this.destroyManager("requestAd"), n = this, s = this.opts.autoplay, l = void 0 !== s && s, c = Date.now(), d = this.videoTag.muted, this._volumeLevel = this.videoTag.volume, f = d || 0 == this._volumeLevel, n._all_ads_completed = !1, P("ima.requestAd(%o)", u()({}, this.opts, {
                      autoplay: l,
                      muted: d,
                      timeout: r,
                      adTag: t,
                      _volumeLevel: this._volumeLevel,
                      manager: this._adsManager
                    })), this.clearAdHandlers(), (h = new google.ima.AdsRequest).adTagUrl = t, h.linearAdSlotWidth = this.opts.width, h.linearAdSlotHeight = this.opts.height, this.opts.disable_non_linear_ads || (h.nonLinearAdSlotWidth = this.opts.width), this.opts.disable_non_linear_ads || (h.nonLinearAdSlotHeight = this.opts.height - 50), h.setAdWillAutoPlay(l), h.setAdWillPlayMuted(f), h.vastLoadTimeout = r, this.eventHandler.trigger(T.a.IMA_BEFORE_ADS_REQUEST, {
                      request: h
                    }), this._adsLoader.requestAds(h), p = new Promise(function() {
                      var e = o()(i.a.mark((function e(t, r) {
                        var o, s;
                        return i.a.wrap((function(e) {
                          for(;;) switch(e.prev = e.next) {
                            case 0:
                              return v.once(v._adsLoader, google.ima.AdErrorEvent.Type.AD_ERROR, (function(e) {
                                v.emitError(T.a.AD_REQUEST_ERROR, e), r(new Error("Ad load failed"))
                              })), e.next = 3, n.waitForAdsManager();
                            case 3:
                              if(o = e.sent, v.volume(f ? 0 : v._volumeLevel), n.eventHandler.trigger(T.a.AD_VOLUME_CHANGED, v._volumeLevel), !(s = v.cuepoints()) || !s.length || 0 === s[0]) {
                                e.next = 9;
                                break
                              }
                              return e.abrupt("return", t({
                                ad: !1,
                                adsManager: o
                              }));
                            case 9:
                              v.once(o, google.ima.AdErrorEvent.Type.AD_ERROR, (function(e) {
                                v.emitError(T.a.AD_PLAYBACK_ERROR, e), r(e)
                              })), v.once(o, google.ima.AdEvent.Type.ALL_ADS_COMPLETED, (function() {
                                v._all_ads_completed = !0, t()
                              })), v.once(o, google.ima.AdEvent.Type.LOADED, (function(e) {
                                v.eventHandler.trigger(T.a.AD_REQUEST_COMPLETED, {
                                  request_load_time: Date.now() - c
                                }), a = e.getAd(), P("ima.requestAd: AD_REQUEST_COMPLETED", a.getContentType()), "application/javascript" == a.getContentType() && v.eventHandler.trigger(T.a.VPAID_INIT, a), t()
                              })), v.once(o, google.ima.AdEvent.Type.CLICK, (function() {
                                P("ima.requestAd: click event"), n.pause()
                              }));
                            case 13:
                            case "end":
                              return e.stop()
                          }
                        }), e, this)
                      })));
                      return function(t, r) {
                        return e.apply(this, arguments)
                      }
                    }()), e.abrupt("return", p);
                  case 23:
                  case "end":
                    return e.stop()
                }
              }), e, this)
            }))), function(e, t) {
              return a.apply(this, arguments)
            })
          }, {
            key: "playAd",
            value: (n = o()(i.a.mark((function e() {
              var t;
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    if(P("ima.playAd()", this), this._adsManager && this._adLoaded) {
                      e.next = 3;
                      break
                    }
                    return e.abrupt("return");
                  case 3:
                    if(t = this._adsManager.getCurrentAd()) {
                      e.next = 6;
                      break
                    }
                    return e.abrupt("return");
                  case 6:
                    if(!this.sharedVideoTag || t.isLinear()) {
                      e.next = 8;
                      break
                    }
                    return e.abrupt("return");
                  case 8:
                    return e.prev = 8, e.next = 11, this.startAndWaitForAdCompletion(this._adsManager, t.isLinear());
                  case 11:
                    e.next = 17;
                    break;
                  case 13:
                    throw e.prev = 13, e.t0 = e.catch(8), P("ima.playAd", e.t0), e.t0;
                  case 17:
                    return e.prev = 17, this._adLoaded = !1, L.empty(this._timers), e.finish(17);
                  case 21:
                  case "end":
                    return e.stop()
                }
              }), e, this, [
                [8, 13, 17, 21]
              ])
            }))), function() {
              return n.apply(this, arguments)
            })
          }, {
            key: "startAndWaitForAdCompletion",
            value: function(e, r) {
              var n = this;
              if(!this._started) {
                P("ima.startAndWaitForAdCompletion(manager: %o)", {
                  volume: e.getVolume()
                });
                var a = this;
                return new Promise((function(s, u) {
                  var l = !1;
                  a.once(e, google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED, (function() {
                    if(P("ima.startAndWaitForAdCompletion: CONTENT_RESUME_REQUESTED <<< happened"), a._started = !1, l) return P("ima.startAndWaitForAdCompletion: Content resume requested, but trying to recover from ad error");
                    s()
                  })), a.once(e, google.ima.AdErrorEvent.Type.AD_ERROR, function() {
                    var e = o()(i.a.mark((function e(r) {
                      return i.a.wrap((function(e) {
                        for(;;) switch(e.prev = e.next) {
                          case 0:
                            return P("ima.startAndWaitForAdCompletion: beginning error recovery ->", r), l = !0, e.prev = 2, e.next = 5, t.pollForFatalError({
                              err: r,
                              ima: a
                            });
                          case 5:
                            e.sent.ok && (l = !1), e.next = 14;
                            break;
                          case 10:
                            e.prev = 10, e.t0 = e.catch(2), a._started = !1, u(r);
                          case 14:
                          case "end":
                            return e.stop()
                        }
                      }), e, this, [
                        [2, 10]
                      ])
                    })));
                    return function(t) {
                      return e.apply(this, arguments)
                    }
                  }()), r && (n._started = !0), e.start(), n.eventHandler.trigger(T.a.AD_PLAY_REQUESTED)
                }))
              }
            }
          }, {
            key: "pause",
            value: function() {
              P("ima.pause()"), this._adsManager && this._adsManager.pause()
            }
          }, {
            key: "resume",
            value: function() {
              P("ima.resume()"), this._adsManager && this._adsManager.resume()
            }
          }, {
            key: "volume",
            value: function(e) {
              try {
                return arguments.length > 0 && "number" == typeof e && this._adsManager.setVolume(e), this._volumeLevel = this._adsManager.getVolume()
              }
              catch (e) {
                P("ima.volume() failed (%o)", e)
              }
            }
          }, {
            key: "onResize",
            value: function(e) {
              var t = e.width,
                r = e.height,
                n = e.linear,
                i = e.silent;
              this.opts && (t || r) && (n && (this.opts.width = t, this.opts.height = r), this._adsManager && (i || P("ima.onResize %s x %s", t, r), this._adsManager.resize(t, r, google.ima.ViewMode.NORMAL)))
            }
          }, {
            key: "currentAd",
            value: function() {
              return this._adsManager && this._adsManager.getCurrentAd()
            }
          }, {
            key: "isAdPod",
            value: function() {
              return this.cuepoints() && this.cuepoints().length > 1
            }
          }, {
            key: "cuepoints",
            value: function() {
              return this._adsManager && this._adsManager.getCuePoints()
            }
          }, {
            key: "contentComplete",
            value: (r = o()(i.a.mark((function e() {
              var r = this;
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    if(P("ima.contentComplete() -> ", this), this._adsLoader && this._adsLoader.contentComplete(), this.cuepoints() && -1 !== this.cuepoints().indexOf(-1)) {
                      e.next = 4;
                      break
                    }
                    return e.abrupt("return");
                  case 4:
                    return e.next = 6, new Promise((function(e) {
                      t.race(r.eventHandler, [T.a.AD_BREAK_COMPLETED, T.a.AD_ERROR], e)
                    }));
                  case 6:
                  case "end":
                    return e.stop()
                }
              }), e, this)
            }))), function() {
              return r.apply(this, arguments)
            })
          }, {
            key: "isUiDisabled",
            value: function() {
              return this.currentAd() && this.currentAd().isUiDisabled()
            }
          }, {
            key: "getAdPodInfo",
            value: function() {
              try {
                return this.currentAd() && this.currentAd().getAdPodInfo()
              }
              catch (e) {
                return null
              }
            }
          }, {
            key: "canDismissNonLinear",
            value: function() {
              var e = this.currentAd();
              if(!e || e.isLinear() || !this._adsManager || !this._currentDisplayTs) return !0;
              var t = Date.now(),
                r = e.getMinSuggestedDuration();
              return t - this._currentDisplayTs > 1e3 * r
            }
          }, {
            key: "once",
            value: function(e, t, r) {
              this._adHandlers.push(function(e, t, r) {
                var n = function n(i) {
                  r(i), e.removeEventListener(t, n)
                };
                return e.addEventListener(t, n),
                  function() {
                    return e.removeEventListener(t, n)
                  }
              }(e, t, r))
            }
          }, {
            key: "clearAdHandlers",
            value: function() {
              P("ima.clearAdHandlers"), this._adHandlers.forEach((function(e) {
                return e()
              })), this._adHandlers = []
            }
          }, {
            key: "emitWithAd",
            value: function(e, t) {
              var r = {
                ad_type: O.a.kindOf(M(t)),
                ad: {
                  duration: t.getDuration(),
                  width: t.getWidth(),
                  height: t.getHeight()
                },
                volume: this._adsManager.getVolume(),
                vast_ad_id: t.getAdId(),
                linear: t.isLinear(),
                mime_type: t.getContentType(),
                ima_event: !0
              };
              P("emitWithAd::event(name: ".concat(e, ", data: %o, ad: %o)"), r, t), this.eventHandler.trigger(e, r)
            }
          }, {
            key: "emitError",
            value: function(e, t) {
              var r = {
                vast_error_type: t.getError().getType(),
                reason: t.getError().getMessage(),
                vast_error: t.getError().getErrorCode()
              };
              P("ima.error(".concat(e, ")"), r), this.eventHandler.trigger(e, r)
            }
          }, {
            key: "debugEvent",
            value: function(e) {
              try {
                var t = e.getAd();
                if(!t) return;
                P("ima.event.".concat(e.type, " ->"), {
                  event: e,
                  data: e.getAdData(),
                  position: M(t),
                  ad: t
                })
              }
              catch (e) {}
            }
          }], [{
            key: "unwrapError",
            value: function() {
              var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = arguments.length > 1 ? arguments[1] : void 0;
              return "function" == typeof e.getMessage ? e.getMessage() : e.message ? e.message : t
            }
          }, {
            key: "pollForFatalError",
            value: function(e) {
              var r, n = e.err,
                i = e.ima;
              try {
                var a = n.getError(),
                  o = t.unwrapError(a.getInnerError(), a);
                r = {
                  reason: o,
                  type: a.getType(),
                  code: a.getErrorCode()
                }, P("ima.pollForFatalError", r)
              }
              catch (n) {
                P("ima.pollForFatalError", n)
              }
              var s = i._currentRemaining;
              return new Promise((function(e, t) {
                var n = setTimeout((function() {
                  P("ima.pollForFatalError: Ad errored and not progressing, reject"), i.eventHandler && i.eventHandler.trigger(T.a.AD_PLAYBACK_ERROR, r), t(new Error("Ad not progressing"))
                }), 2500);
                i.eventHandler.once(T.a.AD_PROGRESS, (function(t) {
                  -1 !== t.remaining && t.remaining < s && (P("ima.pollForFatalError: Ad still progressing even though errored, skip error rejection"), clearTimeout(n), e({
                    ok: 1
                  }))
                }))
              }))
            }
          }, {
            key: "pollRemaining",
            value: function(e) {
              var t = e.ima,
                r = e.adsManager;
              return P("ima.pollRemaining"), L.createInterval(t._timers, 250, (function() {
                t._currentRemaining = r.getRemainingTime(), t.eventHandler.trigger(T.a.AD_PROGRESS, {
                  remaining: t._currentRemaining,
                  duration: t._currentDuration
                })
              }))
            }
          }, {
            key: "race",
            value: function(e, t, r) {
              t.forEach((function(n) {
                e.on(n, (function n() {
                  t.forEach((function(t) {
                    return e.removeListener(t, n)
                  }));
                  for(var i = arguments.length, a = new Array(i), o = 0; o < i; o++) a[o] = arguments[o];
                  r(a)
                }))
              }))
            }
          }]), t
        }(I),
        F = function() {
          function e() {
            c()(this, e)
          }
          return f()(e, null, [{
            key: "create",
            value: function(e, t) {
              return e.adapter ? new e.adapter(t) : new N(t)
            }
          }]), e
        }(),
        U = r(28),
        B = r(17),
        j = r.n(B),
        G = r(29),
        H = r.n(G),
        K = r(7)("fpads:macros"),
        V = /\[([\s\S]+?)\]/g,
        q = function() {
          function e(t, r) {
            c()(this, e), this.vars = t, this.pattern = r
          }
          return f()(e, null, [{
            key: "of",
            value: function(t) {
              var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : V;
              return new e(t, r)
            }
          }, {
            key: "run",
            value: function(e) {
              try {
                return e()
              }
              catch (e) {
                return void console.error(e)
              }
            }
          }, {
            key: "merge",
            value: function() {
              for(var e = arguments.length, t = new Array(e), r = 0; r < e; r++) t[r] = arguments[r];
              return t.reduce((function(e, t) {
                return Object.assign(e, t)
              }), {})
            }
          }, {
            key: "cast",
            value: function(t) {
              var r = S()(t);
              return "undefined" === r ? "" : ("function" === r && (t = e.run(t)), encodeURIComponent(t))
            }
          }, {
            key: "normalize",
            value: function(e) {
              return e.trim()
            }
          }, {
            key: "process_obj",
            value: function(t, r, n) {
              return Object.keys(t).reduce((function(i, a) {
                var o = e.process_str(a, r, n, !0),
                  s = t[a];
                return null === s ? (i[o] = s, i) : "object" == S()(s) ? (i[o] = e.process_obj(s, r, n), i) : "string" == typeof s ? (i[o] = e.process_str(s, r, n), i) : void console.error(new Error("".concat(s, " at ").concat(a, " not a handled Macro type")))
              }), {})
            }
          }, {
            key: "process_str",
            value: function(t, r, n) {
              var i = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
              return t.replace(r.pattern, (function(t, r) {
                var a = e.normalize(r);
                if(!(a in n) || void 0 === n[a]) return t;
                var o = n[a],
                  s = i ? o : e.cast(o);
                return K("Macro.replace(raw: %s, macro: %s, value: %s)", i, r, s), s
              }))
            }
          }]), f()(e, [{
            key: "fork",
            value: function() {
              var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.pattern,
                n = e.merge(this.vars, t);
              return e.of(n, r)
            }
          }, {
            key: "compile",
            value: function(t) {
              var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                n = e.merge(this.vars, r),
                i = t.split("?"),
                a = j()(i, 2),
                o = a[0],
                s = a[1],
                u = H.a.parse(s || "", {
                  strictNullHandling: !0,
                  decoder: function(e) {
                    return e
                  }
                }),
                l = H.a.stringify(e.process_obj(u, this, n), {
                  encode: !1,
                  strictNullHandling: !0
                });
              return e.process_str(o, this, n, !0) + "?" + l
            }
          }]), e
        }();

      function W(e) {
        var t, r, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
          width: 0,
          height: 0
        };
        try {
          var i = document.createElement("a");
          i.href = t = window.location != window.parent.location ? document.referrer : document.location.href, r = i.hostname
        }
        catch (e) {
          console.error(e)
        }
        var a = n.width,
          o = n.height,
          s = e || {},
          l = s.video_source,
          c = "object" == S()(window.__flowplayerAdParameters) ? window.__flowplayerAdParameters : {};
        return u()({
          random: Date.now(),
          page_url: t,
          domain: r,
          player_width: a,
          player_height: o,
          video_url: l,
          videourl: l
        }, c)
      }

      function z(e) {
        return Y.apply(this, arguments)
      }

      function Y() {
        return (Y = o()(i.a.mark((function e(t) {
          return i.a.wrap((function(e) {
            for(;;) switch(e.prev = e.next) {
              case 0:
                if("function" == typeof t) {
                  e.next = 2;
                  break
                }
                return e.abrupt("return", t);
              case 2:
                return e.prev = 2, e.next = 5, t();
              case 5:
                return e.abrupt("return", e.sent);
              case 8:
                return e.prev = 8, e.t0 = e.catch(2), e.abrupt("return", "");
              case 11:
              case "end":
                return e.stop()
            }
          }), e, this, [
            [2, 8]
          ])
        })))).apply(this, arguments)
      }

      function X(e) {
        return Q.apply(this, arguments)
      }

      function Q() {
        return (Q = o()(i.a.mark((function e(t) {
          return i.a.wrap((function(e) {
            for(;;) switch(e.prev = e.next) {
              case 0:
                e.t0 = S()(t), e.next = "function" === e.t0 || "string" === e.t0 ? 3 : "object" === e.t0 ? 7 : 8;
                break;
              case 3:
                return e.next = 5, z(t);
              case 5:
                return e.t1 = e.sent, e.abrupt("return", [e.t1]);
              case 7:
                return e.abrupt("return", Array.isArray(t) ? Promise.all(t.map(z)) : X(t.adTag || []));
              case 8:
                throw new Error("\n        unhandled ads type ".concat(S()(t), ":\n        ").concat(JSON.stringify(t), "\n        can be:\n          | Array<string>\n          | string\n          | function\n          | {adTag: Array<string>|string|function}\n      "));
              case 9:
              case "end":
                return e.stop()
            }
          }), e, this)
        })))).apply(this, arguments)
      }
      Object.assign(q, {
        patterns: {
          BRACKETS: V,
          CURLY: /\{([\s\S]+?)\}/g,
          UNDERSCORE: /__([\s\S]+?)__/g
        }
      });
      var J = Object.prototype,
        Z = Object.getPrototypeOf;

      function $(e) {
        return null !== e && "object" === S()(e) && Z(e) === J
      }
      var ee = r(7)("fpads:ads:state"),
        te = {
          IDLE: 0,
          INITIALIZING: 1,
          FETCHING_AD: 2,
          AD_AVAILABLE: 4,
          BREAK_ACTIVE: 8,
          PLAYING: 16,
          FATAL_ERROR: 32
        },
        re = function() {
          function e() {
            c()(this, e), this._state = 0
          }
          return f()(e, null, [{
            key: "of",
            value: function() {
              return new e
            }
          }]), f()(e, [{
            key: "reset",
            value: function() {
              this._state = 0
            }
          }, {
            key: "toString",
            value: function() {
              var e = this;
              return 0 == this._state ? "AdState(None)" : "AdState(" + Object.keys(te).reduce((function(t, r) {
                return e.hasAny(te[r]) ? t + r + ": " + !!e.hasAny(te[r]) + " " : t
              }), "").trim() + ")"
            }
          }, {
            key: "toggleState",
            value: function(e, t) {
              return void 0 === e && ee(new Error("AdState cannot toggleState for `undefined`")), null == S()(t) ? this._state ^= e : t ? void(this._state |= e) : this._state &= ~e
            }
          }, {
            key: "hasAll",
            value: function(e) {
              return this._state == (this._state | e)
            }
          }, {
            key: "hasAny",
            value: function(e) {
              return this._state & e
            }
          }, {
            key: "state",
            get: function() {
              return this._state
            }
          }]), e
        }(),
        ne = r(7)("fpads:ads"),
        ie = {
          show_all_ads_on_seek: !1,
          timeout: 5e3,
          preload_advance: 10
        },
        ae = function(e) {
          function t() {
            var e, r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return c()(this, t), (e = p()(this, g()(t).call(this))).adapter = F.create(r, b()(b()(e))), e.opts = u()({}, ie), e.analytics = void 0, e._state = re.of(), e._schedule = void 0, e._lastAd = void 0, e._macros = q.of(r.parameters || {}), e.wireup(), e
          }
          var r, n, a, s, l, d, h, v;
          return y()(t, e), f()(t, [{
            key: "reset",
            value: function() {
              return this.removeAllListeners(), this.wireup(), this.analytics && this.analytics.wireup(), this._state.reset(), this.adapter.reset(), this
            }
          }, {
            key: "destroy",
            value: function() {
              this.removeAllListeners(), this.analytics && this.analytics.destroy(), this.adapter && this.adapter.destroy(), this.analytics = void 0, this.opts = void 0, this.adapter = void 0, this._state = void 0, this._schedule = void 0, this._lastAd = void 0, this._macros = void 0
            }
          }, {
            key: "wireup",
            value: function() {
              var e = this,
                t = function() {
                  return e._state.toggleState(te.PLAYING, !0)
                };
              this.on(T.a.AD_PLAY_REQUESTED, t), this.on(T.a.AD_STARTED, t), this.on(T.a.AD_RESUMED, t);
              var r = function() {
                return e._state.toggleState(te.PLAYING, !1)
              };
              this.on(T.a.AD_BREAK_COMPLETED, r), this.on(T.a.AD_TEARDOWN, r), this.on(T.a.AD_PLAYBACK_ERROR, r), this.on(T.a.AD_REQUEST_ERROR, r), this.on(T.a.AD_PAUSED, r), this.on(T.a.AD_SKIPPED, r), this.on(T.a.AD_COMPLETED, r), this.on(T.a.AD_BREAK_COMPLETED, (function() {
                e._state.toggleState(te.BREAK_ACTIVE, !1)
              })), this.on(T.a.ADAPTER_INIT_FAILED, (function() {
                console.error("Adapter init failed"), r(), e._state.toggleState(te.FATAL_ERROR, !0)
              })), this.on(T.a.RELOAD_AD_REQUESTED, function() {
                var t = o()(i.a.mark((function t(n) {
                  return i.a.wrap((function(t) {
                    for(;;) switch(t.prev = t.next) {
                      case 0:
                        if(ne("Ads.on(RELOAD_AD_REQUESTED)", n), r(), !n) {
                          t.next = 4;
                          break
                        }
                        return t.abrupt("return", e._schedule.reset(e._schedule.getAds()));
                      case 4:
                        e._state.hasAny(te.AD_AVAILABLE) && (e._schedule.decrement(), e._state.toggleState(te.AD_AVAILABLE, !1));
                      case 5:
                      case "end":
                        return t.stop()
                    }
                  }), t, this)
                })));
                return function(e) {
                  return t.apply(this, arguments)
                }
              }())
            }
          }, {
            key: "initialize",
            value: (v = o()(i.a.mark((function e(t) {
              var r, n, a = arguments;
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    return r = a.length > 1 && void 0 !== a[1] ? a[1] : {}, n = a.length > 2 ? a[2] : void 0, ne("Ads.initialize():", t, r, n), this._state.toggleState(te.INITIALIZING, !0), this.opts = Object.assign({}, this.opts, r), Array.isArray(t) && this.setSchedule(t), e.next = 8, this.adapter.init(this.opts);
                  case 8:
                    if(this._macros = this._macros.fork(Object.assign({}, r.parameters || {}, {
                        autoplay: r.autoplay,
                        muted: r.muted
                      })), !this.adapter.isReady()) {
                      e.next = 12;
                      break
                    }
                    return e.next = 12, this.adapterInitialized(n);
                  case 12:
                    return e.abrupt("return", this);
                  case 13:
                  case "end":
                    return e.stop()
                }
              }), e, this)
            }))), function(e) {
              return v.apply(this, arguments)
            })
          }, {
            key: "setVideoTag",
            value: (h = o()(i.a.mark((function e(t) {
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    return ne("Ads.setVideoTag():", t), e.next = 3, this.adapter.setVideoTag(t);
                  case 3:
                    if(this.trigger(T.a.AD_VIDEOTAG_ATTACHED, t), !this.adapter.isReady()) {
                      e.next = 7;
                      break
                    }
                    return e.next = 7, this.adapterInitialized();
                  case 7:
                  case "end":
                    return e.stop()
                }
              }), e, this)
            }))), function(e) {
              return h.apply(this, arguments)
            })
          }, {
            key: "waitForVideoTag",
            value: function() {
              var e = this;
              return new Promise((function(t) {
                var r = e.adapter.videoTag;
                if(r) return t(r);
                e.on(T.a.AD_VIDEOTAG_ATTACHED, (function(r) {
                  e.once(T.a.AD_INIT, (function() {
                    return t(r)
                  }))
                }))
              }))
            }
          }, {
            key: "adapterInitialized",
            value: (d = o()(i.a.mark((function e(t) {
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    return ne("Ads.adapterInitialized()"), this._state.toggleState(te.INITIALIZING, !1), this._state.toggleState(te.BREAK_ACTIVE, this.hasPreroll()), e.next = 5, this.setCurrentTime(0, t);
                  case 5:
                    this.checkIfBreakComplete(), t && !this.opts.autoplay || this.trigger(T.a.AD_TEARDOWN);
                  case 7:
                  case "end":
                    return e.stop()
                }
              }), e, this)
            }))), function(e) {
              return d.apply(this, arguments)
            })
          }, {
            key: "fetchNextAd",
            value: (l = o()(i.a.mark((function e(t) {
              var r, n, a = arguments;
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    if(r = a.length > 1 && void 0 !== a[1] ? a[1] : 0, this.adapter.isReady()) {
                      e.next = 3;
                      break
                    }
                    return e.abrupt("return");
                  case 3:
                    if(!(r > 50)) {
                      e.next = 7;
                      break
                    }
                    throw this._state.toggleState(te.FATAL_ERROR, !0), this._state.toggleState(te.FETCHING_AD, !1), new Error("Ads.fetchNextAd() :max_recursion_depth");
                  case 7:
                    if(!(n = this._schedule.getNextAd() || this._schedule.getPostroll()) || this.adapter.canDismissNonLinear() || -1 === t) {
                      e.next = 10;
                      break
                    }
                    return e.abrupt("return", !1);
                  case 10:
                    if(!this._schedule.waitForLoad(t, n, this.opts.preload_ads)) {
                      e.next = 13;
                      break
                    }
                    return this._state.toggleState(te.FETCHING_AD, !1), e.abrupt("return", !1);
                  case 13:
                    if(n === this._schedule.getPostroll() && this._schedule.setPostrollActive(), this._schedule.isDrained() || this._schedule.increment(), n) {
                      e.next = 18;
                      break
                    }
                    return this._state.toggleState(te.FETCHING_AD, !1), e.abrupt("return", !1);
                  case 18:
                    return ne("Ads.fetchNextAd", n), this._state.toggleState(te.FETCHING_AD, !0), e.prev = 20, e.next = 23, this.requestAd(n);
                  case 23:
                    return this._state.toggleState(te.AD_AVAILABLE, !0), this._state.toggleState(te.FETCHING_AD, !1), e.abrupt("return", this);
                  case 28:
                    if(e.prev = 28, e.t0 = e.catch(20), ne("Ads.fetchNextAd(err: %o, ad: %o)", e.t0, n), this.setLastAd(n), n === this._schedule.getPostroll()) {
                      e.next = 36;
                      break
                    }
                    return e.next = 35, this.fetchNextAd(t, ++r);
                  case 35:
                    return e.abrupt("return", e.sent);
                  case 36:
                  case "end":
                    return e.stop()
                }
              }), e, this, [
                [20, 28]
              ])
            }))), function(e) {
              return l.apply(this, arguments)
            })
          }, {
            key: "skipAdsOnSeek",
            value: function(e) {
              for(var t = this._schedule.getNextAd(); t && t.time < e;) this._schedule.increment(), t = this._schedule.getNextAd()
            }
          }, {
            key: "setCurrentTime",
            value: (s = o()(i.a.mark((function e(t, r) {
              var n, a, o = arguments;
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    if(n = o.length > 2 && void 0 !== o[2] && o[2], this._schedule) {
                      e.next = 3;
                      break
                    }
                    return e.abrupt("return");
                  case 3:
                    if(this.adapter.isReady()) {
                      e.next = 5;
                      break
                    }
                    return e.abrupt("return");
                  case 5:
                    if(!this._state.hasAny(te.FETCHING_AD)) {
                      e.next = 7;
                      break
                    }
                    return e.abrupt("return");
                  case 7:
                    if(!this._state.hasAny(te.PLAYING) || !this.adapter.adLinear) {
                      e.next = 9;
                      break
                    }
                    return e.abrupt("return");
                  case 9:
                    if(a = 0 === t && 0 === this._schedule.getNextIndex(), e.prev = 10, n && !this.opts.show_all_ads_on_seek && this.skipAdsOnSeek(t), this._state.hasAny(te.AD_AVAILABLE)) {
                      e.next = 15;
                      break
                    }
                    return e.next = 15, this.fetchNextAd(t);
                  case 15:
                    if(this._state.hasAny(te.AD_AVAILABLE) && this.shallPlayAd(t) && !r) {
                      e.next = 17;
                      break
                    }
                    return e.abrupt("return");
                  case 17:
                    return e.next = 19, this.playAd();
                  case 19:
                    return e.next = 21, this.setCurrentTime(t);
                  case 21:
                    this.checkIfBreakComplete(), e.next = 27;
                    break;
                  case 24:
                    e.prev = 24, e.t0 = e.catch(10), ne("setCurrentTime: Error(from: setCurrentTime, message: %s)", e.t0.message);
                  case 27:
                    return e.prev = 27, a && this.trigger(T.a.AD_PREROLL_FINSIHED), e.finish(27);
                  case 30:
                  case "end":
                    return e.stop()
                }
              }), e, this, [
                [10, 24, 27, 30]
              ])
            }))), function(e, t) {
              return s.apply(this, arguments)
            })
          }, {
            key: "playAd",
            value: (a = o()(i.a.mark((function e() {
              var t;
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    if(this._state.hasAny(te.AD_AVAILABLE)) {
                      e.next = 2;
                      break
                    }
                    return e.abrupt("return");
                  case 2:
                    return this._state.toggleState(te.AD_AVAILABLE, !1), this._state.toggleState(te.BREAK_ACTIVE, !0), e.prev = 4, t = this._schedule.getCurrentAd(), e.next = 8, this.adapter.playAd();
                  case 8:
                    t && this.setLastAd(t), e.next = 14;
                    break;
                  case 11:
                    e.prev = 11, e.t0 = e.catch(4), console.error("Ads.playAd: error", e.t0);
                  case 14:
                  case "end":
                    return e.stop()
                }
              }), e, this, [
                [4, 11]
              ])
            }))), function() {
              return a.apply(this, arguments)
            })
          }, {
            key: "checkIfBreakComplete",
            value: function() {
              if(!this._state.hasAny(te.BREAK_ACTIVE)) return ne("Ads.checkIfBreakComplete(:bail, ad: %o)", this.getLastAd());
              ne("Ads.checkIfBreakComplete(:run, ad: %o)", this.getLastAd()), this._state.toggleState(te.BREAK_ACTIVE, !1), this.adapter.isAdPod() || this.trigger(T.a.AD_BREAK_COMPLETED)
            }
          }, {
            key: "resetScheduleCounter",
            value: function() {
              this._schedule && this._schedule.resetCounter()
            }
          }, {
            key: "setSchedule",
            value: function(e, t) {
              if(!isNaN(t) && this._schedule && this._schedule.updateContentDuration(t), this._schedule && this._schedule.getNextIndex() > 0) return this._schedule.setAds(e);
              this._schedule = O.a.of(e, {
                preload_advance: this.opts.preload_advance,
                content_duration: isNaN(t) ? 0 : t
              })
            }
          }, {
            key: "toJSON",
            value: function() {
              return this._schedule ? this._schedule.toJSON() : []
            }
          }, {
            key: "trigger",
            value: function(e) {
              var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
              if(this._state) {
                if(e === T.a.AD_BREAK_COMPLETED && this._state.hasAny(te.BREAK_ACTIVE) && !this.adapter.isAdPod()) return ne("skipping AD_BREAK_COMPLETE reason: %s pod=%s", this._state.toString(), this.adapter.isAdPod());
                if($(t) && (t = Object.assign({}, this.adapter.opts || {}, this._schedule.getCurrentAd() || {}, {
                    ad_type: this.ad_type
                  }, t)).ima_event && "preroll" === t.ad_type && (t.ad_type = this.ad_type), this.adapter.videoTag) {
                  var r = document.createEvent("Event");
                  r.initEvent(e, !1, !1), r.data = t, this.adapter.videoTag.dispatchEvent(r)
                }
                U.EventEmitter.prototype.emit.apply(this, [e, t])
              }
            }
          }, {
            key: "shouldRestartContent",
            value: function() {
              var e = this.getLastAd();
              return !e.outstream && !1 !== e.restart
            }
          }, {
            key: "finished",
            value: (n = o()(i.a.mark((function e(t) {
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    if(ne("Ads.finished"), !(this.adapter.sharedVideoTag && this._state.hasAny(te.PLAYING) && this.adapter.adLinear)) {
                      e.next = 3;
                      break
                    }
                    return e.abrupt("return");
                  case 3:
                    if(ne("Ads.finished: trying to play postroll"), e.prev = 4, this._schedule.getPostroll()) {
                      e.next = 10;
                      break
                    }
                    return ne("Ads.finished: no postroll found"), e.next = 9, this.adapter.contentComplete();
                  case 9:
                    return e.abrupt("return", e.sent);
                  case 10:
                    if(this._state.hasAny(te.AD_AVAILABLE)) {
                      e.next = 13;
                      break
                    }
                    return e.next = 13, this.fetchNextAd(-1);
                  case 13:
                    return e.next = 15, this.playAd();
                  case 15:
                    this.adapter.contentComplete(), e.next = 21;
                    break;
                  case 18:
                    e.prev = 18, e.t0 = e.catch(4), ne("Ads.finished: postroll failed:", e.t0);
                  case 21:
                    return e.prev = 21, this.trigger(T.a.AD_POSTROLL_FINISHED), this.checkIfBreakComplete(), "function" == typeof t && t(), e.finish(21);
                  case 26:
                  case "end":
                    return e.stop()
                }
              }), e, this, [
                [4, 18, 21, 26]
              ])
            }))), function(e) {
              return n.apply(this, arguments)
            })
          }, {
            key: "hasPreroll",
            value: function() {
              return this._schedule && O.a.hasPreroll(this._schedule.getAds())
            }
          }, {
            key: "shallPlayAd",
            value: function(e) {
              return (!this.adapter || !this.adapter.isAdPod()) && !(!this._state || this._state.hasAny(te.FATAL_ERROR)) && this._schedule.shallPlayAd(e)
            }
          }, {
            key: "setLastAd",
            value: function(e) {
              return this._lastAd = e, this
            }
          }, {
            key: "getLastAd",
            value: function() {
              return this._lastAd || {}
            }
          }, {
            key: "mergeMacros",
            value: function() {
              var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
              return this._macros = this._macros.fork(Object.assign({}, e)), this
            }
          }, {
            key: "pause",
            value: function() {
              this.adapter && this.adapter.pause()
            }
          }, {
            key: "resume",
            value: function() {
              this.adapter && this.adapter.resume()
            }
          }, {
            key: "resize",
            value: function(e) {
              this.adapter && this.adapter.resize(e)
            }
          }, {
            key: "requestAd",
            value: (r = o()(i.a.mark((function e(t) {
              var r, n, a, o, s, u = arguments;
              return i.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    if(r = u.length > 1 && void 0 !== u[1] ? u[1] : 0, n = u.length > 2 && void 0 !== u[2] ? u[2] : this.opts.timeout, this._state) {
                      e.next = 4;
                      break
                    }
                    return e.abrupt("return");
                  case 4:
                    return ne("Ads.requestAd(ad: %o)", {
                      ad: t,
                      timeout: n,
                      idx: r
                    }), e.next = 7, X(t);
                  case 7:
                    if(void 0 !== (a = e.sent)[r]) {
                      e.next = 10;
                      break
                    }
                    return e.abrupt("return", Promise.reject(new Error("Ad failed, no fallbacks left")));
                  case 10:
                    if(a[r]) {
                      e.next = 14;
                      break
                    }
                    return e.next = 13, this.requestAd(a, r + 1, n);
                  case 13:
                    return e.abrupt("return", e.sent);
                  case 14:
                    return this.trigger(T.a.AD_REQUESTED, t), o = this._macros.compile(a[r], W(this.opts, this.adapter.dimensions)), e.prev = 16, e.next = 19, this.adapter.initAd(o, n);
                  case 19:
                    return s = e.sent, e.abrupt("return", {
                      ok: s
                    });
                  case 23:
                    return e.prev = 23, e.t0 = e.catch(16), ne("Ads.requestAd(:fallback, idx: ".concat(r, ", length: ").concat(a.length, ", adTag: ").concat(a[r], ")\nError "), {
                      adTag: a,
                      err: e.t0
                    }), e.abrupt("return", this.requestAd(a, r + 1, n));
                  case 27:
                  case "end":
                    return e.stop()
                }
              }), e, this, [
                [16, 23]
              ])
            }))), function(e) {
              return r.apply(this, arguments)
            })
          }, {
            key: "resetSchedule",
            value: function(e) {
              this._schedule && this._schedule.reset(e)
            }
          }, {
            key: "ad_type",
            get: function() {
              return this._schedule && this._schedule.getCurrentType()
            }
          }, {
            key: "paused",
            get: function() {
              return this.adapter && this.adapter.paused
            }
          }, {
            key: "adPlaying",
            get: function() {
              return this._state && this._state.hasAny(te.PLAYING)
            }
          }, {
            key: "adBreak",
            get: function() {
              return this._state && this._state.hasAny(te.BREAK_ACTIVE)
            }
          }]), t
        }(U.EventEmitter)
    }, function(e, t) {
      function r(t, n) {
        return e.exports = r = Object.setPrototypeOf || function(e, t) {
          return e.__proto__ = t, e
        }, r(t, n)
      }
      e.exports = r
    }, function(e, t, r) {
      r(54), e.exports = r(10).Object.assign
    }, function(e, t, r) {
      var n = r(14);
      n(n.S + n.F, "Object", {
        assign: r(63)
      })
    }, function(e, t, r) {
      var n = r(56),
        i = r(57),
        a = r(59),
        o = Object.defineProperty;
      t.f = r(22) ? Object.defineProperty : function(e, t, r) {
        if(n(e), t = a(t, !0), n(r), i) try {
          return o(e, t, r)
        }
        catch (e) {}
        if("get" in r || "set" in r) throw TypeError("Accessors not supported!");
        return "value" in r && (e[t] = r.value), e
      }
    }, function(e, t, r) {
      var n = r(15);
      e.exports = function(e) {
        if(!n(e)) throw TypeError(e + " is not an object!");
        return e
      }
    }, function(e, t, r) {
      e.exports = !r(22) && !r(23)((function() {
        return 7 != Object.defineProperty(r(58)("div"), "a", {
          get: function() {
            return 7
          }
        }).a
      }))
    }, function(e, t, r) {
      var n = r(15),
        i = r(13).document,
        a = n(i) && n(i.createElement);
      e.exports = function(e) {
        return a ? i.createElement(e) : {}
      }
    }, function(e, t, r) {
      var n = r(15);
      e.exports = function(e, t) {
        if(!n(e)) return e;
        var r, i;
        if(t && "function" == typeof(r = e.toString) && !n(i = r.call(e))) return i;
        if("function" == typeof(r = e.valueOf) && !n(i = r.call(e))) return i;
        if(!t && "function" == typeof(r = e.toString) && !n(i = r.call(e))) return i;
        throw TypeError("Can't convert object to primitive value")
      }
    }, function(e, t) {
      e.exports = function(e, t) {
        return {
          enumerable: !(1 & e),
          configurable: !(2 & e),
          writable: !(4 & e),
          value: t
        }
      }
    }, function(e, t, r) {
      var n = r(13),
        i = r(21),
        a = r(31),
        o = r(24)("src"),
        s = Function.toString,
        u = ("" + s).split("toString");
      r(10).inspectSource = function(e) {
        return s.call(e)
      }, (e.exports = function(e, t, r, s) {
        var l = "function" == typeof r;
        l && (a(r, "name") || i(r, "name", t)), e[t] !== r && (l && (a(r, o) || i(r, o, e[t] ? "" + e[t] : u.join(String(t)))), e === n ? e[t] = r : s ? e[t] ? e[t] = r : i(e, t, r) : (delete e[t], i(e, t, r)))
      })(Function.prototype, "toString", (function() {
        return "function" == typeof this && this[o] || s.call(this)
      }))
    }, function(e, t) {
      e.exports = function(e) {
        if("function" != typeof e) throw TypeError(e + " is not a function!");
        return e
      }
    }, function(e, t, r) {
      var n = r(33),
        i = r(70),
        a = r(39),
        o = r(40),
        s = r(26),
        u = Object.assign;
      e.exports = !u || r(23)((function() {
        var e = {},
          t = {},
          r = Symbol(),
          n = "abcdefghijklmnopqrst";
        return e[r] = 7, n.split("").forEach((function(e) {
          t[e] = e
        })), 7 != u({}, e)[r] || Object.keys(u({}, t)).join("") != n
      })) ? function(e, t) {
        for(var r = o(e), u = arguments.length, l = 1, c = i.f, d = a.f; u > l;)
          for(var f, h = s(arguments[l++]), p = c ? n(h).concat(c(h)) : n(h), v = p.length, g = 0; v > g;) d.call(h, f = p[g++]) && (r[f] = h[f]);
        return r
      } : u
    }, function(e, t, r) {
      var n = r(31),
        i = r(25),
        a = r(65)(!1),
        o = r(67)("IE_PROTO");
      e.exports = function(e, t) {
        var r, s = i(e),
          u = 0,
          l = [];
        for(r in s) r != o && n(s, r) && l.push(r);
        for(; t.length > u;) n(s, r = t[u++]) && (~a(l, r) || l.push(r));
        return l
      }
    }, function(e, t, r) {
      var n = r(25),
        i = r(36),
        a = r(66);
      e.exports = function(e) {
        return function(t, r, o) {
          var s, u = n(t),
            l = i(u.length),
            c = a(o, l);
          if(e && r != r) {
            for(; l > c;)
              if((s = u[c++]) != s) return !0
          }
          else
            for(; l > c; c++)
              if((e || c in u) && u[c] === r) return e || c || 0;
          return !e && -1
        }
      }
    }, function(e, t, r) {
      var n = r(37),
        i = Math.max,
        a = Math.min;
      e.exports = function(e, t) {
        return (e = n(e)) < 0 ? i(e + t, 0) : a(e, t)
      }
    }, function(e, t, r) {
      var n = r(38)("keys"),
        i = r(24);
      e.exports = function(e) {
        return n[e] || (n[e] = i(e))
      }
    }, function(e, t) {
      e.exports = !1
    }, function(e, t) {
      e.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
    }, function(e, t) {
      t.f = Object.getOwnPropertySymbols
    }, function(e, t, r) {
      r(72), e.exports = r(10).Object.values
    }, function(e, t, r) {
      var n = r(14),
        i = r(41)(!1);
      n(n.S, "Object", {
        values: function(e) {
          return i(e)
        }
      })
    }, function(e, t, r) {
      r(74), e.exports = r(10).Object.entries
    }, function(e, t, r) {
      var n = r(14),
        i = r(41)(!0);
      n(n.S, "Object", {
        entries: function(e) {
          return i(e)
        }
      })
    }, function(e, t, r) {
      r(76), e.exports = r(10).Array.find
    }, function(e, t, r) {
      var n = r(14),
        i = r(77)(5),
        a = !0;
      "find" in [] && Array(1).find((function() {
        a = !1
      })), n(n.P + n.F * a, "Array", {
        find: function(e) {
          return i(this, e, arguments.length > 1 ? arguments[1] : void 0)
        }
      }), r(81)("find")
    }, function(e, t, r) {
      var n = r(32),
        i = r(26),
        a = r(40),
        o = r(36),
        s = r(78);
      e.exports = function(e, t) {
        var r = 1 == e,
          u = 2 == e,
          l = 3 == e,
          c = 4 == e,
          d = 6 == e,
          f = 5 == e || d,
          h = t || s;
        return function(t, s, p) {
          for(var v, g, m = a(t), y = i(m), _ = n(s, p, 3), b = o(y.length), E = 0, A = r ? h(t, b) : u ? h(t, 0) : void 0; b > E; E++)
            if((f || E in y) && (g = _(v = y[E], E, m), e))
              if(r) A[E] = g;
              else if(g) switch(e) {
            case 3:
              return !0;
            case 5:
              return v;
            case 6:
              return E;
            case 2:
              A.push(v)
          }
          else if(c) return !1;
          return d ? -1 : l || c ? c : A
        }
      }
    }, function(e, t, r) {
      var n = r(79);
      e.exports = function(e, t) {
        return new(n(e))(t)
      }
    }, function(e, t, r) {
      var n = r(15),
        i = r(80),
        a = r(42)("species");
      e.exports = function(e) {
        var t;
        return i(e) && ("function" != typeof(t = e.constructor) || t !== Array && !i(t.prototype) || (t = void 0), n(t) && null === (t = t[a]) && (t = void 0)), void 0 === t ? Array : t
      }
    }, function(e, t, r) {
      var n = r(34);
      e.exports = Array.isArray || function(e) {
        return "Array" == n(e)
      }
    }, function(e, t, r) {
      var n = r(42)("unscopables"),
        i = Array.prototype;
      null == i[n] && r(21)(i, n, {}), e.exports = function(e) {
        i[n][e] = !0
      }
    }, function(e, t, r) {
      var n = function() {
          return this || "object" == typeof self && self
        }() || Function("return this")(),
        i = n.regeneratorRuntime && Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime") >= 0,
        a = i && n.regeneratorRuntime;
      if(n.regeneratorRuntime = void 0, e.exports = r(83), i) n.regeneratorRuntime = a;
      else try {
        delete n.regeneratorRuntime
      }
      catch (e) {
        n.regeneratorRuntime = void 0
      }
    }, function(e, t) {
      ! function(t) {
        var r = Object.prototype,
          n = r.hasOwnProperty,
          i = "function" == typeof Symbol ? Symbol : {},
          a = i.iterator || "@@iterator",
          o = i.asyncIterator || "@@asyncIterator",
          s = i.toStringTag || "@@toStringTag",
          u = "object" == typeof e,
          l = t.regeneratorRuntime;
        if(l) u && (e.exports = l);
        else {
          (l = t.regeneratorRuntime = u ? e.exports : {}).wrap = v;
          var c = {},
            d = {};
          d[a] = function() {
            return this
          };
          var f = Object.getPrototypeOf,
            h = f && f(f(k([])));
          h && h !== r && n.call(h, a) && (d = h);
          var p = _.prototype = m.prototype = Object.create(d);
          y.prototype = p.constructor = _, _.constructor = y, _[s] = y.displayName = "GeneratorFunction", l.isGeneratorFunction = function(e) {
            var t = "function" == typeof e && e.constructor;
            return !!t && (t === y || "GeneratorFunction" === (t.displayName || t.name))
          }, l.mark = function(e) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(e, _) : (e.__proto__ = _, s in e || (e[s] = "GeneratorFunction")), e.prototype = Object.create(p), e
          }, l.awrap = function(e) {
            return {
              __await: e
            }
          }, b(E.prototype), E.prototype[o] = function() {
            return this
          }, l.AsyncIterator = E, l.async = function(e, t, r, n) {
            var i = new E(v(e, t, r, n));
            return l.isGeneratorFunction(t) ? i : i.next().then((function(e) {
              return e.done ? e.value : i.next()
            }))
          }, b(p), p[s] = "Generator", p[a] = function() {
            return this
          }, p.toString = function() {
            return "[object Generator]"
          }, l.keys = function(e) {
            var t = [];
            for(var r in e) t.push(r);
            return t.reverse(),
              function r() {
                for(; t.length;) {
                  var n = t.pop();
                  if(n in e) return r.value = n, r.done = !1, r
                }
                return r.done = !0, r
              }
          }, l.values = k, S.prototype = {
            constructor: S,
            reset: function(e) {
              if(this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(w), !e)
                for(var t in this) "t" === t.charAt(0) && n.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0)
            },
            stop: function() {
              this.done = !0;
              var e = this.tryEntries[0].completion;
              if("throw" === e.type) throw e.arg;
              return this.rval
            },
            dispatchException: function(e) {
              if(this.done) throw e;
              var t = this;

              function r(r, n) {
                return o.type = "throw", o.arg = e, t.next = r, n && (t.method = "next", t.arg = void 0), !!n
              }
              for(var i = this.tryEntries.length - 1; i >= 0; --i) {
                var a = this.tryEntries[i],
                  o = a.completion;
                if("root" === a.tryLoc) return r("end");
                if(a.tryLoc <= this.prev) {
                  var s = n.call(a, "catchLoc"),
                    u = n.call(a, "finallyLoc");
                  if(s && u) {
                    if(this.prev < a.catchLoc) return r(a.catchLoc, !0);
                    if(this.prev < a.finallyLoc) return r(a.finallyLoc)
                  }
                  else if(s) {
                    if(this.prev < a.catchLoc) return r(a.catchLoc, !0)
                  }
                  else {
                    if(!u) throw new Error("try statement without catch or finally");
                    if(this.prev < a.finallyLoc) return r(a.finallyLoc)
                  }
                }
              }
            },
            abrupt: function(e, t) {
              for(var r = this.tryEntries.length - 1; r >= 0; --r) {
                var i = this.tryEntries[r];
                if(i.tryLoc <= this.prev && n.call(i, "finallyLoc") && this.prev < i.finallyLoc) {
                  var a = i;
                  break
                }
              }
              a && ("break" === e || "continue" === e) && a.tryLoc <= t && t <= a.finallyLoc && (a = null);
              var o = a ? a.completion : {};
              return o.type = e, o.arg = t, a ? (this.method = "next", this.next = a.finallyLoc, c) : this.complete(o)
            },
            complete: function(e, t) {
              if("throw" === e.type) throw e.arg;
              return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), c
            },
            finish: function(e) {
              for(var t = this.tryEntries.length - 1; t >= 0; --t) {
                var r = this.tryEntries[t];
                if(r.finallyLoc === e) return this.complete(r.completion, r.afterLoc), w(r), c
              }
            },
            catch: function(e) {
              for(var t = this.tryEntries.length - 1; t >= 0; --t) {
                var r = this.tryEntries[t];
                if(r.tryLoc === e) {
                  var n = r.completion;
                  if("throw" === n.type) {
                    var i = n.arg;
                    w(r)
                  }
                  return i
                }
              }
              throw new Error("illegal catch attempt")
            },
            delegateYield: function(e, t, r) {
              return this.delegate = {
                iterator: k(e),
                resultName: t,
                nextLoc: r
              }, "next" === this.method && (this.arg = void 0), c
            }
          }
        }

        function v(e, t, r, n) {
          var i = t && t.prototype instanceof m ? t : m,
            a = Object.create(i.prototype),
            o = new S(n || []);
          return a._invoke = function(e, t, r) {
            var n = "suspendedStart";
            return function(i, a) {
              if("executing" === n) throw new Error("Generator is already running");
              if("completed" === n) {
                if("throw" === i) throw a;
                return {
                  value: void 0,
                  done: !0
                }
              }
              for(r.method = i, r.arg = a;;) {
                var o = r.delegate;
                if(o) {
                  var s = A(o, r);
                  if(s) {
                    if(s === c) continue;
                    return s
                  }
                }
                if("next" === r.method) r.sent = r._sent = r.arg;
                else if("throw" === r.method) {
                  if("suspendedStart" === n) throw n = "completed", r.arg;
                  r.dispatchException(r.arg)
                }
                else "return" === r.method && r.abrupt("return", r.arg);
                n = "executing";
                var u = g(e, t, r);
                if("normal" === u.type) {
                  if(n = r.done ? "completed" : "suspendedYield", u.arg === c) continue;
                  return {
                    value: u.arg,
                    done: r.done
                  }
                }
                "throw" === u.type && (n = "completed", r.method = "throw", r.arg = u.arg)
              }
            }
          }(e, r, o), a
        }

        function g(e, t, r) {
          try {
            return {
              type: "normal",
              arg: e.call(t, r)
            }
          }
          catch (e) {
            return {
              type: "throw",
              arg: e
            }
          }
        }

        function m() {}

        function y() {}

        function _() {}

        function b(e) {
          ["next", "throw", "return"].forEach((function(t) {
            e[t] = function(e) {
              return this._invoke(t, e)
            }
          }))
        }

        function E(e) {
          var t;
          this._invoke = function(r, i) {
            function a() {
              return new Promise((function(t, a) {
                ! function t(r, i, a, o) {
                  var s = g(e[r], e, i);
                  if("throw" !== s.type) {
                    var u = s.arg,
                      l = u.value;
                    return l && "object" == typeof l && n.call(l, "__await") ? Promise.resolve(l.__await).then((function(e) {
                      t("next", e, a, o)
                    }), (function(e) {
                      t("throw", e, a, o)
                    })) : Promise.resolve(l).then((function(e) {
                      u.value = e, a(u)
                    }), (function(e) {
                      return t("throw", e, a, o)
                    }))
                  }
                  o(s.arg)
                }(r, i, t, a)
              }))
            }
            return t = t ? t.then(a, a) : a()
          }
        }

        function A(e, t) {
          var r = e.iterator[t.method];
          if(void 0 === r) {
            if(t.delegate = null, "throw" === t.method) {
              if(e.iterator.return && (t.method = "return", t.arg = void 0, A(e, t), "throw" === t.method)) return c;
              t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method")
            }
            return c
          }
          var n = g(r, e.iterator, t.arg);
          if("throw" === n.type) return t.method = "throw", t.arg = n.arg, t.delegate = null, c;
          var i = n.arg;
          return i ? i.done ? (t[e.resultName] = i.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", t.arg = void 0), t.delegate = null, c) : i : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), t.delegate = null, c)
        }

        function T(e) {
          var t = {
            tryLoc: e[0]
          };
          1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t)
        }

        function w(e) {
          var t = e.completion || {};
          t.type = "normal", delete t.arg, e.completion = t
        }

        function S(e) {
          this.tryEntries = [{
            tryLoc: "root"
          }], e.forEach(T, this), this.reset(!0)
        }

        function k(e) {
          if(e) {
            var t = e[a];
            if(t) return t.call(e);
            if("function" == typeof e.next) return e;
            if(!isNaN(e.length)) {
              var r = -1,
                i = function t() {
                  for(; ++r < e.length;)
                    if(n.call(e, r)) return t.value = e[r], t.done = !1, t;
                  return t.value = void 0, t.done = !0, t
                };
              return i.next = i
            }
          }
          return {
            next: R
          }
        }

        function R() {
          return {
            value: void 0,
            done: !0
          }
        }
      }(function() {
        return this || "object" == typeof self && self
      }() || Function("return this")())
    }, function(e, t, r) {
      var n = r(8);
      e.exports = function(e, t) {
        for(; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = n(e)););
        return e
      }
    }, function(e, t) {
      e.exports = function(e) {
        if(Array.isArray(e)) return e
      }
    }, function(e, t) {
      e.exports = function(e, t) {
        var r = [],
          n = !0,
          i = !1,
          a = void 0;
        try {
          for(var o, s = e[Symbol.iterator](); !(n = (o = s.next()).done) && (r.push(o.value), !t || r.length !== t); n = !0);
        }
        catch (e) {
          i = !0, a = e
        }
        finally {
          try {
            n || null == s.return || s.return()
          }
          finally {
            if(i) throw a
          }
        }
        return r
      }
    }, function(e, t) {
      e.exports = function() {
        throw new TypeError("Invalid attempt to destructure non-iterable instance")
      }
    }, function(e, t, r) {
      var n = r(43),
        i = r(44),
        a = {
          brackets: function(e) {
            return e + "[]"
          },
          indices: function(e, t) {
            return e + "[" + t + "]"
          },
          repeat: function(e) {
            return e
          }
        },
        o = Date.prototype.toISOString,
        s = {
          delimiter: "&",
          encode: !0,
          encoder: n.encode,
          encodeValuesOnly: !1,
          serializeDate: function(e) {
            return o.call(e)
          },
          skipNulls: !1,
          strictNullHandling: !1
        },
        u = function e(t, r, i, a, o, u, l, c, d, f, h, p) {
          var v = t;
          if("function" == typeof l) v = l(r, v);
          else if(v instanceof Date) v = f(v);
          else if(null === v) {
            if(a) return u && !p ? u(r, s.encoder) : r;
            v = ""
          }
          if("string" == typeof v || "number" == typeof v || "boolean" == typeof v || n.isBuffer(v)) return u ? [h(p ? r : u(r, s.encoder)) + "=" + h(u(v, s.encoder))] : [h(r) + "=" + h(String(v))];
          var g, m = [];
          if(void 0 === v) return m;
          if(Array.isArray(l)) g = l;
          else {
            var y = Object.keys(v);
            g = c ? y.sort(c) : y
          }
          for(var _ = 0; _ < g.length; ++_) {
            var b = g[_];
            o && null === v[b] || (m = Array.isArray(v) ? m.concat(e(v[b], i(r, b), i, a, o, u, l, c, d, f, h, p)) : m.concat(e(v[b], r + (d ? "." + b : "[" + b + "]"), i, a, o, u, l, c, d, f, h, p)))
          }
          return m
        };
      e.exports = function(e, t) {
        var r = e,
          o = t ? n.assign({}, t) : {};
        if(null !== o.encoder && void 0 !== o.encoder && "function" != typeof o.encoder) throw new TypeError("Encoder has to be a function.");
        var l = void 0 === o.delimiter ? s.delimiter : o.delimiter,
          c = "boolean" == typeof o.strictNullHandling ? o.strictNullHandling : s.strictNullHandling,
          d = "boolean" == typeof o.skipNulls ? o.skipNulls : s.skipNulls,
          f = "boolean" == typeof o.encode ? o.encode : s.encode,
          h = "function" == typeof o.encoder ? o.encoder : s.encoder,
          p = "function" == typeof o.sort ? o.sort : null,
          v = void 0 !== o.allowDots && o.allowDots,
          g = "function" == typeof o.serializeDate ? o.serializeDate : s.serializeDate,
          m = "boolean" == typeof o.encodeValuesOnly ? o.encodeValuesOnly : s.encodeValuesOnly;
        if(void 0 === o.format) o.format = i.default;
        else if(!Object.prototype.hasOwnProperty.call(i.formatters, o.format)) throw new TypeError("Unknown format option provided.");
        var y, _, b = i.formatters[o.format];
        "function" == typeof o.filter ? r = (_ = o.filter)("", r) : Array.isArray(o.filter) && (y = _ = o.filter);
        var E, A = [];
        if("object" != typeof r || null === r) return "";
        E = o.arrayFormat in a ? o.arrayFormat : "indices" in o ? o.indices ? "indices" : "repeat" : "indices";
        var T = a[E];
        y || (y = Object.keys(r)), p && y.sort(p);
        for(var w = 0; w < y.length; ++w) {
          var S = y[w];
          d && null === r[S] || (A = A.concat(u(r[S], S, T, c, d, f ? h : null, _, p, v, g, b, m)))
        }
        var k = A.join(l),
          R = !0 === o.addQueryPrefix ? "?" : "";
        return k.length > 0 ? R + k : ""
      }
    }, function(e, t, r) {
      var n = r(43),
        i = Object.prototype.hasOwnProperty,
        a = {
          allowDots: !1,
          allowPrototypes: !1,
          arrayLimit: 20,
          decoder: n.decode,
          delimiter: "&",
          depth: 5,
          parameterLimit: 1e3,
          plainObjects: !1,
          strictNullHandling: !1
        },
        o = function(e, t, r) {
          if(e) {
            var n = r.allowDots ? e.replace(/\.([^.[]+)/g, "[$1]") : e,
              a = /(\[[^[\]]*])/g,
              o = /(\[[^[\]]*])/.exec(n),
              s = o ? n.slice(0, o.index) : n,
              u = [];
            if(s) {
              if(!r.plainObjects && i.call(Object.prototype, s) && !r.allowPrototypes) return;
              u.push(s)
            }
            for(var l = 0; null !== (o = a.exec(n)) && l < r.depth;) {
              if(l += 1, !r.plainObjects && i.call(Object.prototype, o[1].slice(1, -1)) && !r.allowPrototypes) return;
              u.push(o[1])
            }
            return o && u.push("[" + n.slice(o.index) + "]"),
              function(e, t, r) {
                for(var n = t, i = e.length - 1; i >= 0; --i) {
                  var a, o = e[i];
                  if("[]" === o) a = (a = []).concat(n);
                  else {
                    a = r.plainObjects ? Object.create(null) : {};
                    var s = "[" === o.charAt(0) && "]" === o.charAt(o.length - 1) ? o.slice(1, -1) : o,
                      u = parseInt(s, 10);
                    !isNaN(u) && o !== s && String(u) === s && u >= 0 && r.parseArrays && u <= r.arrayLimit ? (a = [])[u] = n : a[s] = n
                  }
                  n = a
                }
                return n
              }(u, t, r)
          }
        };
      e.exports = function(e, t) {
        var r = t ? n.assign({}, t) : {};
        if(null !== r.decoder && void 0 !== r.decoder && "function" != typeof r.decoder) throw new TypeError("Decoder has to be a function.");
        if(r.ignoreQueryPrefix = !0 === r.ignoreQueryPrefix, r.delimiter = "string" == typeof r.delimiter || n.isRegExp(r.delimiter) ? r.delimiter : a.delimiter, r.depth = "number" == typeof r.depth ? r.depth : a.depth, r.arrayLimit = "number" == typeof r.arrayLimit ? r.arrayLimit : a.arrayLimit, r.parseArrays = !1 !== r.parseArrays, r.decoder = "function" == typeof r.decoder ? r.decoder : a.decoder, r.allowDots = "boolean" == typeof r.allowDots ? r.allowDots : a.allowDots, r.plainObjects = "boolean" == typeof r.plainObjects ? r.plainObjects : a.plainObjects, r.allowPrototypes = "boolean" == typeof r.allowPrototypes ? r.allowPrototypes : a.allowPrototypes, r.parameterLimit = "number" == typeof r.parameterLimit ? r.parameterLimit : a.parameterLimit, r.strictNullHandling = "boolean" == typeof r.strictNullHandling ? r.strictNullHandling : a.strictNullHandling, "" === e || null == e) return r.plainObjects ? Object.create(null) : {};
        for(var s = "string" == typeof e ? function(e, t) {
            for(var r = {}, n = t.ignoreQueryPrefix ? e.replace(/^\?/, "") : e, o = t.parameterLimit === 1 / 0 ? void 0 : t.parameterLimit, s = n.split(t.delimiter, o), u = 0; u < s.length; ++u) {
              var l, c, d = s[u],
                f = d.indexOf("]="),
                h = -1 === f ? d.indexOf("=") : f + 1; - 1 === h ? (l = t.decoder(d, a.decoder), c = t.strictNullHandling ? null : "") : (l = t.decoder(d.slice(0, h), a.decoder), c = t.decoder(d.slice(h + 1), a.decoder)), i.call(r, l) ? r[l] = [].concat(r[l]).concat(c) : r[l] = c
            }
            return r
          }(e, r) : e, u = r.plainObjects ? Object.create(null) : {}, l = Object.keys(s), c = 0; c < l.length; ++c) {
          var d = l[c],
            f = o(d, s[d], r);
          u = n.merge(u, f, r)
        }
        return n.compact(u)
      }
    }, function(e, t) {
      e.exports = function(e) {
        if(Array.isArray(e)) {
          for(var t = 0, r = new Array(e.length); t < e.length; t++) r[t] = e[t];
          return r
        }
      }
    }, function(e, t) {
      e.exports = function(e) {
        if(Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e)
      }
    }, function(e, t) {
      e.exports = function() {
        throw new TypeError("Invalid attempt to spread non-iterable instance")
      }
    }, function(e, t, r) {
      var n = r(96);
      e.exports = function(e, t) {
        if(null == e) return {};
        var r, i, a = n(e, t);
        if(Object.getOwnPropertySymbols) {
          var o = Object.getOwnPropertySymbols(e);
          for(i = 0; i < o.length; i++) r = o[i], t.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (a[r] = e[r])
        }
        return a
      }
    }, function(e, t, r) {
      var n = r(52);

      function i() {
        if("undefined" == typeof Reflect || !Reflect.construct) return !1;
        if(Reflect.construct.sham) return !1;
        if("function" == typeof Proxy) return !0;
        try {
          return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}))), !0
        }
        catch (e) {
          return !1
        }
      }

      function a(t, r, o) {
        return i() ? e.exports = a = Reflect.construct : e.exports = a = function(e, t, r) {
          var i = [null];
          i.push.apply(i, t);
          var a = new(Function.bind.apply(e, i));
          return r && n(a, r.prototype), a
        }, a.apply(null, arguments)
      }
      e.exports = a
    }, function(e, t, r) {
      r.r(t), r.d(t, "default", (function() {
        return ie
      }));
      var n = {};
      r.r(n), r.d(n, "STICKY_CONTROLS", (function() {
        return E
      })), r.d(n, "NO_FULLSCREEN", (function() {
        return A
      })), r.d(n, "NO_AD_INDICATOR", (function() {
        return T
      })), r.d(n, "AD_ATTRIBUTION", (function() {
        return w
      })), r.d(n, "AD_CHOICES", (function() {
        return S
      })), r.d(n, "REMAINING_TIME", (function() {
        return k
      })), r.d(n, "VOLUME_BAR", (function() {
        return R
      }));
      var i = r(5),
        a = r.n(i),
        o = r(6),
        s = r.n(o),
        u = r(93),
        l = r.n(u),
        c = r(1),
        d = r.n(c),
        f = r(2),
        h = r.n(f),
        p = r(4),
        v = r.n(p),
        g = r(3),
        m = r.n(g),
        y = r(94),
        _ = r.n(y),
        b = (r(97), r(99), r(101), r(103), r(0)),
        E = 1,
        A = 2,
        T = 4,
        w = 8,
        S = 16,
        k = 32,
        R = 64;

      function L(e) {
        var t = window.getComputedStyle(e);
        return "0" !== t.width && "0" !== t.height && "0" !== t.opacity && "none" !== t.display && "hidden" !== t.visibility
      }
      var O = function() {},
        C = "function" == typeof requestAnimationFrame ? requestAnimationFrame : setTimeout,
        D = [].forEach,
        x = r(7)("fpads:native:ui"),
        I = "is-ad-showing",
        M = "is-ad-linear",
        P = "is-ad-nonlinear",
        N = "ad-playing",
        F = "no-fullscreen",
        U = "ad-hide-first-frame",
        B = function() {
          function e(t) {
            var r, n, i, a, o = this,
              s = t.root,
              u = t.content,
              l = t.config,
              c = t.initial,
              d = t.ads;
            v()(this, e), Object.assign(this, {
              root: s,
              content: u,
              initial: c,
              ads: d,
              config: l
            }), this.progress = {
              percent: 0
            }, this.animation = (r = function(e) {
              if(o.halt_animation()) return o.animation.running = !1;
              o.set_progress_bar(Math.round(o.progress.percent)), requestAnimationFrame(o.animation)
            }, n = Math.ceil(1e3 / 60), i = 0, a = null, function() {
              var e = Date.now() - i;
              null === a && (a = C((function() {
                a = null, r.apply(this, arguments), i = Date.now()
              }), n - e))
            }), d.ui = this, this.render().wireup(), u.on(flowplayer.events.REAP, (function(e) {
              return o.destroy()
            }))
          }
          return m()(e, null, [{
            key: "of",
            value: function() {
              for(var t = arguments.length, r = new Array(t), n = 0; n < t; n++) r[n] = arguments[n];
              return _()(e, r)
            }
          }, {
            key: "as_progress",
            value: function(e) {
              var t = e.remaining,
                r = e.duration;
              return {
                percent: Math.min(100, Math.max(0, (r - t) / r * 100))
              }
            }
          }, {
            key: "clone",
            value: function(e, t, r) {
              var n = t.querySelector(r);
              if(n) {
                var i = flowplayer.mq(n.cloneNode(!0));
                return flowplayer.mq(i), e.appendChild(i), i
              }
            }
          }]), m()(e, [{
            key: "halt_animation",
            value: function() {
              return !this.progress_bar || 0 == this.content.reaper || !this.wrapper || !this.wrapper.hasClass(N)
            }
          }, {
            key: "animate",
            value: function() {
              this.animation.running || function(e) {
                for(var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++) r[n - 1] = arguments[n];
                e.apply(void 0, r)
              }(this.animation)
            }
          }, {
            key: "resize",
            value: function(e) {
              if(e.linear) return this.toggle(a()({
                on: !0
              }, e));
              x("UI.resize(): ", e), this.adContainer.css({
                width: e.width
              }), this.wrapper.css({
                height: e.height,
                marginTop: "-".concat(e.height + this.root.controls.clientHeight, "px")
              })
            }
          }, {
            key: "set_progress_bar",
            value: function(e) {
              this.progress_bar && this.progress_bar.css("width", "".concat(e, "%"))
            }
          }, {
            key: "reset_styles",
            value: function() {
              var e = this;
              this.progress.percent = 0, "height width marginLeft marginTop".split(" ").forEach((function(t) {
                e.wrapper.style[t] = "", e.adContainer.style[t] = ""
              }));
              try {
                window.emit("resize")
              }
              catch (e) {}
            }
          }, {
            key: "reset",
            value: function() {
              return this.wrapper.className = "fp-ad-container", this.reset_styles(), this.progress = {
                percent: 0
              }, this
            }
          }, {
            key: "isShowing",
            value: function() {
              return this.root.hasClass(I)
            }
          }, {
            key: "hideFirstFrame",
            value: function() {
              return this.root.toggleClass(U, !0), this
            }
          }, {
            key: "showFirstFrame",
            value: function() {
              return this.root.toggleClass(U, !1), this
            }
          }, {
            key: "toggle",
            value: function(e) {
              var t = e.on,
                r = e.linear;
              if(this.root) return x("UI.toggle(): ", arguments[0]), this.showFirstFrame(), t || this.reset(), r && this.reset_styles(), this.root.toggleClass(I, t), this.root.toggleClass(M, t && r), this.root.toggleClass(P, t && !r), this
            }
          }, {
            key: "addClass",
            value: function() {
              var e;
              this.wrapper && (e = this.wrapper).addClass.apply(e, arguments)
            }
          }, {
            key: "removeClass",
            value: function() {
              var e;
              this.wrapper && (e = this.wrapper).removeClass.apply(e, arguments)
            }
          }, {
            key: "render",
            value: function() {
              var t = this,
                r = flowplayer.mq,
                n = document.createDocumentFragment(),
                i = this,
                a = flowplayer.util.lens(this, "config.ima.flags", flowplayer.util.lens(this, "config.ima.ui", 0));
              return this.wrapper = r.div("fp-ad-container"), this.ad_wrapper = r.div("fp-ad-wrapper"), this.adContainer = r.div("fp-ad"), this.controls = r.div("fp-ad-controls"), this.progress_wrapper = r.div("fp-ad-progress-wrapper"), this.progress_bar = r.div("fp-ad-progress fp-color"), this.waiting = e.clone(this.wrapper, this.root, ".fp-wait"), this.play_btn = e.clone(this.controls, this.root, ".fp-btns.fp-small-switch"), this.volume_btn = e.clone(this.controls, this.root, ".fp-volumebtn"), this.volume_bar = e.clone(this.controls, this.root, ".fp-volume"), this.fs_btn = e.clone(this.controls, this.root, ".fp-secondary"), R & a && (this.root.toggleClass("ad-volume-bar"), function(e, t) {
                var r, n, i;
                if("grabbing" in e) return e;
                e.grabbing = !1, e.touching = !1;
                var a = t.onseek || O,
                  o = t.onstart || O,
                  s = t.onend || O,
                  u = t.onmouse || O,
                  l = t.ontouch || O,
                  c = t.ontouchend || O,
                  d = t.ctx;

                function f(t) {
                  r = e.offset().left, n = e.clientWidth;
                  var i = (function(e) {
                    return "function" == typeof window.TouchEvent && e instanceof TouchEvent
                  }(t) ? t.changedTouches[0].pageX : t.pageX) - r;
                  return i > n && (i = n), i < 0 && (i = 0), Math.round(i / n * 100)
                }

                function h(t) {
                  var r = f(t);
                  r != i && (a.call(d, r, e), i = r)
                }

                function p(e) {
                  if(e) {
                    var t = "";
                    return Array.prototype.forEach.call(e.classList, (function(e) {
                      t = "." + e
                    })), t
                  }
                }
                e.addEventListener("touchstart", (function(t) {
                  t.target.closest(p(e)) && (e.touching = !0, L(e.parentElement) && (t.preventDefault(), e.grabbing = !0, l(d, e), o(d, e), h(t)))
                })), e.addEventListener("touchmove", (function(t) {
                  t.target.closest(p(e)) && L(e.parentElement) && e.touching && (t.preventDefault(), h(t), u.call(d, f(t), e))
                })), e.addEventListener("touchend", (function(t) {
                  setTimeout((function() {
                    e.touching = !1, console.debug("Touching to false")
                  }), 500), t.target.closest(p(e)) && L(e.parentElement) && (t.preventDefault(), e.grabbing = !1, c(d, e), s(d, e), n = 0)
                })), e.addEventListener("touchcancel", (function() {
                  e.touching = !1, e.grabbing = !1, n = 0
                })), e.addEventListener("mousedown", (function(t) {
                  e.touching || (document.addEventListener("mousemove", h), e.grabbing = !0, o.call(d, e), t.preventDefault(), h(t))
                })), e.addEventListener("mousemove", (function(t) {
                  e.touching || u.call(d, f(t), e)
                })), document.addEventListener("mouseup", (function() {
                  e.touching || (document.removeEventListener("mousemove", h), e.grabbing = !1, s.call(d, e), n = 0)
                }))
              }(this.volume_bar, {
                onseek: function(e) {
                  return t.maybe_adapter((function(t) {
                    return t.volume(e / 100)
                  }))
                }
              })), this.fs_btn && (this.fs_btn.removeClass("fp-togglable"), D.call(this.fs_btn.childNodes, (function(e) {
                "svg" == e.tagName.toLowerCase() || e.remove()
              }))), this.root.toggleClass("is-ad-controls-sticky", E & a), this.root.toggleClass("is-ad-attribution", w & a), this.root.toggleClass(F, A & a), flowplayer.support().ios && this.content.one([b.a.AD_BREAK_COMPLETED, b.a.AD_REQUEST_ERROR, b.a.AD_STARTED], (function(e) {
                t.root.toggleClass(F, A & a || e.type === b.a.AD_STARTED)
              })), !flowplayer.util.lens(this, "config.ima.indicator", !0) || T & a || (this.indicator = this.controls.prepend(r.div("ad-indicator")), this.indicator.addClass("fp-color-text")), k & a && (this.remaining = r.div("fp-ad-remaining"), this.remaining.addClass("fp-color-text"), this.controls.prepend(this.remaining)), S & a && (this.root.toggleClass("is-ad-choices", !0), this.ad_choices = r.div("fp-ad-choices").txt("AdChoices"), this.ad_choices.on("click", (function(e) {
                e.preventDefault(), i.ads.pause(), window.open("https://adssettings.google.com", "_blank")
              }))), this.ad_wrapper.append(this.adContainer), this.progress_wrapper.append(this.progress_bar), n.appendChild(this.wrapper), this.wrapper.append([this.ad_wrapper, this.controls, this.progress_wrapper]), this.ad_choices && this.wrapper.appendChild(this.ad_choices), this.content.renderPlugin(n), this
            }
          }, {
            key: "ad_loading",
            value: function(e) {
              this.wrapper && this.wrapper.toggleClass("is-waiting", e)
            }
          }, {
            key: "update_time_remaining",
            value: function(e) {
              this.remaining && this.remaining.txt(function(e) {
                var t, r = Math.floor(e / 60);
                return r + ":" + (t = e -= 60 * r, (t = parseInt(t, 10)) >= 10 ? t : "0" + t)
              }(e))
            }
          }, {
            key: "update_ad_indicator",
            value: function() {
              if(this.indicator) {
                var e = this.maybe_adapter((function(e) {
                  return e.getAdPodInfo()
                }));
                if(e) {
                  x("IMA -> ", e);
                  var t = this.content._t("ads.indicator", "ADS");
                  this.indicator.txt("".concat(t, " ").concat(e.getAdPosition(), " / ").concat(e.getTotalAds()))
                }
              }
            }
          }, {
            key: "wireup",
            value: function() {
              var t = this;
              this.ads.on(b.a.AD_REQUESTED, (function(e) {
                t.ad_loading(!0)
              })), this.ads.on(b.a.AD_VOLUME_CHANGED, (function(e) {
                x("Event(%s, level: %o)", b.a.AD_VOLUME_CHANGED, e), t.content.muted || (t.content.volume = e), t.adjust_volume_slider(e)
              })), this.ads.on(b.a.AD_STARTED, (function(e) {
                t.playback_changed(!0), t.update_ad_indicator()
              })), this.ads.on(b.a.AD_COMPLETED, (function(e) {
                t.set_progress_bar(0)
              })), this.ads.on(b.a.AD_PAUSED, (function(e) {
                return t.playback_changed(!1)
              })), this.ads.on(b.a.AD_RESUMED, (function(e) {
                return t.playback_changed(!0)
              })), this.ads.on(b.a.AD_PROGRESS, (function(r) {
                t.update_time_remaining(r.remaining, r.duration), t.progress = e.as_progress(r)
              })), this.play_btn && this.play_btn.on("click touchend", (function(e) {
                return "touchend" == e.type && e.preventDefault(), t.ads.paused ? t.ads.resume() : t.ads.pause()
              })), this.fs_btn && this.fs_btn.on("click", (function(e) {
                t.content.toggleFullScreen()
              })), this.volume_btn && this.volume_btn.on("click", (function() {
                return t.maybe_adapter((function(e) {
                  t.content.muted = e.volume() > 0, e.volume(t.content.muted ? 0 : 0 == t.content.volume ? .1 : t.content.volume)
                }))
              }))
            }
          }, {
            key: "adjust_volume_slider",
            value: function(e) {
              if(this.volume_bar) {
                var t = [].slice.call(this.volume_bar.querySelectorAll(".fp-tick")),
                  r = Math.round(e * t.length);
                this.volume_bar.attr("aria-valuenow", e), t.slice(r).forEach((function(e) {
                  return e.classList.remove("fp-color")
                })), t.slice(0, r).forEach((function(e) {
                  return e.classList.add("fp-color")
                }))
              }
            }
          }, {
            key: "playback_changed",
            value: function(e) {
              this.ad_loading(!1), e && this.animate(), this.wrapper.toggleClass(N, e), this.wrapper.toggleClass("ad-paused", !e), this.wrapper.toggleClass("ad-ui-disabled", this.maybe_adapter((function(e) {
                return e.isUiDisabled()
              })))
            }
          }, {
            key: "maybe_adapter",
            value: function(e) {
              return this.ads && this.ads.adapter ? e(this.ads.adapter) : 0
            }
          }, {
            key: "destroy",
            value: function() {
              this.ads.ui = this.root = this.content = this.config = this.wrapper = this.adContainer = 0
            }
          }]), e
        }();

      function j(e) {
        return {
          width: e.clientWidth,
          height: e.clientHeight
        }
      }

      function G(e, t, r) {
        return "number" == typeof r && (r += "px"), e.style.setProperty(t, r), e
      }
      r(7)("fpads:dom");
      var H = r(7)("fpads:plugin:native"),
        K = {
          on: !0
        },
        V = {
          on: !1
        },
        q = [b.a.AD_PLAYBACK_ERROR, b.a.AD_TEARDOWN, b.a.AD_BREAK_COMPLETED],
        W = function() {
          function e() {
            v()(this, e)
          }
          var t, r, n, i;
          return m()(e, null, [{
            key: "user_gesture",
            value: function() {
              return flowplayer.events.BEFORE_PLAY
            }
          }, {
            key: "snapshot",
            value: function(e, t) {
              return {
                muted: !(t || !e.muted),
                volume: e.volume
              }
            }
          }, {
            key: "start_from_user_gesture",
            value: function(t) {
              var r = t.content,
                n = t.ads,
                i = t.config,
                a = t.ui,
                o = t.state,
                s = t.initial,
                u = t.adContainer,
                l = t.ima,
                c = e.user_gesture();
              r.one(c, function() {
                var t = h()(d.a.mark((function t(c) {
                  return d.a.wrap((function(t) {
                    for(;;) switch(t.prev = t.next) {
                      case 0:
                        if(r.in_viewport || "touchend" != c.type) {
                          t.next = 2;
                          break
                        }
                        return t.abrupt("return");
                      case 2:
                        if(n.shallPlayAd(0)) {
                          t.next = 4;
                          break
                        }
                        return t.abrupt("return");
                      case 4:
                        return !flowplayer.support().ios && c.preventDefault(), e.add_time_listeners({
                          ads: n,
                          content: r,
                          ui: a,
                          state: o
                        }), H("LifeCycle.user_gesture(:intercept) -> shallPlayAd(0: %s)", n.shallPlayAd(0)), i.muted = s.muted, t.next = 10, e.start({
                          ads: n,
                          content: r,
                          state: o,
                          adContainer: u,
                          ima: l,
                          config: i
                        });
                      case 10:
                        e.update_time({
                          ads: n,
                          content: r,
                          ui: a
                        });
                      case 11:
                      case "end":
                        return t.stop()
                    }
                  }), t, this)
                })));
                return function(e) {
                  return t.apply(this, arguments)
                }
              }())
            }
          }, {
            key: "init",
            value: (i = h()(d.a.mark((function t(r) {
              var n, i, a, o, s, u, l, c, f, h, p, v, g;
              return d.a.wrap((function(t) {
                for(;;) switch(t.prev = t.next) {
                  case 0:
                    if(n = r.config, i = r.root, a = r.content, o = r.ads, s = r.ima, a.autoplay = !1, u = n.autoplay === flowplayer.autoplay_options.AUDIO_REQUIRED, l = e.snapshot(a, u), c = flowplayer.util.lens, f = flowplayer, h = f.events, a.on(h.VOLUME_CHANGE, (function() {
                        l.volume = a.volume, l.muted = a.muted
                      })), p = B.of({
                        ads: o,
                        content: a,
                        config: n,
                        initial: l,
                        root: a.root
                      }), v = p.adContainer, g = {
                        listening: !1,
                        preload: c(n, "ima.preload_ads", !1)
                      }, H("LifeCycle.initial()", {
                        initial: l
                      }), o.setVideoTag(a), !n.autoplay) {
                      t.next = 19;
                      break
                    }
                    return H("Trying to autoplay"), p.hideFirstFrame(), t.next = 17, e.peek_content(a, u);
                  case 17:
                    t.sent ? (H("Can autoplay, start ad"), a.opts.autoplay = !0, e.start({
                      ads: o,
                      content: a,
                      state: g,
                      adContainer: v,
                      ima: s,
                      config: n
                    })) : (H("cannot autoplay(audioRequired: %s), fallback to poster state", u), n.autoplay = !1, p.showFirstFrame(), a.setState("is-starting", !0));
                  case 19:
                    n.autoplay || o.hasPreroll() && e.start_from_user_gesture({
                      content: a,
                      ads: o,
                      config: n,
                      ui: p,
                      state: g,
                      initial: l,
                      adContainer: v,
                      ima: s
                    }), !n.autoplay && o.hasPreroll() && g.preload && e.start({
                      ads: o,
                      content: a,
                      state: g,
                      adContainer: v,
                      ima: s,
                      config: n
                    }), e.ui_listeners({
                      config: n,
                      root: i,
                      content: a,
                      ads: o,
                      state: g,
                      adContainer: v,
                      ui: p,
                      ima: s,
                      initial: l
                    }), a.on(h.SOURCE, (function() {
                      a.one(h.BEFORE_PLAY, (function() {
                        return o.resetScheduleCounter()
                      }))
                    }));
                  case 23:
                  case "end":
                    return t.stop()
                }
              }), t, this)
            }))), function(e) {
              return i.apply(this, arguments)
            })
          }, {
            key: "start",
            value: (n = h()(d.a.mark((function e(t) {
              var r, n, i, o, s, u, c, f, h, p, v, g, m, y;
              return d.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    if(r = t.ads, n = t.content, i = t.adContainer, o = t.ima, s = t.state, u = t.config, c = void 0 === u ? {} : u, !s.started) {
                      e.next = 3;
                      break
                    }
                    return e.abrupt("return");
                  case 3:
                    return s.started = !0, f = flowplayer, h = f.support, p = flowplayer.util.lens, o.ads, v = l()(o, ["ads"]), g = c.dimensions || j(n.root), m = p(c, "muted", n.muted), y = Object.assign(a()({
                      container: i,
                      volume: m ? 0 : p(c, "volume", n.volume),
                      muted: m,
                      autoplay: p(c, "autoplay", !1),
                      video_source: n.original_src,
                      DisableCustomPlaybackForIOS10Plus: p(c, "fake_fullscreen", h().ios),
                      preload_ads: p(c, "ima.preload_ads", !1)
                    }, v, g)), H("LifeCycle.start():", y, s), e.next = 13, r.initialize(!1, y, s.preload);
                  case 13:
                  case "end":
                    return e.stop()
                }
              }), e, this)
            }))), function(e) {
              return n.apply(this, arguments)
            })
          }, {
            key: "ui_listeners",
            value: function(t) {
              var r = t.config,
                n = t.root,
                i = t.content,
                o = t.ads,
                s = t.initial,
                u = t.adContainer,
                l = t.state,
                c = t.ui,
                f = t.ima;
              H("LifeCycle.ui_listeners()");
              var p = flowplayer,
                v = p.events,
                g = p.states;
              i.one(v.PLAYING, function() {
                var t = h()(d.a.mark((function t(s) {
                  return d.a.wrap((function(t) {
                    for(;;) switch(t.prev = t.next) {
                      case 0:
                        if(o) {
                          t.next = 2;
                          break
                        }
                        return t.abrupt("return");
                      case 2:
                        if(H("LifeCycle.ui_listeners() -> content started playing"), e.add_time_listeners({
                            ads: o,
                            content: i,
                            ui: c,
                            state: l
                          }), o.shallPlayAd(0) && o.adapter.adLinear) {
                          t.next = 9;
                          break
                        }
                        return H("LifeCycle.ui_listeners() -> no more preroll ads -> resume content"), t.next = 8, e.start({
                          ads: o,
                          content: i,
                          state: l,
                          adContainer: u,
                          ima: f,
                          config: r
                        });
                      case 8:
                        return t.abrupt("return", t.sent);
                      case 9:
                        return i.pause(), t.next = 12, e.start({
                          ads: o,
                          content: i,
                          state: l,
                          adContainer: u,
                          ima: f,
                          config: r
                        });
                      case 12:
                        if(o.shallPlayAd(0) && o.adapter.adLinear) {
                          t.next = 14;
                          break
                        }
                        return t.abrupt("return");
                      case 14:
                        c.toggle(a()({}, K, {
                          linear: !0
                        })), n.addClass(g.WAITING), e.update_time({
                          ads: o,
                          content: i,
                          ui: c
                        });
                      case 17:
                      case "end":
                        return t.stop()
                    }
                  }), t, this)
                })));
                return function(e) {
                  return t.apply(this, arguments)
                }
              }()), i.on([v.PORTRAIT, v.LANDSCAPE, v.RESIZE], (function() {
                if(o) {
                  var e = i.clientWidth || i.parentNode.clientWidth || n.clientWidth,
                    t = i.clientHeight || i.parentNode.clientHeight || n.clientHeight;
                  o.resize({
                    height: t,
                    width: e
                  })
                }
              })), i.on(v.ENDED, (function(e) {
                o && (H("LifeCycle.ui_listeners(:%s, event: %o)", e.type, e.data), e.data && e.data.from === o || (e.preventDefault(), o.finished((function() {
                  i.emit(v.ENDED, {
                    from: o
                  })
                }))))
              })), o.once(b.a.AD_STARTED, (function() {
                var e = flowplayer.events,
                  t = flowplayer.util.lens;
                i.on([e.BEFORE_PLAY, e.BEFORE_PAUSE], (function(r) {
                  if(o.adBreak && o.adapter.adLinear) {
                    r.preventDefault();
                    var n = t(r, "data.forced", !1) ? r.type === e.BEFORE_PLAY : !o.adPlaying;
                    n && o.paused && o.resume(), n || o.paused || o.pause()
                  }
                }))
              })), o.on(b.a.AD_STARTED, (function(e) {
                var t = e.linear,
                  r = e.ad;
                if(H("Ad[linear: ".concat(t, ", currentTime: ").concat(i.currentTime, "] starting"), r), "preroll" == o.ad_type && !t && i.paused && i.play(), "preroll" == o.ad_type && t && i.currentTime > 0 && (H("Preroll[rewind: true]", i.currentTime), i.currentTime = 0), o.resize({
                    width: r.width,
                    height: r.height,
                    linear: t
                  }), c.resize({
                    linear: t,
                    resizeContainerAlso: !0,
                    width: t ? void 0 : r.width,
                    height: t ? void 0 : r.height
                  }), n.removeClass(g.WAITING), c.toggle(a()({}, K, {
                    linear: t,
                    ad: r
                  })), !t) try {
                  i.togglePlay(!0), i.volume = s.volume, i.muted = s.muted
                }
                catch (e) {
                  H(e)
                }
              })), o.on(b.a.AD_PAUSE_CONTENT, (function() {
                c.resize({
                  linear: !0,
                  resizeContainerAlso: !0,
                  width: void 0,
                  height: void 0
                })
              })), q.forEach((function(t) {
                return o.on(t, (function(r) {
                  return e.teardown({
                    root: n,
                    content: i,
                    ui: c,
                    initial: s,
                    err: r,
                    event: t
                  })
                }))
              }))
            }
          }, {
            key: "add_time_listeners",
            value: function(t) {
              var r = t.ads,
                n = t.content,
                i = t.ui,
                a = t.state,
                o = flowplayer.events;
              a.listening || (n.on([o.TIME_UPDATE, o.SEEKED, o.PLAYING, o.SEEKING], (function(t) {
                r && (r.adPlaying && r.adapter.adLinear && !r.adapter.sharedVideoTag && !n.paused && n.pause(), e.update_time({
                  ads: r,
                  content: n,
                  ui: i,
                  seek: t.type === o.SEEKING
                }))
              })), a.listening = !0)
            }
          }, {
            key: "update_time",
            value: function(e) {
              var t = e.ads,
                r = e.content,
                n = e.seek,
                i = void 0 !== n && n;
              t && t.setCurrentTime(r.currentTime, void 0, i)
            }
          }, {
            key: "teardown",
            value: (r = h()(d.a.mark((function t(r) {
              var n, i, a, o, s, u, l, c, f, h;
              return d.a.wrap((function(t) {
                for(;;) switch(t.prev = t.next) {
                  case 0:
                    if(n = r.root, i = r.content, a = r.ui, o = r.event, s = r.err, u = void 0 === s ? {} : s, a.isShowing() || i.paused) {
                      t.next = 3;
                      break
                    }
                    return t.abrupt("return", {
                      noop: 1
                    });
                  case 3:
                    if(l = flowplayer, c = l.states, n.addClass("is-seamless"), a.removeClass("is-vpaid"), n.removeClass(c.WAITING), H("LifeCycle.teardown(event: %s)", o), u.reason && H("LifeCycle.teardown(:err, reason: %s) %o", u.reason), a.toggle(V), f = i.ads, h = f.getLastAd(), f.shouldRestartContent()) {
                      t.next = 15;
                      break
                    }
                    return H("Lifecycle.teardown(:skip_restart, reason: %s)", "Ad prevented restarting content"), t.abrupt("return", e.on_content_playing(n));
                  case 15:
                    if(!(i.currentTime > 0 && i.currentTime >= i.duration || "postroll" == f.ad_type || !1 === h.restart)) {
                      t.next = 18;
                      break
                    }
                    return H("Lifecycle.teardown(:skip_restart, reason: %s)", "was a postroll ad"), t.abrupt("return", e.on_content_playing(n));
                  case 18:
                    if("" === i.currentSrc && (i.src = i.original_src), !i.paused || !f.shouldRestartContent()) {
                      t.next = 23;
                      break
                    }
                    return H("Lifecycle.teardown(:toggle_play, %s)", "attempting to restart content"), t.next = 23, i.togglePlay(!0);
                  case 23:
                    if(i.paused) {
                      t.next = 26;
                      break
                    }
                    return H("Lifecycle.teardown(:ok)", "restarted video content"), t.abrupt("return", e.on_content_playing(n));
                  case 26:
                  case "end":
                    return t.stop()
                }
              }), t, this)
            }))), function(e) {
              return r.apply(this, arguments)
            })
          }, {
            key: "on_content_playing",
            value: function(e) {
              e.removeClass("is-seamless")
            }
          }, {
            key: "maybe_blocked",
            value: function(e) {
              H("google.ima not found in window"), [].slice.call(document.getElementsByTagName("script")).filter((function(e) {
                return t = e.src, (r = document.createElement("a")).href = t, "imasdk.googleapis.com/js/sdkloader/ima3.js" == "".concat(r.host).concat(r.pathname);
                var t, r
              })).length > 0 && e.emit(b.a.AD_BLOCKED)
            }
          }, {
            key: "peek_content",
            value: (t = h()(d.a.mark((function t(r, n) {
              var i, a, o, s, u, l;
              return d.a.wrap((function(t) {
                for(;;) switch(t.prev = t.next) {
                  case 0:
                    return i = [r.muted, r.volume], H("LifeCycle::peek_content(:muted => %s, :volume => %s)", a = i[0], o = i[1]), s = function() {
                      return new Promise((function(e) {
                        return setTimeout(e, 0, !1)
                      }))
                    }, u = function() {
                      return new Promise((function(e) {
                        return setTimeout((function() {
                          return e(r.play())
                        }))
                      }))
                    }, l = function() {
                      return new Promise((function(e) {
                        return setTimeout((function() {
                          return e(r.pause())
                        }))
                      }))
                    }, n && (r.muted = !1, r.volume = r.volume ? r.volume : 1), t.prev = 6, t.next = 9, e.wait_for_source(r);
                  case 9:
                    return r.volume && (r.volume = .01), H("LifeCycle::peek_content::play"), t.next = 13, u();
                  case 13:
                    return H("LifeCycle::peek_content::pause"), t.next = 16, l();
                  case 16:
                    return r.volume = o, H("LifeCycle::peek_content::true"), t.abrupt("return", !0);
                  case 21:
                    if(t.prev = 21, t.t0 = t.catch(6), r.volume = o, !n) {
                      t.next = 30;
                      break
                    }
                    return r.muted = !1, 0 == r.volume && (r.volume = 1), t.next = 29, s();
                  case 29:
                    return t.abrupt("return", t.sent);
                  case 30:
                    if(!a && o) {
                      t.next = 35;
                      break
                    }
                    return H("LifeCycle::peek_content::false"), t.next = 34, s();
                  case 34:
                    return t.abrupt("return", t.sent);
                  case 35:
                    return H("LifeCycle::peek_content::recover"), r.muted = !0, t.next = 39, e.peek_content(r);
                  case 39:
                    if(!t.sent) {
                      t.next = 41;
                      break
                    }
                    return t.abrupt("return", !0);
                  case 41:
                    return r.muted = a, H("LifeCycle::peek_content::false"), t.next = 45, s();
                  case 45:
                    return t.abrupt("return", t.sent);
                  case 46:
                  case "end":
                    return t.stop()
                }
              }), t, this, [
                [6, 21]
              ])
            }))), function(e, r) {
              return t.apply(this, arguments)
            })
          }, {
            key: "wait_for_source",
            value: function(e) {
              return H("LifeCycle::wait_for_source"), new Promise((function(t, r) {
                var n = 0,
                  i = setInterval((function() {
                    if(++n > 40) return clearInterval(i), r(new Error("No source in ".concat(2e3, "ms, giving up")));
                    e.currentSrc && (t(), clearInterval(i))
                  }), 50)
              }))
            }
          }]), e
        }();
      W.TERMINAL_EVENTS = q;
      var z = r(51),
        Y = r(20),
        X = "function" == typeof requestAnimationFrame ? requestAnimationFrame : setTimeout;

      function Q(e) {
        var t = 0,
          r = null;
        return function() {
          for(var n = arguments.length, i = new Array(n), a = 0; a < n; a++) i[a] = arguments[a];
          var o = Date.now() - t;
          null === r && (r = X((function() {
            r = null, e.apply(void 0, i), t = Date.now()
          }), 16 - o))
        }
      }
      r(105);
      var J = r(30),
        Z = r(46),
        $ = r(50),
        ee = r(7)("fpads:native:outstream"),
        te = {
          OUTSTREAM_VISIBLE: "ads-outstream-visible",
          OUTSTREAM_VIEWPORT_UPDATE: "ads-outstream-viewport-update",
          OUTSTREAM_TEARDOWN: "ads-outstream-teardown",
          OUTSTREAM_ENDSCREEN_READY: "ads-outstream-endscreen-ready"
        },
        re = function() {
          function e(t) {
            var r = this,
              n = t.ads,
              i = t.container,
              a = t.video,
              o = t.ima;
            v()(this, e), n.outstream = this, this.video = a, this.ads = n, this.container = i, this.ima = o, this.aspect_ratio = i.aspect_ratio.style.paddingTop, this.dimensions = function(e) {
              if(e.clientWidth > 0 || e.clientHeight) return j(e);
              var t = {
                height: e.style.height
              };
              G(e, "opacity", 0), G(e, "display", "absolute"), G(e, "display", "inline-block"), G(e, "height", "auto");
              var r = j(e);
              return G(e, "height", t.height), G(e, "opacity", 1), r
            }(this.container), ee("creating Outstream instance"), this.hide(), this.poll_viewport_exit = e.fps_60_visibilty_checker({
              outstream: this
            }), this.setup();
            var s = Object($.a)(this.container, function() {
              var e = h()(d.a.mark((function e(t) {
                return d.a.wrap((function(e) {
                  for(;;) switch(e.prev = e.next) {
                    case 0:
                      if(t) {
                        e.next = 2;
                        break
                      }
                      return e.abrupt("return");
                    case 2:
                      return s(), e.next = 5, r.begin_life_cycle();
                    case 5:
                    case "end":
                      return e.stop()
                  }
                }), e, this)
              })));
              return function(t) {
                return e.apply(this, arguments)
              }
            }())
          }
          var t;
          return m()(e, null, [{
            key: "of",
            value: function(t) {
              return new e(t)
            }
          }, {
            key: "fps_60_visibilty_checker",
            value: function(e) {
              var t = e.outstream;
              return Q((function() {
                if(!t.disposed) {
                  var e = t.percent_in_viewport();
                  if(t.ads.emit(te.OUTSTREAM_VIEWPORT_UPDATE, {
                      percent: e
                    }), !(e > .5 && t.ads.adPlaying)) return e > .5 ? t.ads.resume() : void t.ads.pause()
                }
              }))
            }
          }]), m()(e, [{
            key: "hide",
            value: function() {
              return this
            }
          }, {
            key: "restore_aspect_ratio",
            value: function() {
              return ee("Outstream.restore_aspect_ratio(".concat(this.aspect_ratio, ")")), this.container.aspect_ratio.style.paddingTop = this.aspect_ratio, this
            }
          }, {
            key: "percent_in_viewport",
            value: function() {
              return e = this.video.root.getBoundingClientRect(), t = window.innerHeight, (r = e.y) > t || r + e.height < 0 ? 0 : e.y < 0 ? (e.height + r) / e.height : t - e.y > e.height ? 1 : Math.abs((t - e.y) / e.height);
              var e, t, r
            }
          }, {
            key: "show",
            value: function() {
              this.container.removeClass(e.CLASS.HIDDEN), this.container.addClass(e.CLASS.SHOWING), this.ui.toggle({
                linear: !0,
                on: !0
              })
            }
          }, {
            key: "begin_life_cycle",
            value: (t = h()(d.a.mark((function e() {
              var t, r, n, i, o, s = this;
              return d.a.wrap((function(e) {
                for(;;) switch(e.prev = e.next) {
                  case 0:
                    return e.next = 2, J.a(!1);
                  case 2:
                    return t = e.sent, r = t.error, n = t.result, e.next = 7, J.a(!0);
                  case 7:
                    return i = e.sent, o = i.result, this.attach_ad_listeners(), this.ui.initial = {
                      can_autoplay: !(!n && !o),
                      muted: !n
                    }, ee("Outstream.show() :autoplay >> ", this, {
                      error: r,
                      can_autoplay_audio: n
                    }), r && this.video && !n && (this.video.muted = !0, this.video.volume = 0), e.next = 15, this.ads.setVideoTag(this.video);
                  case 15:
                    return this.ads.on(b.a.AD_PAUSE_CONTENT, (function(e) {
                      var t = e.linear;
                      s.ads.resize({
                        width: s.dimensions.width,
                        height: s.dimensions.height,
                        linear: t
                      })
                    })), e.next = 18, W.start({
                      ads: this.ads,
                      content: this.video,
                      adContainer: this.adContainer,
                      ima: this.ima,
                      state: {},
                      opts: a()({}, this.video.opts, {
                        muted: !0,
                        dimensions: this.dimensions
                      })
                    });
                  case 18:
                    W.update_time({
                      content: this.video,
                      ads: this.ads,
                      ui: this.ui
                    });
                  case 19:
                  case "end":
                    return e.stop()
                }
              }), e, this)
            }))), function() {
              return t.apply(this, arguments)
            })
          }, {
            key: "attach_ad_listeners",
            value: function() {
              var e = this,
                t = this,
                r = t.ads;
              r.once(b.a.AD_PAUSE_CONTENT, (function() {
                t.show(), t.poll_viewport_exit(), document.addEventListener("scroll", t.poll_viewport_exit), window.emit("resize")
              })), t.ima.always_show_controls || r.on(b.a.VPAID_INIT, (function() {
                return t.ui.addClass("is-vpaid")
              }));
              var n = function r(n) {
                W.TERMINAL_EVENTS.forEach((function(e) {
                  return t.ads.removeListener(e, r)
                }));
                var i, a, o = (i = te.OUTSTREAM_TEARDOWN, (a = document.createEvent("Event")).initEvent(i, !1, !0), a);
                ee("Outstream(:teardown)", o), e.video.dispatchEvent(o)
              };
              W.TERMINAL_EVENTS.forEach((function(e) {
                return t.ads.once(e, n)
              })), this.video.one(te.OUTSTREAM_TEARDOWN, (function(e) {
                setTimeout((function() {
                  if(e.defaultPrevented) return t.handle_endscreen();
                  t.dispose()
                }), 0)
              }))
            }
          }, {
            key: "handle_endscreen",
            value: function() {
              this.reset_ui(), this.ads.reset(), this.ui.wireup(), W.ui_listeners(a()({}, this, {
                content: this.video,
                root: this.video.root,
                state: {
                  started: !0
                },
                initial: {
                  muted: !0
                }
              }))
            }
          }, {
            key: "empty_src",
            value: function() {
              this.video.setSrc({
                type: "video/mp4",
                src: URL.createObjectURL(Z.a)
              })
            }
          }, {
            key: "setup",
            value: function() {
              this.container.addClass(e.CLASS.IS), this.container.addClass(e.CLASS.HIDDEN), this.empty_src(), this.ui = B.of({
                root: this.video.root,
                content: this.video,
                ads: this.ads,
                config: this.video.opts
              }), this.adContainer = this.ui.adContainer
            }
          }, {
            key: "poll_viewport_exit",
            value: function() {
              this.ads.adPlaying && this.ads.pause()
            }
          }, {
            key: "reset_ui",
            value: function() {
              var t = this.container;
              t.removeClass(e.CLASS.SHOWING), t.removeClass(e.CLASS.IS), document.removeEventListener("scroll", this.poll_viewport_exit), this.ui.toggle({
                on: !1
              })
            }
          }, {
            key: "dispose",
            value: function() {
              if(!this.disposed) {
                var t = this.container,
                  r = this.video;
                this.reset_ui(), t.addClass(e.CLASS.IS), t.addClass(e.CLASS.DONE), this.video = this.container = this.ads = 0, this.disposed = 1, r.destroy()
              }
            }
          }]), e
        }();
      re.CLASS = {
        IS: "is-outstream",
        HIDDEN: "is-outstream-hidden",
        SHOWING: "is-outstream-visible",
        DONE: "is-outstream-done"
      }, re.events = re.EVENT = te;
      var ne = r(9);

      function ie(e, t, r) {
        if(!("google" in window)) return W.maybe_blocked(r);
        var i = e.autoplay;
        r.autoplay = e.autoplay = !1;
        var o = r.ads = new z.a,
          s = o.analytics = Object(Y.b)(o),
          u = !1;
        o.resize(j(t)), flowplayer.ads || (flowplayer.ads = {}), flowplayer.ads.version = "1.14.10", flowplayer.ads.commit = "c08147f294cc39d34d7e3ba48ebb116af284181d", flowplayer.ads.events = b.a, flowplayer.ads.ui = n, flowplayer.support().ios && (r.on([flowplayer.events.FULLSCREEN_ENTER, flowplayer.events.FULLSREEN_EXIT, "webkitendfullscreen"], (function(e) {
          var t = e.type === flowplayer.events.FULLSCREEN_ENTER;
          r.ads.adapter.setIOSPlaysInline(!t)
        })), o.on(b.a.AD_POSTROLL_FINISHED, (function() {
          o.adapter.sharedVideoTag && o.once(b.a.AD_BREAK_COMPLETED, (function() {
            r.src = r.original_src, r.one(flowplayer.events.CAN_PLAY, (function(e) {
              r.pause()
            })), r.webkitExitFullscreen()
          }))
        }))), flowplayer.Outstream = re, r.on(flowplayer.events.REAP, (function() {
          o && o.destroy(), s = o = void 0
        })), r.on(flowplayer.events.CONFIG, (function(n) {
          var l = n.data,
            c = l.ima || {};
          if(!Array.isArray(c.ads)) return e.autoplay = i;
          var d = l.duration || r.duration;
          if(c.ads = function(e, t) {
              return Array.isArray(e) && e.map((function(e, r) {
                return "number" == typeof e.time || e.lazy ? e : isNaN(e.percentage) ? (console.warn("Ad[index: ".concat(r, "] passed without 'time' property or 'percentage' properties")), e) : isNaN(t) ? (console.warn("Ad[index: ".concat(r, "] passed with 'percentage' property but both content and config 'duration' was ").concat(t)), e) : "number" == typeof e.percentage ? (e.time = Math.floor(e.percentage * t), e) : e
              }), [])
            }(c.ads, d), o.setSchedule(c.ads, d), l.metadata && Y.a.mergeMetadata(s, l.metadata), l.metadata && o.mergeMacros(l.metadata), l.metadata && c.parameters && (c.parameters = a()({}, c.parameters, l.metadata)), Y.a.mergeMetadata(s, {
              muted: l.muted || !1,
              autoplay: l.autoplay || !1
            }), !u) {
            if(u = !0, e.lang && !c.Locale && (c.Locale = e.lang), ne.a.isOutstream(c.ads)) return re.of({
              container: t,
              video: r,
              ads: o,
              ima: c
            });
            W.init({
              config: a()({}, e, {
                autoplay: i
              }),
              root: t,
              content: r,
              ads: o,
              ima: c
            })
          }
        }))
      }
      Object.assign(b.a, re.events), window.addEventListener("resize", Q((function() {
        null != ("undefined" == typeof flowplayer ? "undefined" : s()(flowplayer)) && Array.isArray(flowplayer.instances) && flowplayer.instances.forEach((function(e) {
          return e.ads && e.ads.resize(j(e))
        }))
      }))), ie.events = b.a, ie.ui = n, ie.Outstream = re, ie.version = "1.14.10", ie.commit = "c08147f294cc39d34d7e3ba48ebb116af284181d"
    }, function(e, t) {
      e.exports = function(e, t) {
        if(null == e) return {};
        var r, n, i = {},
          a = Object.keys(e);
        for(n = 0; n < a.length; n++) r = a[n], t.indexOf(r) >= 0 || (i[r] = e[r]);
        return i
      }
    }, function(e, t, r) {
      var n = r(98);
      "string" == typeof n && (n = [
        [e.i, n, ""]
      ]), r(19)(n, {
        insert: "head",
        singleton: !1
      }), n.locals && (e.exports = n.locals)
    }, function(e, t, r) {
      (e.exports = r(18)(!1)).push([e.i, '.fp-ad-container .fp-color{background-color:#ffd700}.fp-ad-container .fp-color-text{color:#ffd700;font-weight:700;line-height:1.8em}.fp-ad-container{position:absolute;z-index:-1;background:#333;top:0;left:0;right:0;bottom:0;opacity:0}.fp-ad-controls{position:absolute;direction:ltr;top:100%;left:0;margin-top:-3.2em;height:3em;z-index:1000;display:none;padding:0.72em 0em 0.72em 2em;justify-content:space-between;align-items:center;font-weight:500;text-align:right}.fp-ad-controls .fp-volumebtn:after{filter:drop-shadow(0 0 2px rgba(0,0,0,0.4))}.fp-ad-controls .fp-secondary{filter:drop-shadow(0 0 2px rgba(0,0,0,0.4));position:relative;left:0;top:0}.is-small .ad-indicator{display:none}.is-small .fp-ad-controls>*{transform:scale(0.8)}.is-tiny .fp-ad-controls>*{transform:scale(0.7)}.fp-ad-controls .fp-fullscreen,.fp-ad-controls .fp-fullscreen-exit{visibility:visible !important}.fp-ad-controls .fp-fullscreen,.fp-ad-controls .fp-fullscreen-exit,.fp-ad-controls .fp-secondary{height:1.8em;width:auto}.fp-ad-controls .fp-volumebtn{margin-right:2.38em}.fp-ad-controls .fp-btns,.fp-ad-controls .ad-indicator,.fp-ad-controls .fp-volume{margin-right:1em}.no-fullscreen .fp-ad-controls .fp-fullscreen,.no-fullscreen .fp-ad-controls .fp-fullscreen-exit{visibility:hidden !important;height:0;width:0}.fp-ad-controls .ad-indicator:before{margin-right:0.5em}.fp-ad-controls .fp-volumebtn{width:1.12em}.fp-ad-controls .fp-volume{display:none;margin-left:-2.0em}.ad-volume-bar .fp-volume{display:flex}.fp-ad-controls .fp-volumebtn svg{height:1.8em}.fp-ad-controls .fp-volumebtn:after{font-size:230% !important;line-height:inherit !important}.fp-ad-controls .fp-btns{width:1.8em}.fp-ad-controls .fp-btns>svg{display:none}.fp-ad-remaining:after{content:"";margin-left:0.5em;margin-right:0.5em}.fp-ad-progress-wrapper{direction:ltr}.fp-ad-progress{height:0.2em;top:100%;margin-top:-0.2em;width:0%;position:absolute;transition:width .2s}.logo-on-right .fp-secondary>*{margin:0}.fp-ad-choises-icon{display:none}.is-ad-attribution .fp-ad-container::after{content:"Advertisement";position:absolute;width:100%;text-align:center;z-index:10;color:gray;background-color:rgba(255,255,255,0.2);font-size:11px;font-weight:500}.is-ad-choices .fp-ad-choices{position:absolute;width:77px;height:15px;right:0;border-bottom-left-radius:8px;padding-left:5px;color:black;background-color:rgba(255,255,255,0.7);font-size:11px;font-weight:500;z-index:11}.is-ad-choices .fp-ad-choices::after{content:" ";background-image:url("data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI1MDAiIHZpZXdCb3g9Ii4yIDAgMTkuNCAyMCIgd2lkdGg9IjI0MDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTIuMiAyMGMxIDAgMS43LS41IDIuNC0uOS42LS4zIDEuMi0uNyAxLjktMSAzLjItMS43IDYuNC0zLjUgOS42LTUuMyAxLS41IDIuMy0xIDMtMS45LjItLjMuNS0uNy40LTEuMi0uMy0xLjEtMS43LTEuNS0yLjYtMi0yLjItMS4yLTQuNS0yLjUtNi43LTMuNy0uOC0uNS0yLTEuNC0zLS43LS40LjItLjYuNC0uNy43LS4xLjQgMCAuOSAwIDEuM3YzLjJjMCAuOS0uMSAxLjYuNSAyIC4yLjEuNi4yLjkuMSAxLS40LjctMi4yLjctMy42di0xLjFjMS43LjkgMy40IDEuOCA1LjEgMi42LjYuMyAxLjYuNiAxLjggMS40LjIuOS0xLjcgMS42LTIuMyAxLjlsLTYuOSAzLjljLS41LjMtMS44IDEuMy0yLjYgMS0uMy0uMS0uNS0uNC0uNS0uNi0uMS0uNC0uMS0xLS4xLTEuNXYtMy4yLTUuNGMwLS44LS4xLTEuOC4yLTIuMy43LTEgMi4zLjggMi44LS44LjEtLjQtLjEtLjgtLjMtMS0uNC0uNi0yLjItMS41LTIuOS0xLjctLjItLjEtLjctLjItMS0uMi0xLjcuMy0xLjMgMy0xLjMgNXY5LjljMCAxLjUtLjIgMy41LjQgNC40LjMuNS42LjUgMS4yLjd6bTUuMi02LjVjMS41IDAgMS42LTEuOS4yLTIuMi0uOC0uMS0xLjQuNy0xLjIgMS40LjIuNS41LjYgMSAuOHoiIGZpbGw9IiMwMGFlY2QiLz48L3N2Zz4=");background-size:contain;display:inline-block;position:absolute;width:13px;height:13.747px;right:1px;top:1px}.ad-hide-first-frame .fp-wait{opacity:1}.ad-hide-first-frame .fp-engine{display:none}.ad-hide-first-frame>.fp-ui .fp-switch{display:none}\n', ""])
    }, function(e, t, r) {
      var n = r(100);
      "string" == typeof n && (n = [
        [e.i, n, ""]
      ]), r(19)(n, {
        insert: "head",
        singleton: !1
      }), n.locals && (e.exports = n.locals)
    }, function(e, t, r) {
      (e.exports = r(18)(!1)).push([e.i, ".is-ad-linear .fp-ad-container{z-index:1;opacity:1}.is-ad-linear.is-hovered .fp-ad-controls,.is-ad-linear.is-ad-controls-sticky .fp-ad-controls,.is-ad-linear .ad-paused .fp-ad-controls{display:flex}.is-ad-linear .fp-ad-container.ad-ui-disabled .fp-ad-controls,.is-ad-linear .fp-ad-container.ad-ui-disabled .fp-ad-progress{display:none !important}.ad-paused .fp-ad-controls .fp-btns svg.fp-small-play{display:inline}.ad-paused .fp-ad-controls .fp-btns svg.fp-small-pause{display:none}.ad-playing .fp-ad-controls .fp-btns svg.fp-small-pause{display:inline}.ad-playing .fp-ad-controls .fp-btns svg.fp-small-play{display:none}.fp-ad-container.ad-paused .fp-wait,.fp-ad-container.ad-playing .fp-wait{display:none !important}.fp-ad-container.is-waiting .fp-ad-controls,.fp-ad-container.is-waiting .fp-ad-progress{display:none}.fp-ad-container.is-waiting .fp-wait{position:absolute;height:2em;opacity:1;top:50%;z-index:1;width:4em;left:50%;margin-left:-2em;margin-top:-1em}\n", ""])
    }, function(e, t, r) {
      var n = r(102);
      "string" == typeof n && (n = [
        [e.i, n, ""]
      ]), r(19)(n, {
        insert: "head",
        singleton: !1
      }), n.locals && (e.exports = n.locals)
    }, function(e, t, r) {
      (e.exports = r(18)(!1)).push([e.i, ".is-ad-nonlinear .fp-ad-controls,.is-ad-nonlinear .fp-ad-progress{display:none}.is-ad-nonlinear .fp-ad-container{background:transparent}.is-ad-nonlinear.is-ad-showing .fp-ad-container{left:0%;top:100%;width:100%;z-index:1;opacity:1}.is-ad-nonlinear.is-ad-showing .fp-ad-wrapper{position:relative}.is-ad-nonlinear.is-ad-showing .fp-ad{margin:0 auto}\n", ""])
    }, function(e, t, r) {
      var n = r(104);
      "string" == typeof n && (n = [
        [e.i, n, ""]
      ]), r(19)(n, {
        insert: "head",
        singleton: !1
      }), n.locals && (e.exports = n.locals)
    }, function(e, t, r) {
      (e.exports = r(18)(!1)).push([e.i, ".fp-ad-container.is-vpaid .fp-ad-controls{display:none}\n", ""])
    }, function(e, t, r) {
      var n = r(106);
      "string" == typeof n && (n = [
        [e.i, n, ""]
      ]), r(19)(n, {
        insert: "head",
        singleton: !1
      }), n.locals && (e.exports = n.locals)
    }, function(e, t, r) {
      (e.exports = r(18)(!1)).push([e.i, ".flowplayer.is-outstream{background:transparent}.flowplayer.is-outstream .fp-ui{visibility:hidden}.flowplayer.is-outstream-hidden>video,.flowplayer.is-outstream-done>video{display:none}.flowplayer.is-outstream-visible{height:auto}.flowplayer.is-outstream-visible .fp-ad-container{left:0px;top:0px}\n", ""])
    }, , , , , function(e, t, r) {
      r(53), r(71), r(73), r(75), e.exports = r(95)
    }]).default
  })));

  function Bi(e, t, r) {
    if(!Qe.from_token(e.token).is_granted(Qe.permissions.ADS)) return;
    const {
      samsung_tv: n,
      fb_ios: i
    } = N();
    return n || i ? void 0 : Ui(e, t, r)
  }
  return Ge(window, r(Bi, Ui)), void 0 !== window.flowplayer && (window.flowplayer.AdEvents = Ui.events), window && "function" != typeof window.flowplayer && (Je(Nn, Pi, Bi), n(Je, {
    hls: Nn,
    ads: Bi,
    ovp: Pi
  })), Je
}));
