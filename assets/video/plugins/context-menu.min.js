!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e="undefined"!=typeof globalThis?globalThis:e||self).flowplayer=e.flowplayer||{},e.flowplayer.context_menu=t())}(this,(function(){"use strict";const e=[].slice;const t=!!function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e}()&&{passive:!0},n=["touchstart","touchmove"];function r(e){var r=e;return r.emit=function(e,t,n={}){const o=function(e){const t=document.createEvent("Event");return t.initEvent(e,!1,!0),t}(e);return t&&function(e,t,...n){for(const n in t)e[n]=t[n]}(o,{data:t||{}}),r.dispatchEvent(o),!1===n.return_self?o:r},r.on=function(e,o){return"string"==typeof e&&(e=e.split(" ")),e.forEach((function(e){return function(e){return~n.indexOf(e)}(e)?r.addEventListener(e,o,t):r.addEventListener(e,o)})),r},r.off=function(e,t){return r.removeEventListener(e,t),r},r.one=r.once=function(e,t){return r.on(e,(function n(o){r.off(e,n),t(o)}))},r}const o=Array.isArray,i="undefined"!=typeof window&&r(window),s="undefined"!=typeof document&&r(document),f=["span","a","em","p","i"];function u(e,t,n){var r=a(document.createElement(e));if(o(t)&&(n=t,t=!1),n||(n=[]),n&&!o(n)&&(n=[n]),n.length&&n.filter(e=>!!e).forEach(e=>r.append(e)),"object"!=typeof t)return r;for(var i in t)i in r?r[i]=t[i]:r.setAttribute(i,t[i]);return r}function c(t){var n=t.tagName;t.__flowplayer__=1,t.find=function(e){var n=t.querySelector(e);return n?a(n):n},t.html=function(e){return t.innerHTML=e,t},t.empty=function(){return t.innerHTML="",t},t.offset=function(){var e={top:0,left:0},n=t;do{e.left+=n.offsetLeft||0,e.top+=n.offsetTop||0}while(n=n.offsetParent);return e},t.innerWidth=function(){var e=getComputedStyle(t);return t.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)};var r=t.insert=function(e,n){return n?o(n)?n.map((function(n){return t.insert(e,n)}))[0]:a(n="string"==typeof n?t.insertAdjacentHTML(e,n):t.insertAdjacentElement?t.insertAdjacentElement(e,n):t.appendChild(n)):n};return t.append=r.bind(t,"beforeend"),t.prepend=r.bind(t,"afterbegin"),t.css=function(e,n){if("object"==typeof e){for(const n in e)t.css(n,e[n]);return t}return void 0===n&&"string"==typeof e?getComputedStyle(t)[e]:("number"==typeof n&&(n+="px"),t.style[e]=n,t)},t.show=function(){return t.css({display:~f.indexOf(n)?"inline":"block"})},t.hide=function(){return t.css({display:"none"})},t.remove=function(){var e=t.parentNode;e&&e.removeChild(t)},t.attr=function(e,n){return null==n?t.getAttribute(e):(t.setAttribute(e,n),t)},t.txt=function(e){return t.textContent=e,t},t.fp=function(e){return t.addClass("fp-"+e)},t.addClass=function(e){return e.split(" ").forEach((function(e){t.hasClass(e)||(t.className+=(t.className?" ":"")+e)})),t},t.removeClass=function(e){const n=e.split(" ");var r=t.className.split(" ");return t.className=r.filter((function(e){return!~n.indexOf(e)})).join(" "),t},t.toggleClass=function(e,n){return void 0===n&&(n=!t.hasClass(e)),n?t.addClass(e):t.removeClass(e)},t.findAll=function(n){return r=t.querySelectorAll(n),e.call(r);var r},t.hasClass=function(e){return~t.className.split(" ").indexOf(e)},t}function a(e){return void 0===e||function(e){return e&&e.__flowplayer__}(e)?e:c(r(e))}function l(e,t){if("string"==typeof e&&"<"==e[0])return u(e.slice(1,-1),t);if("string"!=typeof e)return a(e);var n=t instanceof HTMLElement&&t.querySelector(".fp-"+e)||document.querySelector(e);return n?a(n):void 0}const d=e=>(t,n)=>("string"==typeof t&&(t={class:t}),u(e,t,n));Object.assign(l,{div:d("div"),img:d("img"),li:d("li"),ol:d("ol"),span:d("span"),p:d("p"),i:d("i"),a:d("a"),el:u,document:s,window:i});var p=function(e){const t={val:e};return function(e){return void 0!==e&&(t.val=e),t.val}}(),v=[{text:"Flowplayer Â© "+(new Date).getFullYear()},{href:"https://flowplayer.com",text:"About this player"},{href:"https://flowplayer.com/license/",text:"GPL based license"}];function m(e){if(e.html)return l(e.html);var t=this,n=e.onclick;e.class&&e.class,e.href&&e.href;var r=e.href?l.a(e):l.span(e);return e.text&&r.txt(e.text),n&&r.on("click",(function(e){n&&n(e,t)})),r}function y(e,t,n){if(~location.hostname.indexOf(".")||e.debug){var r=e.context_menu||v,o=t.ui.append(l.div("fp-context-menu fp-menu",r.map(m,n)));t.ui.on("contextmenu",(function(e){if(o.parentNode){e.preventDefault(),n.emit("contextmenu");var r=t.offset();o.css({left:e.clientX-window.scrollX-r.left+2,top:e.clientY+window.scrollY-r.top-5}),o.hasClass("fp-active")||(o.addClass("fp-active"),p(o))}}))}}return l.document.on(["click","keyup"],(function(e){var t=p();t&&3!=e.which&&t.removeClass("fp-active")})),function(e,t){if("object"==typeof exports&&"undefined"!=typeof module)return t;"flowplayer"in e||(e.flowplayer={extensions:[]});var n=e.flowplayer;"function"==typeof n?n(t):(Array.isArray(n.extensions)||(n.extensions=[]),~n.extensions.indexOf(t)||n.extensions.push(t))}(window,y),y}));
