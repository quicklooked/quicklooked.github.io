!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):((e="undefined"!=typeof globalThis?globalThis:e||self).flowplayer=e.flowplayer||{},e.flowplayer.iframe=n())}(this,(function(){"use strict";function e(e,n,t){const o=function(e){return Array.isArray(e)?e.slice(0):e.split(".")}(n);for(;o.length;){if(null==e)return t;const n=o.shift();if("string"!=typeof n)return t;e=e[n]}return null==e?t:e}function n(e,n,t){t.setOpts({auto_orient:!1}),t.on("fullscreenenter",(function(){document.fullscreenEnabled||(t.webkitEnterFullscreen(),t.one("webkitendfullscreen",(function(){t.emit("fullscreenexit")})),t.on("ended",(function(){t.webkitExitFullscreen()})))}))}(function(){try{return window.self!==window.top}catch(e){return!0}})()&&(!function(e,n){if("object"==typeof exports&&"undefined"!=typeof module)return n;"flowplayer"in e||(e.flowplayer={extensions:[]});var t=e.flowplayer;"function"==typeof t?t(n):(Array.isArray(t.extensions)||(t.extensions=[]),~t.extensions.indexOf(n)||t.extensions.push(n))}(window,n),window.addEventListener("message",(function(t){if(n.is_flowplayer_message(t.data)){var o=e(window,"flowplayer.instances",[]),i=e(o,"0");if(i)switch(o.length>1&&console.warn("Multiple player instances in iframe. Messaging supported with first instance only."),n.message_body(t.data)){case"pause":return i.togglePlay(!1);case"play":return i.togglePlay(!0)}}})));return n.is_flowplayer_message=function(e){return"string"==typeof e&&"flowplayer://"==e.slice(0,"flowplayer://".length)},n.message_body=function(e){return e.slice("flowplayer://".length)},n}));
