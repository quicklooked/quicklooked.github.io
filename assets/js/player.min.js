var player = document.querySelector(".player");
var play = document.querySelector(".play");
var video = document.getElementById("quickplayer");
var vp_controls = document.querySelector(".vp-controls");
var vp_preview = document.querySelector(".vp-preview");
var vp_spin = document.querySelector(".vp-spin");

function loadStart() {
  vp_spin.classList.remove("vp-spin-invisible");
}

function canPlay() {
  vp_spin.classList.add("vp-spin-invisible");
}

function videoplay() {
  if (video.paused) {
    video.play();
    vp_controls.classList.remove("controls-outro");
    play.classList.remove("state-paused");
    vp_preview.classList.toggle("vp-preview-invisible");
    play.classList.toggle("state-playing");
  } else {
    video.pause();
    play.classList.remove("state-playing");
    vp_preview.classList.toggle("vp-preview-invisible");
    play.classList.toggle("state-paused");
  }
}

function videoended() {
  vp_preview.classList.toggle("vp-preview-invisible");
  play.classList.remove("state-playing");
  play.classList.toggle("state-paused");
  vp_controls.classList.toggle("controls-outro");
} 

play.addEventListener("click", videoplay, false);
video.addEventListener("click", videoplay);
video.addEventListener("ended", videoended);
video.addEventListener("loadstart", loadStart);
video.addEventListener("canplay", canPlay);
